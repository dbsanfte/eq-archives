<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
 <title>#6 (Database provides no protection against duplicate events.) - EQdkp - Trac</title><link rel="start" href="/cgi-bin/trac.cgi/wiki" /><link rel="search" href="/cgi-bin/trac.cgi/search" /><link rel="help" href="/cgi-bin/trac.cgi/wiki/TracGuide" /><link rel="stylesheet" href="/cgi-bin/trac.cgi/chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="/cgi-bin/trac.cgi/chrome/common/css/ticket.css" type="text/css" /><link rel="icon" href="/cgi-bin/trac.cgi/chrome/common/trac.ico" type="image/x-icon" /><link rel="shortcut icon" href="/cgi-bin/trac.cgi/chrome/common/trac.ico" type="image/x-icon" /><style type="text/css">
</style>
 <script type="text/javascript" src="/cgi-bin/trac.cgi/chrome/common/js/trac.js"></script>
</head>
<body>


<div id="banner">

<div id="header"><a id="logo" href="http://eqdkp.com/cgi-bin/trac.cgi"><img src="/cgi-bin/trac.cgi/chrome/common/trac_banner.png" width="236" height="73" alt="EQdkp Trac" /></a><hr /></div>

<form id="search" action="/cgi-bin/trac.cgi/search" method="get">
 <div>
  <label for="proj-search">Search:</label>
  <input type="text" id="proj-search" name="q" size="10" accesskey="f" value="" />
  <input type="submit" value="Search" />
  <input type="hidden" name="wiki" value="on" />
  <input type="hidden" name="changeset" value="on" />
  <input type="hidden" name="ticket" value="on" />
 </div>
</form>



<div id="metanav" class="nav"><ul><li class="first"><a href="/cgi-bin/trac.cgi/login">Login</a></li><li><a href="/cgi-bin/trac.cgi/settings">Settings</a></li><li class="last"><a href="/cgi-bin/trac.cgi/about">About Trac</a></li></ul></div>
</div>

<div id="mainnav" class="nav"><ul><li class="first"><a href="/cgi-bin/trac.cgi/roadmap" accesskey="3">Roadmap</a></li><li class="active"><a href="/cgi-bin/trac.cgi/report">View Tickets</a></li><li><a href="/cgi-bin/trac.cgi/newticket" accesskey="7">New Ticket</a></li><li class="last"><a href="/cgi-bin/trac.cgi/search" accesskey="4">Search</a></li></ul></div>
<div id="main">




<div id="ctxtnav" class="nav">
 <h2>Ticket Navigation</h2>
</div>

<div id="content" class="ticket">

 <h1>Ticket #6 (defect)</h1>

<div id="searchable">
<div id="ticket">
 <div class="date">
  <p title="11/21/05 22:25:43">Opened 6 months ago</p>
   <p title="03/30/06 09:45:19">Last modified 2 months ago</p>
  
 </div>
 <h2 class="summary">Database provides no protection against duplicate events.</h2>
 <h3 class="status">Status: <strong>assigned</strong></h3>
 <table class="properties">
  <tr>
   <th id="h_reporter">Reported by:</th>
   <td headers="h_reporter">tsigo</td>
   <th id="h_owner">Assigned to:</th>
   <td headers="h_owner">thundarr (accepted)</td>
  </tr><tr>
    <th id="h_priority">Priority:</th>
    <td headers="h_priority">high</td>
    <th id="h_milestone">Milestone:</th>
    <td headers="h_milestone">1.4</td></tr><tr>
    <th id="h_component">Component:</th>
    <td headers="h_component">Core</td>
    <th id="h_version">Version:</th>
    <td headers="h_version">1.3.0p</td></tr><tr>
    <th id="h_severity">Severity:</th>
    <td headers="h_severity">normal</td>
    <th id="h_keywords">Keywords:</th>
    <td headers="h_keywords"></td></tr><tr>
    <th id="h_cc">Cc:</th>
    <td headers="h_cc"></td><th></th><td></td></tr>
 </table>
 <div class="description">
  <p>
The addevent script doesn't currently check for duplicate events before adding one. An admin could add an event with the same name and value as a previous event, and this ends up confusing scripts all over the place. It should not allow duplicate event titles, or at least not event titles with the same value as another event.
</p>
<p>
Mantis: 00000010.
</p>

 </div>
</div>


<h2>Attachments</h2>
  <form method="get" action="/cgi-bin/trac.cgi/attachment/ticket/6"><div>
   <input type="hidden" name="action" value="new" />
   <input type="submit" value="Attach File" />
  </div></form>


<h2>Change History</h2>
<div id="changelog">
  <h3 id="change_0" class="change">11/21/05 22:26:24: Modified by tsigo</h3>
   <ul class="changes">
    <li><strong>owner</strong> changed from <em>thundarr</em> to <em>tsigo</em>.</li>
    
    <li><strong>status</strong> changed from <em>new</em> to <em>assigned</em>.</li>
    
   </ul>
  <div class="comment"><p>
Easy fix in versions lower than 1.4, just add a UNIQUE index to the database (we should be doing this, not users).
</p>
<p>
Void in the Event-less future versions.
</p>
</div>
  <h3 id="change_1" class="change">11/21/05 22:45:47: Modified by tsigo</h3>
   <ul class="changes">
    <li><strong>owner</strong> changed from <em>tsigo</em> to <em>thundarr</em>.</li>
    
    <li><strong>status</strong> changed from <em>assigned</em> to <em>new</em>.</li>
    
   </ul>
  <div class="comment"></div>
  <h3 id="change_2" class="change">11/22/05 06:54:27: Modified by thundarr</h3>
  <div class="comment"><p>
I will but a unique index on eqdkp_events.event_name in 1.3.1
</p>
</div>
  <h3 id="change_3" class="change">11/22/05 06:54:33: Modified by thundarr</h3>
   <ul class="changes">
    <li><strong>status</strong> changed from <em>new</em> to <em>assigned</em>.</li>
    
   </ul>
  <div class="comment"></div>
  <h3 id="change_4" class="change">03/30/06 09:45:19: Modified by thundarr</h3>
  <div class="comment"><p>
Removing events altogether in 1.4, so this is a non-issue.  Adding a patch for 1.3 will happen in the next release (1.3.1)
</p>
</div></div>


<form action="/cgi-bin/trac.cgi/ticket/6#preview" method="post">
 <hr />
 <h3><a name="edit" onfocus="document.getElementById('comment').focus()">Add/Change #6 (Database provides no protection against duplicate events.)</a></h3>
 <div class="field">
  <label for="author">Your email or username:</label><br />
  <input type="text" id="author" name="author" size="40"
    value="anonymous" /><br />
 </div>
 <div class="field">
  <fieldset class="iefix">
   <label for="comment">Comment (you may use <a tabindex="42" href="/cgi-bin/trac.cgi/wiki/WikiFormatting">WikiFormatting</a> here):</label><br />
   <p><textarea id="comment" name="comment" class="wikitext" rows="10" cols="78"></textarea></p>
  </fieldset>
 </div>

 <fieldset id="properties">
  <legend>Change Properties</legend>
  <table><tr>
   <th><label for="summary">Summary:</label></th>
   <td class="fullrow" colspan="3"><input type="text" id="summary" name="summary" value="Database provides no protection against duplicate events." size="70" /></td>
   </tr>
   <tr>
    <th><label for="type">Type:</label></th>
    <td>
 <select size="1" id="type" name="type">
   <option selected="selected">defect</option>
   <option>enhancement</option>
   <option>task</option>
 </select>
    </td>
   </tr>
  <tr>
     <th class="col1"><label for="priority">Priority:</label></th>
     <td><select id="priority" name="priority"><option>highest</option><option selected="selected">high</option><option>normal</option><option>low</option><option>lowest</option></select></td>
     <th class="col2"><label for="milestone">Milestone:</label></th>
     <td><select id="milestone" name="milestone"><option></option><option selected="selected">1.4</option><option>2.0</option></select></td></tr><tr>
     <th class="col1"><label for="component">Component:</label></th>
     <td><select id="component" name="component"><option selected="selected">Core</option><option>Events</option><option>Installation</option><option>Items</option><option>Javascript</option><option>Log Parsing</option><option>Logging</option><option>Login/Logout</option><option>Members</option><option>News</option><option>Other</option><option>Performance</option><option>Raids</option><option>Registration</option><option>SOAP</option><option>Styles</option><option>Templates</option><option>Upgrading</option><option>Users</option></select></td>
     <th class="col2"><label for="version">Version:</label></th>
     <td><select id="version" name="version"><option></option><option>n/a</option><option>all</option><option>2.0</option><option>1.4</option><option>1.3.1</option><option selected="selected">1.3.0p</option><option>1.2.2</option></select></td></tr><tr>
     <th class="col1"><label for="severity">Severity:</label></th>
     <td><select id="severity" name="severity"><option>blocker</option><option>critical</option><option>major</option><option selected="selected">normal</option><option>minor</option><option>trivial</option></select></td>
     <th class="col2"><label for="keywords">Keywords:</label></th>
     <td><input type="text" id="keywords" name="keywords" value="" /></td></tr><tr>
     <th class="col1"><label for="cc">Cc:</label></th>
     <td><input type="text" id="cc" name="cc" value="" /></td><th class="col2"></th><td></td></tr>
  </table>
 </fieldset>

 
 <fieldset id="action">
  <legend>Action</legend>
  
   <input type="radio" id="leave" name="action" value="leave" checked="checked" />
   <label for="leave">leave as assigned</label><br />
   <input type="radio" id="resolve" name="action" value="resolve" />
   <label for="resolve">resolve</label>
    <label for="resolve_resolution">as:</label>
    
 <select size="1" id="resolve_resolution" name="resolve_resolution">
   <option>fixed</option>
   <option>invalid</option>
   <option>wontfix</option>
   <option>duplicate</option>
   <option>worksforme</option>
 </select><br />
   <input type="radio" id="reassign" name="action" value="reassign" />
   <label for="reassign">reassign</label>
   <label>to:
 <select size="1" id="reassign_owner" name="reassign_owner"><option></option>
   <option>eqdkp</option>
   <option>thundarr</option>
   <option>tsigo</option>
 </select></label>
   <script type="text/javascript">
     var leave = document.getElementById("leave");
     var resolve = document.getElementById("resolve");
     var reassign = document.getElementById("reassign");
     var updateActionFields = function() {
        enableControl('resolve_resolution', resolve.checked);
        enableControl('reassign_owner', reassign.checked);
     };
     addEvent(window, 'load', updateActionFields);
      addEvent(leave, 'click', updateActionFields);
      addEvent(resolve, 'click', updateActionFields);
      addEvent(reassign, 'click', updateActionFields);
   </script>
 </fieldset>

 <script type="text/javascript" src="/cgi-bin/trac.cgi/chrome/common/js/wikitoolbar.js"></script>

 <div class="buttons">
  <input type="hidden" name="ts" value="1143740719" />
  <input type="submit" name="preview" value="Preview" accesskey="r" />&nbsp;
  <input type="submit" value="Submit changes" />
 </div>
</form>


 </div>
</div>
<script type="text/javascript">searchHighlight()</script>

</div>

<div id="footer">
 <hr />
 <a id="tracpowered" href="http://trac.edgewall.com/"><img src="/cgi-bin/trac.cgi/chrome/common/trac_logo_mini.png" height="30" width="107"
   alt="Trac Powered"/></a>
 <p class="left">
  Powered by <a href="/cgi-bin/trac.cgi/about"><strong>Trac 0.9.4</strong></a><br />
  By <a href="http://www.edgewall.com/">Edgewall Software</a>.
 </p>
 <p class="right">
  Visit EQdkp at<br /><a href="http://eqdkp.com/">http://eqdkp.com/</a>
 </p>
</div>



 </body>
</html>

