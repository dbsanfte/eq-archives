<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" lang="en">
<head>
	<title>EQInterface Forums - Help with adding a custom Animations</title>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<meta name="keywords" content="Everquest,Everquest II,EQ,EQ2,EQII,SOE,Interface,XML,TGA,Mods,Skins" />
	<meta name="description" content="An Everquest II Interface site." />
	<link rel="stylesheet" href="http://www.eqinterface.com/forums/archive/archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="./">EQInterface Forums</a> &gt; <a href="f-1.html">Developer Discussion</a> &gt; <a href="f-31.html">Graphics modification help.</a> &gt; Help with adding a custom Animations</div>
<hr />
<div class="pda"><a href="?pda=1">PDA</a></div>
<p class="largefont">View Full Version : <a href="http://www.eqinterface.com/forums/showthread.php?t=3026">Help with adding a custom Animations</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Dayradon</div><div class="date">10-17-2002, 01:57 AM</div></div><div class="posttext">it's my first time so be gentle :)<br />
<br />
<br />
Ok so i've gone through most of these post and figured out how to make a graphic, and animation, and get them to show up in my xml editor ( SIDLWIDL). <br />
<br />
<br />
I'm trying to add a animation to the target window.  I'll worry about a custom template and all later (if i can).<br />
<br />
read a post about how to insert a custom animation into a window, and followed it to a  &quot;T&quot;.<br />
<br />
sorry about posting the whole darn thing but it's not that big hehehe, any way  I tried making these two lines<br />
<br />
StaticAnimation item= &quot;A_targetanim01&quot;&gt;<br />
		&lt;ScreenID&gt;wings&lt;/ScreenID&gt;<br />
<br />
 have same and different values  and my &lt;pieces&gt; is at bottom.  I just keep gettting the same error when i click the screen portion under target window in SIDLWIDL.  If i click the animation refence there, it shows it no probs, so the animation code i think is right, but i'm just not calling it to be an item on the screen correctly ???.    Any help would be apreciated thanx.<br />
<br />
Dayradon<br />
<br />
PS here's a sneak at the graphic i'm using for the animations<br />
<br />
please don't steall it yet  (anyone) least till i'm done :)<br />
<br />
<br />
<br />
<br />
here's my code for the target window:<br />
<br />
&lt;?xml version = &quot;1.0&quot;?&gt;<br />
&lt;XML ID = &quot;EQInterfaceDefinitionLanguage&quot;&gt;<br />
	&lt;Schema xmlns = &quot;EverQuestData&quot; xmlns:dt = &quot;EverQuestDataTypes&quot;/&gt;<br />
	&lt;Gauge item = &quot;Target_HP&quot;&gt;<br />
		&lt;ScreenID&gt;TargetHP&lt;/ScreenID&gt;<br />
		&lt;Font&gt;3&lt;/Font&gt;<br />
		&lt;TextColor&gt;<br />
			&lt;R&gt;240&lt;/R&gt;<br />
			&lt;G&gt;240&lt;/G&gt;<br />
			&lt;B&gt;240&lt;/B&gt;<br />
		&lt;/TextColor&gt;<br />
		&lt;RelativePosition&gt;true&lt;/RelativePosition&gt;<br />
		&lt;Location&gt;<br />
			&lt;X&gt;3&lt;/X&gt;<br />
			&lt;Y&gt;0&lt;/Y&gt;<br />
		&lt;/Location&gt;<br />
		&lt;Size&gt;<br />
			&lt;CX&gt;108&lt;/CX&gt;<br />
			&lt;CY&gt;24&lt;/CY&gt;<br />
		&lt;/Size&gt;<br />
		&lt;GaugeOffsetY&gt;16&lt;/GaugeOffsetY&gt;<br />
		&lt;TextOffsetX&gt;8&lt;/TextOffsetX&gt;<br />
		&lt;Style_VScroll&gt;false&lt;/Style_VScroll&gt;<br />
		&lt;Style_HScroll&gt;false&lt;/Style_HScroll&gt;<br />
		&lt;Style_Transparent&gt;false&lt;/Style_Transparent&gt;<br />
		&lt;TooltipReference/&gt;<br />
		&lt;FillTint&gt;<br />
			&lt;R&gt;240&lt;/R&gt;<br />
			&lt;G&gt;0&lt;/G&gt;<br />
			&lt;B&gt;0&lt;/B&gt;<br />
		&lt;/FillTint&gt;<br />
		&lt;LinesFillTint&gt;<br />
			&lt;R&gt;220&lt;/R&gt;<br />
			&lt;G&gt;220&lt;/G&gt;<br />
			&lt;B&gt;0&lt;/B&gt;<br />
		&lt;/LinesFillTint&gt;<br />
		&lt;DrawLinesFill&gt;false&lt;/DrawLinesFill&gt;<br />
		&lt;EQType&gt;6&lt;/EQType&gt;<br />
		&lt;GaugeDrawTemplate&gt;<br />
			&lt;Background&gt;A_GaugeBackground&lt;/Background&gt;<br />
			&lt;Fill&gt;A_GaugeFill&lt;/Fill&gt;<br />
			&lt;Lines&gt;A_GaugeLines&lt;/Lines&gt;<br />
			&lt;LinesFill&gt;A_GaugeLinesFill&lt;/LinesFill&gt;<br />
			&lt;EndCapLeft&gt;A_GaugeEndCapLeft&lt;/EndCapLeft&gt;<br />
			&lt;EndCapRight&gt;A_GaugeEndCapRight&lt;/EndCapRight&gt;<br />
		&lt;/GaugeDrawTemplate&gt;<br />
	&lt;/Gauge&gt;<br />
<br />
&lt;!----MY  ANIMATION CODE ------&gt;<br />
<br />
	&lt;StaticAnimation item= &quot;A_targetanim01&quot;&gt;<br />
		&lt;ScreenID&gt;wings&lt;/ScreenID&gt;<br />
		&lt;Location&gt;<br />
			&lt;X&gt;30&lt;/X&gt;<br />
			&lt;Y&gt;0&lt;/Y&gt;<br />
		&lt;/Location&gt;<br />
		&lt;Size&gt;<br />
			&lt;CX&gt;64&lt;/CX&gt;<br />
			&lt;CY&gt;32&lt;/CY&gt;<br />
		&lt;/Size&gt;<br />
                &lt;Animation&gt;A_targetanim01&lt;/Animation&gt;<br />
	&lt;/StaticAnimation&gt;<br />
<br />
&lt;!-------END MY CODE-----&gt;<br />
<br />
	&lt;Screen item = &quot;TargetWindow&quot;&gt;<br />
		&lt;ScreenID/&gt;<br />
		&lt;RelativePosition&gt;false&lt;/RelativePosition&gt;<br />
		&lt;Location&gt;<br />
			&lt;X&gt;516&lt;/X&gt;<br />
			&lt;Y&gt;242&lt;/Y&gt;<br />
		&lt;/Location&gt;<br />
		&lt;Size&gt;<br />
			&lt;CX&gt;124&lt;/CX&gt;<br />
			&lt;CY&gt;50&lt;/CY&gt;<br />
		&lt;/Size&gt;<br />
		&lt;Text&gt;Target&lt;/Text&gt;<br />
		&lt;Style_VScroll&gt;false&lt;/Style_VScroll&gt;<br />
		&lt;Style_HScroll&gt;false&lt;/Style_HScroll&gt;<br />
		&lt;Style_Transparent&gt;false&lt;/Style_Transparent&gt;<br />
		&lt;TooltipReference&gt;Your Current Target&lt;/TooltipReference&gt;<br />
		&lt;DrawTemplate&gt;WDT_Rounded&lt;/DrawTemplate&gt;<br />
		&lt;Style_Titlebar&gt;true&lt;/Style_Titlebar&gt;<br />
		&lt;Style_Closebox&gt;false&lt;/Style_Closebox&gt;<br />
		&lt;Style_Minimizebox&gt;false&lt;/Style_Minimizebox&gt;<br />
		&lt;Style_Border&gt;true&lt;/Style_Border&gt;<br />
		&lt;Style_Sizable&gt;false&lt;/Style_Sizable&gt;<br />
		&lt;Pieces&gt;Target_HP&lt;/Pieces&gt;<br />
		&lt;Pieces&gt;wings&lt;/Pieces&gt;<br />
	&lt;/Screen&gt;<br />
<br />
&lt;/XML&gt;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dayradon</div><div class="date">10-18-2002, 12:29 AM</div></div><div class="posttext">Ok anytime you make  an animation, when inserting it<br />
<br />
the &lt;animation&gt; ******&lt;/animation&gt;<br />
<br />
can not have the same value as your screen ID or your UI2danimation fields<br />
<br />
<br />
Go figure though, now i have to find out why my template is not working.  won't accept a new template with a custom graphic.<br />
<br />
error 4  failed to load .tga<br />
<br />
<br />
Sigh  had to redisgn everything cause the animation is always gonna be in the fore-ground.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Cormanth</div><div class="date">10-18-2002, 01:14 AM</div></div><div class="posttext">Actually, I'm seeing a different problem with that code, unless you just forgot to post part of it... I see that you are placing the animation on the screen, but where in there are you defining it? Before you can place an animation on the screen using &lt;StaticAnimation&gt; you need to create the animation using &lt;UiD2Animation&gt;. Here's a very rough example<br />
<br />
&lt;TextureInfo item = &quot;filename.png&quot;&gt;<br />
&lt;Size&gt; &lt;/Size&gt;<br />
&lt;/TextureInfo&gt;<br />
<br />
&lt;UiD2animation item = &quot;A_AnimName&quot;&gt;<br />
&lt;Frames&gt;<br />
&lt;Texture&gt;filename.png&lt;/Texture&gt;<br />
&lt;Location&gt; &lt;/Location&gt;<br />
&lt;Size&gt; &lt;/Size&gt;<br />
&lt;/Frames&gt;<br />
&lt;/UiD2Animation&gt;<br />
<br />
Then, after you have declared the texture file to use, and specified where to load the animation from, you can place it on the screen.<br />
<br />
&lt;StaticAnimation item = &quot;Anim&quot;&gt;<br />
&lt;ScreenID&gt;IDName&lt;/ScreenID&gt;<br />
&lt;Location&gt; &lt;/Location&gt;<br />
&lt;Size&gt; &lt;/Size&gt;<br />
&lt;Animation&gt;A_AnimName&lt;/Animation&gt;<br />
&lt;/StaticAnimation&gt;<br />
<br />
I left out the details, ofcrouse, as well as some optional things. But those are basically the required steps to placing a pic or an animation on the screen.... 1) declare the graphic file as a texture, 2) define where the texture is to be loaded from, 3) then place the texture/animation on the screen.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Odaku</div><div class="date">10-18-2002, 09:17 AM</div></div><div class="posttext">/bonk me if you must but I've never caught the hang of the custom graphics deal here or anywhere for that matter..couple of idiot questions....When you declare where it shows up...that is within the range of the declared size of whatever window your mod'ing, correct?  Whenever I tried to replace anything I crash to that frelling ugly default skin.  And from what I've read above you can declare textures and all the new stuff IN the .xml file your modding....So can you RE-declare something that has already been declared in the animations.xml file?  I modded that to make my double sized spell gems and would rather just add the mod to the gembar instead for compatibility issues.  Sorry for this long pleading post but I just have all these questions answered only vaguely in my kreepy mind.:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Cormanth</div><div class="date">10-18-2002, 04:34 PM</div></div><div class="posttext">Yes, the size must be within the size of the window you are working on. If your window is 256x256 then your animation can't be any larger than 256x256. Well, it can, but parts of it will run off the edge of the window and won't show.<br />
<br />
Just keep these in mind when it comes to size:<br />
<br />
'&lt;Size&gt;' in the Texture Info refers to the actual size of the graphics file you are loading from.<br />
<br />
'&lt;Size&gt;' in the UiD2Animation refers to the size of the image you are loading from that file. The file may be 256x256 but the image may only be 200x170 pixels.<br />
<br />
'&lt;Size&gt;' in thr StaticAnimation again refers to the size of the image itself... this should be the same as the size in the UiD2animation.<br />
<br />
You cannot declare or define something twice. It get's confused and tells you that you have a duplicate item. This causes it to revert to the default UI. If the animation is already defined in another file, you will either have to edit that file, or create a totally new animation (in your own file or the file you're working on), give it a new name, and then use that new animation in the item you're working with. <br />
<br />
Now, there are some things this does not work with. Some animations are coded one way and only work that way (this is called hard coding). For instance, the buff icons in your buff window, and the spell icons in your spell book both use the same animation which is already defined in the Animations file. You can change those animations, but you cannot make the buff icons or spell icons use a different animation. (kind of a pain in the arse if you ask me)<br />
<br />
-Cormanth</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dayradon</div><div class="date">10-19-2002, 12:48 AM</div></div><div class="posttext">CORMANTH<br />
<br />
Oh i'm just declareing my graphic in the animations XML like all the default ones, and then  i list the &lt;Ui2DAnimation&gt; in the same spot as where the default ones are for the character class anim's. then i just mod the changes in to the actuall windows, <br />
<br />
New prob lem though, got my animation up.  I had the <br />
&lt;animation&gt; tag the same as the &lt;screenID&gt; &amp; &lt;staticanimation&gt; tags<br />
<br />
that don't work!  but when i got it to work it was always in the foreground and covered the gauges. <br />
<br />
So in my enthusiasm, i made a new template, a new graphic, and a new animation from just the eyes of the graphic.  that solve the fore-ground issue, but made a new one.  Now any part of my background image of my template, is shifted down about 8-16 pixels, only under the animation area.<br />
<br />
tried to show it before: will try again<br />
<br />
_____ =  bottom of picture<br />
<br />
******=  animation<br />
<br />
....... = just ignore em<br />
<br />
<br />
<br />
<br />
<br />
......****......<br />
___........___<br />
......____......<br />
<br />
<br />
Saw a reply to an earlier post, where someone had made the actual back ground pic of the window, a static animation.<br />
<br />
How do i tell the &lt;drawscreen&gt; thingy that it's NOT just another .TGA file for a background, but an animation?  this may solve all my issues.  But at least i've learned how to make a template :)<br />
<br />
wish i could put the pic right in here but don't know how hehehe.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Cormanth</div><div class="date">10-19-2002, 01:03 AM</div></div><div class="posttext">One way to add an animation as the background would be to set the window as transparent:<br />
<br />
&lt;Style_Transparent&gt;true&lt;/Style_Transparent&gt;<br />
<br />
then use a &lt;StaticAnimation&gt; element to add the animation to the screen. However, doing it this way you would need to make the static animation the first thing the window draws so that everything else is drawn ontop of this.<br />
<br />
It might help others to understand your problem if you attach a pic or the xml file to your post using the 'Attach File' feature. Altho you might need to first save the xml file as a .txt file first. I don't know if this forum allows you to attach .xml files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dayradon</div><div class="date">10-19-2002, 10:54 AM</div></div><div class="posttext">Ok so if i  add the animation under the screen element, does that mean it's not a &lt;pieces&gt;  thingy any more?   I insert it after the first &lt;screen&gt;   part? and make the style of the  screen transparent. <br />
<br />
At work now so i can't attach anything but will look at getting it attached.<br />
<br />
<br />
You mentioned the order is important, is this true with pieces?<br />
<br />
how do i know what order the pieces are being drawn?<br />
Is it the order they apear as defined by the order of the &lt;pieces&gt; <br />
<br />
eg.<br />
<br />
&lt;pieces&gt;draw 1st&lt;/pieces&gt;<br />
&lt;pieces&gt;draw2nd&lt;/pieces&gt;<br />
<br />
etc or is the order defined by the parts at the top of an XML, above the &lt;screen&gt;?<br />
<br />
thnx again</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Cormanth</div><div class="date">10-20-2002, 07:20 AM</div></div><div class="posttext">You mentioned the order is important, is this true with pieces?<br />
<br />
how do i know what order the pieces are being drawn?<br />
Is it the order they apear as defined by the order of the &lt;pieces&gt; <br />
<br />
<br />
Yes, the order inwhich you place the &lt;Piece&gt;'s in the &lt;Screen&gt; section determines the order inwhich items are drawn on the screen... usually.<br />
<br />
The first piece is drawn first (on the bottom) and everything else follows, stacking ontop of each other. There are some exceptions to this rule in the case of hard coding. For instance, the Spell gems in your spellbook are always drawn ontop of everything else, regardless of what order you place things in.<br />
<br />
Ok so if i add the animation under the screen element, does that mean it's not a &lt;pieces&gt; thingy any more? I insert it after the first &lt;screen&gt; part? and make the style of the screen transparent. <br />
<br />
Everything drawn on the screen is a screen 'piece'. Even if you make a &lt;StaticAnimation&gt;, you still need to tell the window to place it on the screen, by using a &lt;Piece&gt; element.<br />
<br />
<br />
-Cormanth</div></div><hr />

<div id="copyright">vBulletin v3.0.3, Copyright &copy;2000-2004, Jelsoft Enterprises Ltd.</div>
</div>
</body>
</html>