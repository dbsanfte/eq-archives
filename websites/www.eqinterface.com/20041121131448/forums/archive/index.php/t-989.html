<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" lang="en">
<head>
	<title>EQInterface Forums - Problem....</title>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<meta name="keywords" content="Everquest,Everquest II,EQ,EQ2,EQII,SOE,Interface,XML,TGA,Mods,Skins" />
	<meta name="description" content="An Everquest II Interface site." />
	<link rel="stylesheet" href="http://www.eqinterface.com/forums/archive/archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="./">EQInterface Forums</a> &gt; <a href="f-1.html">Developer Discussion</a> &gt; <a href="f-12.html">General authoring help / discussion</a> &gt; Problem....</div>
<hr />
<div class="pda"><a href="?pda=1">PDA</a></div>
<p class="largefont">View Full Version : <a href="http://www.eqinterface.com/forums/showthread.php?t=989">Problem....</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Krip</div><div class="date">08-14-2002, 03:05 PM</div></div><div class="posttext">Hi Guys,<br />
<br />
I am trying to make a custom buff window, but without using a separate EQUI_Animations.xml so it can be used with any skin.<br />
<br />
As suggested , I put all the code into the EQUI_BuffWindow.xml and so the top of the file looks like so....<br />
<br />
<br />
&lt;?xml version = &quot;1.0&quot;?&gt;<br />
&lt;XML ID = &quot;EQInterfaceDefinitionLanguage&quot;&gt;<br />
	&lt;Schema xmlns = &quot;EverQuestData&quot; xmlns:dt = &quot;EverQuestDataTypes&quot;/&gt;<br />
<br />
&lt;!-- Krips find the buff window graphics stuff --&gt;<br />
<br />
	&lt;TextureInfo item = &quot;kripbuff.tga&quot;&gt;<br />
		&lt;Size&gt;<br />
			&lt;CX&gt;108&lt;/CX&gt;<br />
			&lt;CY&gt;64&lt;/CY&gt;<br />
		&lt;/Size&gt;<br />
	&lt;/TextureInfo&gt;<br />
	<br />
	&lt;Ui2DAnimation item = &quot;BlueIconBG&quot;&gt;<br />
		&lt;Cycle&gt;true&lt;/Cycle&gt;<br />
		&lt;Frames&gt;<br />
			&lt;Texture&gt;kripbuff.tga&lt;/Texture&gt;<br />
			&lt;Location&gt;<br />
				&lt;X&gt;0&lt;/X&gt;<br />
				&lt;Y&gt;2&lt;/Y&gt;<br />
			&lt;/Location&gt;<br />
			&lt;Size&gt;<br />
				&lt;CX&gt;108&lt;/CX&gt;<br />
				&lt;CY&gt;20&lt;/CY&gt;<br />
			&lt;/Size&gt;<br />
				&lt;CX&gt;124&lt;/CX&gt;<br />
				&lt;CY&gt;20&lt;/CY&gt;<br />
			&lt;Hotspot&gt;<br />
				&lt;X&gt;0&lt;/X&gt;<br />
				&lt;Y&gt;0&lt;/Y&gt;<br />
			&lt;/Hotspot&gt;<br />
			&lt;Duration&gt;1000&lt;/Duration&gt;<br />
		&lt;/Frames&gt;<br />
	&lt;/Ui2DAnimation&gt;<br />
	<br />
	&lt;Ui2DAnimation item = &quot;RedIconBG&quot;&gt;<br />
		&lt;Cycle&gt;true&lt;/Cycle&gt;<br />
		&lt;Frames&gt;<br />
			&lt;Texture&gt;kripbuff.tga&lt;/Texture&gt;<br />
			&lt;Location&gt;<br />
				&lt;X&gt;0&lt;/X&gt;<br />
				&lt;Y&gt;24&lt;/Y&gt;<br />
			&lt;/Location&gt;<br />
			&lt;Size&gt;<br />
				&lt;CX&gt;108&lt;/CX&gt;<br />
				&lt;CY&gt;20&lt;/CY&gt;<br />
			&lt;/Size&gt;<br />
			&lt;Hotspot&gt;<br />
				&lt;X&gt;0&lt;/X&gt;<br />
				&lt;Y&gt;0&lt;/Y&gt;<br />
			&lt;/Hotspot&gt;<br />
			&lt;Duration&gt;1000&lt;/Duration&gt;<br />
		&lt;/Frames&gt;<br />
	&lt;/Ui2DAnimation&gt;<br />
<br />
&lt;!-- Wheee... end of hunt the graphicy bits --&gt;<br />
<br />
<br />
Following on, as normal, the various Button items are written as:<br />
<br />
<br />
	&lt;Button item = &quot;BW_Buff0_Button&quot;&gt;<br />
		&lt;ScreenID&gt;Buff0&lt;/ScreenID&gt;<br />
		&lt;!--&lt;Font&gt;3&lt;/Font&gt;--&gt;<br />
		&lt;RelativePosition&gt;true&lt;/RelativePosition&gt;<br />
		&lt;Location&gt;<br />
			&lt;X&gt;3&lt;/X&gt;<br />
			&lt;Y&gt;3&lt;/Y&gt;<br />
		&lt;/Location&gt;<br />
		&lt;Size&gt;<br />
			&lt;CX&gt;108&lt;/CX&gt;<br />
			&lt;CY&gt;20&lt;/CY&gt;<br />
		&lt;/Size&gt;<br />
		&lt;Style_VScroll&gt;false&lt;/Style_VScroll&gt;<br />
		&lt;Style_HScroll&gt;false&lt;/Style_HScroll&gt;<br />
		&lt;Style_Transparent&gt;false&lt;/Style_Transparent&gt;<br />
		&lt;!--&lt;/TooltipReference&gt;--&gt;<br />
		&lt;Style_Checkbox&gt;false&lt;/Style_Checkbox&gt;<br />
		&lt;!--&lt;RadioGroup/&gt;   --&gt;<br />
		&lt;ButtonDrawTemplate&gt;<br />
			&lt;Normal&gt;BlueIconBG&lt;/Normal&gt;<br />
			&lt;NormalDecal&gt;BuffIcons&lt;/NormalDecal&gt;<br />
		&lt;/ButtonDrawTemplate&gt;<br />
		&lt;!--  <br />
			&lt;SoundPressed/&gt;<br />
			&lt;SoundUp/&gt;<br />
			&lt;SoundFlyby/&gt;<br />
		--&gt;<br />
		&lt;DecalOffset&gt;<br />
			&lt;X&gt;0&lt;/X&gt;<br />
			&lt;Y&gt;0&lt;/Y&gt;<br />
		&lt;/DecalOffset&gt;<br />
		&lt;DecalSize&gt;<br />
			&lt;CX&gt;20&lt;/CX&gt;<br />
			&lt;CY&gt;20&lt;/CY&gt;<br />
		&lt;/DecalSize&gt;<br />
	&lt;/Button&gt;<br />
<br />
<br />
Where it would normally says BlueIconBackground I had to change it BlueItemBG throughout the file.  This was because EQ would crash saying BlueIconBackground was duplicate (obviously because EQ loads the default EQUI_Animations.xml as I'm not using one).<br />
<br />
All I have in the directory is the EQUI_BuffWindow.xml and the kripbuff.tga file.  Now the window does load, but it isn't using my custom .tga file.  Instead it's still using the CS_Buttons.bmp as standard in the default EQUI_Animations.xml.<br />
<br />
Does anyone have an ideas as to why the window is ignoring the TextureInfo and Ui2DAnimation info at the top of the file?<br />
<br />
Many thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arantius</div><div class="date">08-14-2002, 03:22 PM</div></div><div class="posttext">I did similar work.  Implemented Geddine's buff window but hated the jagged border it put around spells in my spellbook.<br />
<br />
Unfortunately, this seems to be another one of those things that's hard coded.  In the default implementation, there is a red and blue border to put around spell icons, whether they be in the book or the buff window.  They are the same.  Not only that, it is hard coded what to show.  The client decides when to put the red one, and when to put the blue one.  And the names are hard coded.<br />
<br />
As far as I can tell.</div></div><hr />

<div id="copyright">vBulletin v3.0.3, Copyright &copy;2000-2004, Jelsoft Enterprises Ltd.</div>
</div>
</body>
</html>