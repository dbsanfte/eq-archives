<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" lang="en">
<head>
	<title>EQInterface Forums - Texture &amp; Anim info inside BuffWindow.xml - Problems...</title>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<meta name="keywords" content="Everquest,Everquest II,EQ,EQ2,EQII,SOE,Interface,XML,TGA,Mods,Skins" />
	<meta name="description" content="An Everquest II Interface site." />
	<link rel="stylesheet" href="http://www.eqinterface.com/forums/archive/archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="./">EQInterface Forums</a> &gt; <a href="f-1.html">Developer Discussion</a> &gt; <a href="f-12.html">General authoring help / discussion</a> &gt; Texture &amp; Anim info inside BuffWindow.xml - Problems...</div>
<hr />
<div class="pda"><a href="?pda=1">PDA</a></div>
<p class="largefont">View Full Version : <a href="http://www.eqinterface.com/forums/showthread.php?t=1132">Texture &amp; Anim info inside BuffWindow.xml - Problems...</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Krip</div><div class="date">08-17-2002, 01:13 PM</div></div><div class="posttext">Hi Guys,<br />
<br />
I am trying to make a custom buff window, but without using a separate EQUI_Animations.xml so it can be used with any skin.<br />
<br />
As suggested in the Info forum, I put all the code into the EQUI_BuffWindow.xml and so the top of the file looks like so....<br />
<br />
<br />
&lt;?xml version = &quot;1.0&quot;?&gt;<br />
&lt;XML ID = &quot;EQInterfaceDefinitionLanguage&quot;&gt;<br />
	&lt;Schema xmlns = &quot;EverQuestData&quot; xmlns:dt = &quot;EverQuestDataTypes&quot;/&gt;<br />
<br />
&lt;!-- Krips find the buff window graphics stuff --&gt;<br />
<br />
	&lt;TextureInfo item = &quot;kripbuff.tga&quot;&gt;<br />
		&lt;Size&gt;<br />
			&lt;CX&gt;108&lt;/CX&gt;<br />
			&lt;CY&gt;64&lt;/CY&gt;<br />
		&lt;/Size&gt;<br />
	&lt;/TextureInfo&gt;<br />
	<br />
	&lt;Ui2DAnimation item = &quot;BlueIconBG&quot;&gt;<br />
		&lt;Cycle&gt;true&lt;/Cycle&gt;<br />
		&lt;Frames&gt;<br />
			&lt;Texture&gt;kripbuff.tga&lt;/Texture&gt;<br />
			&lt;Location&gt;<br />
				&lt;X&gt;0&lt;/X&gt;<br />
				&lt;Y&gt;2&lt;/Y&gt;<br />
			&lt;/Location&gt;<br />
			&lt;Size&gt;<br />
				&lt;CX&gt;108&lt;/CX&gt;<br />
				&lt;CY&gt;20&lt;/CY&gt;<br />
			&lt;/Size&gt;<br />
				&lt;CX&gt;124&lt;/CX&gt;<br />
				&lt;CY&gt;20&lt;/CY&gt;<br />
			&lt;Hotspot&gt;<br />
				&lt;X&gt;0&lt;/X&gt;<br />
				&lt;Y&gt;0&lt;/Y&gt;<br />
			&lt;/Hotspot&gt;<br />
			&lt;Duration&gt;1000&lt;/Duration&gt;<br />
		&lt;/Frames&gt;<br />
	&lt;/Ui2DAnimation&gt;<br />
	<br />
	&lt;Ui2DAnimation item = &quot;RedIconBG&quot;&gt;<br />
		&lt;Cycle&gt;true&lt;/Cycle&gt;<br />
		&lt;Frames&gt;<br />
			&lt;Texture&gt;kripbuff.tga&lt;/Texture&gt;<br />
			&lt;Location&gt;<br />
				&lt;X&gt;0&lt;/X&gt;<br />
				&lt;Y&gt;24&lt;/Y&gt;<br />
			&lt;/Location&gt;<br />
			&lt;Size&gt;<br />
				&lt;CX&gt;108&lt;/CX&gt;<br />
				&lt;CY&gt;20&lt;/CY&gt;<br />
			&lt;/Size&gt;<br />
			&lt;Hotspot&gt;<br />
				&lt;X&gt;0&lt;/X&gt;<br />
				&lt;Y&gt;0&lt;/Y&gt;<br />
			&lt;/Hotspot&gt;<br />
			&lt;Duration&gt;1000&lt;/Duration&gt;<br />
		&lt;/Frames&gt;<br />
	&lt;/Ui2DAnimation&gt;<br />
<br />
&lt;!-- Wheee... end of hunt the graphicy bits --&gt;<br />
<br />
<br />
Following on, as normal, the various Button items are written as:<br />
<br />
<br />
	&lt;Button item = &quot;BW_Buff0_Button&quot;&gt;<br />
		&lt;ScreenID&gt;Buff0&lt;/ScreenID&gt;<br />
		&lt;!--&lt;Font&gt;3&lt;/Font&gt;--&gt;<br />
		&lt;RelativePosition&gt;true&lt;/RelativePosition&gt;<br />
		&lt;Location&gt;<br />
			&lt;X&gt;3&lt;/X&gt;<br />
			&lt;Y&gt;3&lt;/Y&gt;<br />
		&lt;/Location&gt;<br />
		&lt;Size&gt;<br />
			&lt;CX&gt;108&lt;/CX&gt;<br />
			&lt;CY&gt;20&lt;/CY&gt;<br />
		&lt;/Size&gt;<br />
		&lt;Style_VScroll&gt;false&lt;/Style_VScroll&gt;<br />
		&lt;Style_HScroll&gt;false&lt;/Style_HScroll&gt;<br />
		&lt;Style_Transparent&gt;false&lt;/Style_Transparent&gt;<br />
		&lt;!--&lt;/TooltipReference&gt;--&gt;<br />
		&lt;Style_Checkbox&gt;false&lt;/Style_Checkbox&gt;<br />
		&lt;!--&lt;RadioGroup/&gt;   --&gt;<br />
		&lt;ButtonDrawTemplate&gt;<br />
			&lt;Normal&gt;BlueIconBG&lt;/Normal&gt;<br />
			&lt;NormalDecal&gt;BuffIcons&lt;/NormalDecal&gt;<br />
		&lt;/ButtonDrawTemplate&gt;<br />
		&lt;!--  <br />
			&lt;SoundPressed/&gt;<br />
			&lt;SoundUp/&gt;<br />
			&lt;SoundFlyby/&gt;<br />
		--&gt;<br />
		&lt;DecalOffset&gt;<br />
			&lt;X&gt;0&lt;/X&gt;<br />
			&lt;Y&gt;0&lt;/Y&gt;<br />
		&lt;/DecalOffset&gt;<br />
		&lt;DecalSize&gt;<br />
			&lt;CX&gt;20&lt;/CX&gt;<br />
			&lt;CY&gt;20&lt;/CY&gt;<br />
		&lt;/DecalSize&gt;<br />
	&lt;/Button&gt;<br />
<br />
<br />
Where it would normally says BlueIconBackground I had to change it BlueItemBG throughout the file.  This was because EQ would crash saying BlueIconBackground was duplicate (obviously because EQ loads the default EQUI_Animations.xml as I'm not using one).<br />
<br />
All I have in the directory is the EQUI_BuffWindow.xml and the kripbuff.tga file.  Now the window does load, but it isn't using my custom .tga file.  Instead it's still using the CS_Buttons.bmp as standard in the default EQUI_Animations.xml.<br />
<br />
Does anyone have an ideas as to why the window is ignoring the TextureInfo and Ui2DAnimation info at the top of the file?<br />
<br />
Many thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arantius</div><div class="date">08-17-2002, 03:50 PM</div></div><div class="posttext">One of the many hardcoded things.  The client draws the background of the default name, appropriately red or blue, depending on what buff is in what slot.  XML doesn't control that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DarkBlade</div><div class="date">08-19-2002, 01:09 PM</div></div><div class="posttext">I also made changes to my Buff window and added all the Texture and Animation information inside the file. I had it using a Xbuff.tga file I made. It all worked ok but when I tried to change the Xbuff.tga by replacing it with a new one it still seemed to use the older one. I Have not gone back to take a look at it. I will take a peek tonight and see if I can find the problem. <br />
<br />
Putting all the Texture and animation info in the xml file that uses makes it much easier to pass around the mods I have made and I have not had any problem so far when VI patches. I have also started to rename any of the .tga files that I have changed so they only affect the windows that use them. It really makes the whole thing very easy to mix and match.<br />
<br />
-DarkBlade</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sylphan</div><div class="date">08-20-2002, 08:22 PM</div></div><div class="posttext">It's hardcoded the same way in EQUI_SpellBook.  The BlueIconBackground and RedIconBackground graphics get used, but they are not mentioned at all anywhere in the EQUI_SpellBook file.<br />
<br />
Changing them in the actual EQUI_Animations file works, nothing else seems to.  They can't be renamed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Krip</div><div class="date">08-20-2002, 08:25 PM</div></div><div class="posttext">Yeah, thats exactly why I tried to make it the way I did, so that it can be used with any other mod.<br />
<br />
I was guessing it was because I renamed BlueIconBackground to BlueIconBG and RedIconBackground to RedIconBG.  Perhaps EQ doesnt recognize the altered names.<br />
<br />
Hmm.. I'll keep trying :)<br />
<br />
<br />
Regards,<br />
Andy.</div></div><hr />

<div id="copyright">vBulletin v3.0.3, Copyright &copy;2000-2004, Jelsoft Enterprises Ltd.</div>
</div>
</body>
</html>