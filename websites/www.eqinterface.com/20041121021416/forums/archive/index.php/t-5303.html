<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" lang="en">
<head>
	<title>EQInterface Forums - adding button to HotKey</title>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<meta name="keywords" content="Everquest,Everquest II,EQ,EQ2,EQII,SOE,Interface,XML,TGA,Mods,Skins" />
	<meta name="description" content="An Everquest II Interface site." />
	<link rel="stylesheet" href="http://www.eqinterface.com/forums/archive/archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="./">EQInterface Forums</a> &gt; <a href="f-1.html">Developer Discussion</a> &gt; <a href="f-30.html">XML modification help.</a> &gt; adding button to HotKey</div>
<hr />
<div class="pda"><a href="?pda=1">PDA</a></div>
<p class="largefont">View Full Version : <a href="http://www.eqinterface.com/forums/showthread.php?t=5303">adding button to HotKey</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Asterof</div><div class="date">01-08-2003, 09:05 PM</div></div><div class="posttext">was able to add a button to hotkey window<br />
<br />
here is the code, however need to know A_ScreenID for VIEW<br />
command which is also coded as F9<br />
<br />
<br />
&lt;Button item=&quot;ViewButton&quot;&gt;<br />
    &lt;ScreenID&gt;A_ScreenID&lt;/ScreenID&gt;<br />
    &lt;RelativePosition&gt;true&lt;/RelativePosition&gt;<br />
    &lt;Location&gt;<br />
      &lt;X&gt;4&lt;/X&gt;<br />
      &lt;Y&gt;253&lt;/Y&gt;<br />
    &lt;/Location&gt;<br />
    &lt;Size&gt;<br />
      &lt;CX&gt;86&lt;/CX&gt;<br />
      &lt;CY&gt;27&lt;/CY&gt;<br />
    &lt;/Size&gt;<br />
    &lt;Style_VScroll&gt;false&lt;/Style_VScroll&gt;<br />
    &lt;Style_HScroll&gt;false&lt;/Style_HScroll&gt;<br />
    &lt;Style_Transparent&gt;false&lt;/Style_Transparent&gt;<br />
    &lt;Style_Checkbox&gt;false&lt;/Style_Checkbox&gt;<br />
    &lt;Text&gt;VIEW&lt;/Text&gt;<br />
    &lt;TextColor&gt;<br />
      &lt;R&gt;255&lt;/R&gt;<br />
      &lt;G&gt;255&lt;/G&gt;<br />
      &lt;B&gt;255&lt;/B&gt;<br />
    &lt;/TextColor&gt;<br />
    &lt;ButtonDrawTemplate&gt;<br />
      &lt;Normal&gt;A_BtnNormal&lt;/Normal&gt;<br />
      &lt;Pressed&gt;A_BtnPressed&lt;/Pressed&gt;<br />
      &lt;Flyby&gt;A_BtnFlyby&lt;/Flyby&gt;<br />
      &lt;Disabled&gt;A_BtnDisabled&lt;/Disabled&gt;<br />
      &lt;PressedFlyby&gt;A_BtnPressedFlyby&lt;/PressedFlyby&gt;<br />
    &lt;/ButtonDrawTemplate&gt;<br />
  &lt;/Button&gt;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Talyns</div><div class="date">01-08-2003, 09:39 PM</div></div><div class="posttext">This can't be done. <br />
<br />
We can't add our own fuction to any buttons in any window.<br />
also, <br />
We can't move buttons from one window to another.<br />
<br />
About all we can do with button now is:<br />
Change the size and the way they look.<br />
Change the decals or colors of the fonts.<br />
Change where they are located in their window.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Asterof</div><div class="date">01-09-2003, 09:09 AM</div></div><div class="posttext">ok thanks.<br />
<br />
Another question<br />
I want to change the texture on the buttons themselves<br />
and not use the default texture<br />
I have enlarged them and enlarged the text but do not see<br />
where the texture is changed.<br />
can someone point me to the right direction<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sc2kmayor</div><div class="date">01-09-2003, 09:18 AM</div></div><div class="posttext">http://www.eqgui.com/index.php?s=<br />
<br />
Time to look in the XML and the Graphics Forums for all sorts of interesting stuff.  I learned everything I know about new graphics, identifying them, and modifying them in the XML files by lurking in this area and opening other people's files to see what they were looking at.<br />
<br />
****** EDIT **********<br />
+++  THIS IDENTIFIES A NEW GRAPHIC PIECE IN ITS FULLNESS +++<br />
  &lt;TextureInfo item=&quot;HotButtonsTexture.tga&quot;&gt;<br />
    &lt;Size&gt;<br />
      &lt;CX&gt;256&lt;/CX&gt;<br />
      &lt;CY&gt;256&lt;/CY&gt;<br />
    &lt;/Size&gt;<br />
  &lt;/TextureInfo&gt;<br />
<br />
+++  THIS IS AN IDENTIFIED PART of the NEW GRAPHIC (which may have more pics in its 256x256 area+++<br />
  &lt;Ui2DAnimation item=&quot;Sona_TKHotButtonBack&quot;&gt;<br />
    &lt;Cycle&gt;true&lt;/Cycle&gt;<br />
    &lt;Frames&gt;<br />
      &lt;Texture&gt;HotButtonsTexture.tga&lt;/Texture&gt;<br />
      &lt;Location&gt;<br />
        &lt;X&gt;0&lt;/X&gt;<br />
        &lt;Y&gt;0&lt;/Y&gt;<br />
      &lt;/Location&gt;<br />
      &lt;Size&gt;<br />
        &lt;CX&gt;72&lt;/CX&gt;<br />
        &lt;CY&gt;170&lt;/CY&gt;<br />
      &lt;/Size&gt;<br />
      &lt;Hotspot&gt;<br />
        &lt;X&gt;0&lt;/X&gt;<br />
        &lt;Y&gt;0&lt;/Y&gt;<br />
      &lt;/Hotspot&gt;<br />
      &lt;Duration&gt;1000&lt;/Duration&gt;<br />
    &lt;/Frames&gt;<br />
  &lt;/Ui2DAnimation&gt;<br />
<br />
+++ THIS IS THE USAGE (StaticAnimation) of the UI2DAnimation Definition. (How you get it on the item) It must also appear in the PIECES section or you wont see it even if it is defined. +++ <br />
 &lt;StaticAnimation item=&quot;Sona_TKHotButtonTemplate&quot;&gt;<br />
    &lt;ScreenID&gt;Sona_TKHotButtonTemplate&lt;/ScreenID&gt;<br />
    &lt;RelativePosition&gt;true&lt;/RelativePosition&gt;<br />
    &lt;Location&gt;<br />
      &lt;X&gt;0&lt;/X&gt;<br />
      &lt;Y&gt;0&lt;/Y&gt;<br />
    &lt;/Location&gt;<br />
    &lt;Size&gt;<br />
      &lt;CX&gt;72&lt;/CX&gt;<br />
      &lt;CY&gt;170&lt;/CY&gt;<br />
    &lt;/Size&gt;<br />
    &lt;Animation&gt;Sona_TKHotButtonBack&lt;/Animation&gt;<br />
  &lt;/StaticAnimation&gt;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Asterof</div><div class="date">01-11-2003, 10:33 AM</div></div><div class="posttext">Quote<br />
&lt;TextureInfo item=&quot;HotButtonsTexture.tga&quot;&gt;<br />
&lt;Size&gt;<br />
&lt;CX&gt;256&lt;/CX&gt;<br />
&lt;CY&gt;256&lt;/CY&gt;<br />
&lt;/Size&gt;<br />
&lt;/TextureInfo&gt;<br />
UnQuote<br />
<br />
For instance you menshion the above<br />
<br />
The Hot buttons us the window_pieces03.tga<br />
for there Textureinfo. This graphic has multiple areas on it has<br />
you had said <br />
How is the particular item identified as far as its cordinates go<br />
on the enitre graphic file. This window_pieces03.tga is included<br />
in the EQUI_Animations.xml file.<br />
Then in the file [Ui2DAnimation]A_SquareButtonNormal is the actual button graphic with this code<br />
<br />
&lt;Ui2DAnimation item=&quot;A_SquareBtnNormal&quot;&gt;<br />
  &lt;Cycle&gt;true&lt;/Cycle&gt;<br />
  &lt;Frames&gt;<br />
    &lt;Texture&gt;window_pieces03.tga&lt;/Texture&gt;<br />
    &lt;Location&gt;<br />
      &lt;X&gt;0&lt;/X&gt;<br />
      &lt;Y&gt;120&lt;/Y&gt;<br />
    &lt;/Location&gt;<br />
    &lt;Size&gt;<br />
      &lt;CX&gt;40&lt;/CX&gt;<br />
      &lt;CY&gt;40&lt;/CY&gt;<br />
    &lt;/Size&gt;<br />
    &lt;Hotspot&gt;<br />
      &lt;X&gt;0&lt;/X&gt;<br />
      &lt;Y&gt;0&lt;/Y&gt;<br />
    &lt;/Hotspot&gt;<br />
    &lt;Duration&gt;1000&lt;/Duration&gt;<br />
  &lt;/Frames&gt;<br />
<br />
Finaly we get back to the HotButtonWnd.xml<br />
<br />
&lt;Button item=&quot;HB_Button1&quot;&gt;<br />
  &lt;ScreenID&gt;HB_Button1&lt;/ScreenID&gt;<br />
  &lt;Font&gt;1&lt;/Font&gt;<br />
  &lt;RelativePosition&gt;true&lt;/RelativePosition&gt;<br />
  &lt;Location&gt;<br />
    &lt;X&gt;6&lt;/X&gt;<br />
    &lt;Y&gt;61&lt;/Y&gt;<br />
  &lt;/Location&gt;<br />
  &lt;Size&gt;<br />
    &lt;CX&gt;45&lt;/CX&gt;<br />
    &lt;CY&gt;40&lt;/CY&gt;<br />
  &lt;/Size&gt;<br />
  &lt;Text&gt;1&lt;/Text&gt;<br />
  &lt;TextColor&gt;<br />
    &lt;R&gt;255&lt;/R&gt;<br />
    &lt;G&gt;255&lt;/G&gt;<br />
    &lt;B&gt;255&lt;/B&gt;<br />
  &lt;/TextColor&gt;<br />
  &lt;DecalSize&gt;<br />
    &lt;CX&gt;40&lt;/CX&gt;<br />
    &lt;CY&gt;40&lt;/CY&gt;<br />
  &lt;/DecalSize&gt;<br />
  &lt;ButtonDrawTemplate&gt;<br />
    &lt;Normal&gt;A_SquareBtnNormal&lt;/Normal&gt;<br />
    &lt;Pressed&gt;A_SquareBtnPressed&lt;/Pressed&gt;<br />
    &lt;Flyby&gt;A_SquareBtnFlyby&lt;/Flyby&gt;<br />
    &lt;Disabled&gt;A_SquareBtnDisabled&lt;/Disabled&gt;<br />
    &lt;PressedFlyby&gt;A_SquareBtnPressedFlyby&lt;/PressedFlyby&gt;<br />
  &lt;/ButtonDrawTemplate&gt;<br />
&lt;/Button&gt;<br />
<br />
so is this all I need to know just change the texture in the first file<br />
if I create a new texture how does the button no the cordinates<br />
of the texture in the graphic file</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sc2kmayor</div><div class="date">01-11-2003, 12:36 PM</div></div><div class="posttext">My quote is an example but not from the default hotbuttons.<br />
<br />
You literally need to define the SQUARED-OFF coordinate of the graphic.<br />
<br />
Say I have a circle in a square area that starts at 0,0 and is 40 pixels x 40 pixles.<br />
<br />
The Location of this piece is &lt;x&gt;0&lt;/x&gt;&lt;y&gt;0&lt;/y&gt; and the size is &lt;cx&gt;40&lt;/cx&gt;&lt;cy&gt;40&lt;/cy&gt;<br />
<br />
You'll have to open your art program and find out where your X,y coords are and then square around your graphic to see the size.  Then you define that in the Ui2DAnimation section.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Asterof</div><div class="date">01-12-2003, 04:02 AM</div></div><div class="posttext">Is it posible to define a new template in the<br />
EQUI_Templates.xml<br />
such as this<br />
<br />
<br />
&lt;WindowDrawTemplate item = &quot;WDT_Def3&quot;&gt;<br />
		&lt;Background&gt;wnd_bg_light.tga&lt;/Background&gt;<br />
		&lt;VSBTemplate&gt;<br />
			&lt;UpButton&gt;<br />
				&lt;Normal&gt;A_VSBUpNormal&lt;/Normal&gt;<br />
				&lt;Pressed&gt;A_VSBUpPressed&lt;/Pressed&gt;<br />
				&lt;Flyby&gt;A_VSBUpFlyby&lt;/Flyby&gt;<br />
				&lt;Disabled&gt;A_VSBUpDisabled&lt;/Disabled&gt;<br />
				&lt;PressedFlyby&gt;A_VSBUpPressedFlyby&lt;/PressedFlyby&gt;<br />
			&lt;/UpButton&gt;<br />
			&lt;DownButton&gt;<br />
				&lt;Normal&gt;A_VSBDownNormal&lt;/Normal&gt;<br />
				&lt;Pressed&gt;A_VSBDownPressed&lt;/Pressed&gt;<br />
				&lt;Flyby&gt;A_VSBDownFlyby&lt;/Flyby&gt;<br />
				&lt;Disabled&gt;A_VSBDownDisabled&lt;/Disabled&gt;<br />
				&lt;PressedFlyby&gt;A_VSBDownPressedFlyby&lt;/PressedFlyby&gt;<br />
			&lt;/DownButton&gt;<br />
			&lt;Thumb&gt;<br />
				&lt;Top&gt;A_VSBThumbTop&lt;/Top&gt;<br />
				&lt;Bottom&gt;A_VSBThumbBottom&lt;/Bottom&gt;<br />
				&lt;Middle&gt;A_VSBThumbMiddle&lt;/Middle&gt;<br />
				&lt;OverlapLeft&gt;0&lt;/OverlapLeft&gt;<br />
				&lt;OverlapTop&gt;0&lt;/OverlapTop&gt;<br />
				&lt;OverlapRight&gt;0&lt;/OverlapRight&gt;<br />
				&lt;OverlapBottom&gt;0&lt;/OverlapBottom&gt;<br />
			&lt;/Thumb&gt;<br />
			&lt;MiddleTextureInfo&gt;scrollbar_gutter.tga&lt;/MiddleTextureInfo&gt;<br />
			&lt;MiddleTint&gt;<br />
				&lt;Alpha&gt;255&lt;/Alpha&gt;<br />
				&lt;R&gt;128&lt;/R&gt;<br />
				&lt;G&gt;128&lt;/G&gt;<br />
				&lt;B&gt;128&lt;/B&gt;<br />
			&lt;/MiddleTint&gt;<br />
		&lt;/VSBTemplate&gt;<br />
		&lt;HSBTemplate&gt;<br />
			&lt;UpButton&gt;<br />
				&lt;Normal&gt;A_HSBLeftNormal&lt;/Normal&gt;<br />
				&lt;Pressed&gt;A_HSBLeftPressed&lt;/Pressed&gt;<br />
				&lt;Flyby&gt;A_HSBLeftFlyby&lt;/Flyby&gt;<br />
				&lt;Disabled&gt;A_HSBLeftDisabled&lt;/Disabled&gt;<br />
				&lt;PressedFlyby&gt;A_HSBLeftPressedFlyby&lt;/PressedFlyby&gt;<br />
			&lt;/UpButton&gt;<br />
			&lt;DownButton&gt;<br />
				&lt;Normal&gt;A_HSBRightNormal&lt;/Normal&gt;<br />
				&lt;Pressed&gt;A_HSBRightPressed&lt;/Pressed&gt;<br />
				&lt;Flyby&gt;A_HSBRightFlyby&lt;/Flyby&gt;<br />
				&lt;Disabled&gt;A_HSBRightDisabled&lt;/Disabled&gt;<br />
				&lt;PressedFlyby&gt;A_HSBRightPressedFlyby&lt;/PressedFlyby&gt;<br />
			&lt;/DownButton&gt;<br />
			&lt;Thumb&gt;<br />
				&lt;Right&gt;A_HSBThumbRight&lt;/Right&gt;<br />
				&lt;Left&gt;A_HSBThumbLeft&lt;/Left&gt;<br />
				&lt;Middle&gt;A_HSBThumbMiddle&lt;/Middle&gt;<br />
				&lt;OverlapLeft&gt;0&lt;/OverlapLeft&gt;<br />
				&lt;OverlapTop&gt;0&lt;/OverlapTop&gt;<br />
				&lt;OverlapRight&gt;0&lt;/OverlapRight&gt;<br />
				&lt;OverlapBottom&gt;0&lt;/OverlapBottom&gt;<br />
			&lt;/Thumb&gt;<br />
			&lt;MiddleTextureInfo&gt;scrollbar_gutter.tga&lt;/MiddleTextureInfo&gt;<br />
			&lt;MiddleTint&gt;<br />
				&lt;Alpha&gt;255&lt;/Alpha&gt;<br />
				&lt;R&gt;128&lt;/R&gt;<br />
				&lt;G&gt;128&lt;/G&gt;<br />
				&lt;B&gt;128&lt;/B&gt;<br />
			&lt;/MiddleTint&gt;<br />
		&lt;/HSBTemplate&gt;<br />
		&lt;CloseBox&gt;<br />
			&lt;Normal&gt;A_CloseBtnNormal&lt;/Normal&gt;<br />
			&lt;Pressed&gt;A_CloseBtnPressed&lt;/Pressed&gt;<br />
			&lt;Flyby&gt;A_CloseBtnFlyby&lt;/Flyby&gt;<br />
			&lt;Disabled&gt;A_CloseBtnDisabled&lt;/Disabled&gt;<br />
			&lt;PressedFlyby&gt;A_CloseBtnPressedFlyby&lt;/PressedFlyby&gt;<br />
		&lt;/CloseBox&gt;<br />
		&lt;MinimizeBox&gt;<br />
			&lt;Normal&gt;A_MinimizeBtnNormal&lt;/Normal&gt;<br />
			&lt;Pressed&gt;A_MinimizeBtnPressed&lt;/Pressed&gt;<br />
			&lt;Flyby&gt;A_MinimizeBtnFlyby&lt;/Flyby&gt;<br />
			&lt;Disabled&gt;A_MinimizeBtnDisabled&lt;/Disabled&gt;<br />
			&lt;PressedFlyby&gt;A_MinimizeBtnPressedFlyby&lt;/PressedFlyby&gt;<br />
		&lt;/MinimizeBox&gt;<br />
		&lt;TileBox&gt;<br />
			&lt;Normal&gt;A_TileBtnNormal&lt;/Normal&gt;<br />
			&lt;Pressed&gt;A_TileBtnPressed&lt;/Pressed&gt;<br />
			&lt;Flyby&gt;A_TileBtnFlyby&lt;/Flyby&gt;<br />
			&lt;Disabled&gt;A_TileBtnDisabled&lt;/Disabled&gt;<br />
			&lt;PressedFlyby&gt;A_TileBtnPressedFlyby&lt;/PressedFlyby&gt;<br />
		&lt;/TileBox&gt;<br />
		&lt;Border&gt;<br />
			&lt;TopLeft&gt;A_BorderFrameTopLeft&lt;/TopLeft&gt;<br />
			&lt;Top&gt;A_BorderFrameTop&lt;/Top&gt;<br />
			&lt;TopRight&gt;A_BorderFrameTopRight&lt;/TopRight&gt;<br />
			&lt;RightTop&gt;A_BorderFrameRightTop&lt;/RightTop&gt;<br />
			&lt;Right&gt;A_BorderFrameRight&lt;/Right&gt;<br />
			&lt;RightBottom&gt;A_BorderFrameRightBottom&lt;/RightBottom&gt;<br />
			&lt;BottomRight&gt;A_BorderFrameBottomRight&lt;/BottomRight&gt;<br />
			&lt;Bottom&gt;A_BorderFrameBottom&lt;/Bottom&gt;<br />
			&lt;BottomLeft&gt;A_BorderFrameBottomLeft&lt;/BottomLeft&gt;<br />
			&lt;LeftTop&gt;A_BorderFrameLeftTop&lt;/LeftTop&gt;<br />
			&lt;Left&gt;A_BorderFrameLeft&lt;/Left&gt;<br />
			&lt;LeftBottom&gt;A_BorderFrameLeftBottom&lt;/LeftBottom&gt;<br />
			&lt;OverlapLeft&gt;0&lt;/OverlapLeft&gt;<br />
			&lt;OverlapTop&gt;0&lt;/OverlapTop&gt;<br />
			&lt;OverlapRight&gt;0&lt;/OverlapRight&gt;<br />
			&lt;OverlapBottom&gt;0&lt;/OverlapBottom&gt;<br />
		&lt;/Border&gt;<br />
		&lt;Titlebar&gt;<br />
			&lt;Right&gt;A_WindowTitleRight&lt;/Right&gt;<br />
			&lt;Left&gt;A_WindowTitleLeft&lt;/Left&gt;<br />
			&lt;Middle&gt;A_WindowTitleMiddle&lt;/Middle&gt;<br />
			&lt;OverlapLeft&gt;0&lt;/OverlapLeft&gt;<br />
			&lt;OverlapTop&gt;0&lt;/OverlapTop&gt;<br />
			&lt;OverlapRight&gt;0&lt;/OverlapRight&gt;<br />
			&lt;OverlapBottom&gt;0&lt;/OverlapBottom&gt;<br />
		&lt;/Titlebar&gt;<br />
	&lt;/WindowDrawTemplate&gt;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sc2kmayor</div><div class="date">01-12-2003, 03:28 PM</div></div><div class="posttext">Without fully checking over the code you have here, Yes. However it would be better to define the window in the actual file you are going to use the window in if you are using it only in one file or create an extra_templates file such as Statix method suggests, that way if the template file is updated by Sony, yours stays intact.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Asterof</div><div class="date">01-12-2003, 08:06 PM</div></div><div class="posttext">the default for the chat window is WDT_Def2 which is also<br />
used for several other items<br />
I want to change the texture and color for the chat<br />
window.<br />
SO I thought I would create the 256 x 256 graphic first<br />
which I did.<br />
Then I was going to add the defination for WDT_Def3 into the <br />
EQUI_Templates file.<br />
Then I was going to change the EQUI_ChatWindow.xml file<br />
to use the templet defination.<br />
however that is not working</div></div><hr />

<div id="copyright">vBulletin v3.0.3, Copyright &copy;2000-2004, Jelsoft Enterprises Ltd.</div>
</div>
</body>
</html>