<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<HEAD>
 	<TITLE> TWiki Meta Data - TWiki - DLC   </TITLE>
 <LINK HREF="/main.css" REL="stylesheet" TYPE="text/css" TITLE="DLC CSS"> 
 	<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />  
</HEAD>
<BODY BGCOLOR="#9C9A9C" TEXT="#000000" LINK="#0000CC" VLINK="#990000" ALINK="#0000CC">
<a name="PageTop"></a>
<!-- HEADER START -->
<TABLE ALIGN="CENTER" WIDTH="750" CELLPADDING="0" CELLSPACING="0" BORDER="0">
<TR>
        <TD VALIGN="top" BGCOLOR="#105AAD"><A HREF="/Home/Index"><IMG SRC="/gfx/TWiki_left_top.gif" WIDTH="150" HEIGHT="30" ALT="TWiki" BORDER="0"></A></TD>
        <TD VALIGN="top" WIDTH="600" BGCOLOR="#105AAD"><IMG SRC="/gfx/TWiki_right_top.gif" WIDTH="600" HEIGHT="30" ALT="TWiki" BORDER="0"></TD>
</TR>
<TR>
        <TD VALIGN="TOP" HEIGHT="200" BGCOLOR="#CECECE"><IMG SRC="/gfx/TWiki_left.jpg" WIDTH="150" HEIGHT="200" ALT="TWiki" BORDER="0">
      <TABLE WIDTH="100%" BORDER="0" CELLPADDING="4" CELLSPACING="4">
      <TR><TD>
<FONT SIZE="-1">
 <A HREF="/TWiki/Index">Index</A>
<p />
<A HREF="/TWiki/WebIndex">Web Index</A>
<p />
 <BR><BR><HR><BR> 
 <table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr><th  colspan="2" align="center" valign="top" bgcolor="#9C9A9C"> <strong><font SIZE="-2">Players on</font></strong> </th></tr>
<tr><td  valign="top"> <font SIZE="-2">TeamSpeak:</font>  </td><td  align="right" valign="top"> <FONT COLOR="green" SIZE="-2">0/64</FONT> </td></tr>
<tr><td  valign="top"> <font SIZE="-2"><A HREF="/Home/MuaddibsCS">Muaddib's CS</A>:</font>  </td><td  align="right" valign="top"> <FONT COLOR="green" SIZE="-2">3/20</FONT> </td></tr>
<tr><td  colspan="2" valign="top"> <BR>  </td></tr>
<tr><td  colspan="2" valign="top"> <BR><font SIZE="-2"><I>Info updated every 5 min.</I></font> </td></tr>
</table>
<p />
</FONT>
      </TD></TR></TABLE>
        </TD>
        <TD ROWSPAN="2" BGCOLOR="#DEDFDE" VALIGN="TOP">
<!-- HEADER END --> 
<H2 ALIGN="center">TWiki Meta Data</H2>
<p />
<ul >
<li> <a href="#TWiki_Meta_Data">TWiki Meta Data</a>
<ul >
<li> <a href="#Overview">Overview</a>
</li>
<li> <a href="#Meta_Data_Syntax">Meta Data Syntax</a>
</li>
<li> <a href="#Meta_Data_Specifications">Meta Data Specifications</a>
<ul >
<li> <a href="#META_TOPICINFO">META:TOPICINFO</a>
</li>
<li> <a href="#META_TOPICMOVED">META:TOPICMOVED</a>
</li>
<li> <a href="#META_TOPICPARENT">META:TOPICPARENT</a>
</li>
<li> <a href="#META_FILEATTACHMENT">META:FILEATTACHMENT</a>
</li>
<li> <a href="#META_FORM">META:FORM</a>
</li>
<li> <a href="#META_FIELD">META:FIELD</a>
</li>
<li> <a href="#Recommended_Sequence">Recommended Sequence</a>
</li>
</ul>
</li>
<li> <a href="#Viewing_Meta_Data_in_Page_Source">Viewing Meta Data in Page Source</a>
</li>
<li> <a href="#Rendering_Meta_Data">Rendering Meta Data</a>
</li>
<li> <a href="#Known_Issues">Known Issues</a>
</li>
</ul>
</li>
</ul>
<HR WIDTH="85%">
<p />
<ul >
<li> <a href="#TWiki_Meta_Data">TWiki Meta Data</a>
<ul >
<li> <a href="#Overview">Overview</a>
</li>
<li> <a href="#Meta_Data_Syntax">Meta Data Syntax</a>
</li>
<li> <a href="#Meta_Data_Specifications">Meta Data Specifications</a>
<ul >
<li> <a href="#META_TOPICINFO">META:TOPICINFO</a>
</li>
<li> <a href="#META_TOPICMOVED">META:TOPICMOVED</a>
</li>
<li> <a href="#META_TOPICPARENT">META:TOPICPARENT</a>
</li>
<li> <a href="#META_FILEATTACHMENT">META:FILEATTACHMENT</a>
</li>
<li> <a href="#META_FORM">META:FORM</a>
</li>
<li> <a href="#META_FIELD">META:FIELD</a>
</li>
<li> <a href="#Recommended_Sequence">Recommended Sequence</a>
</li>
</ul>
</li>
<li> <a href="#Viewing_Meta_Data_in_Page_Source">Viewing Meta Data in Page Source</a>
</li>
<li> <a href="#Rendering_Meta_Data">Rendering Meta Data</a>
</li>
<li> <a href="#Known_Issues">Known Issues</a>
</li>
</ul>
</li>
</ul>
<p />
<a name="MetaDataDefinition"></a>
<h1><a name ="TWiki_Meta_Data"> </a> TWiki Meta Data </h1>
<p />
<em>Topic data not editable from main freeform text box, stored in name/value <code>META</code> variable pairs</em>
<p />
<h2><a name ="Overview"> </a> Overview </h2>
<p />
TWikiMetaData uses <code>META</code> variables to store topic data that's separate from the main free-form content. This includes program-generated info like <A HREF="/TWiki/FileAttachment">FileAttachment</A> data, and user-defined <A HREF="/TWiki/TWikiForms">TWikiForms</A> info.
<p />
<h2><a name ="Meta_Data_Syntax"> </a> Meta Data Syntax </h2>
<p />
<ul >
<li> Format is the same as in <A HREF="/TWiki/TWikiVariables">TWikiVariables</A>, except all fields have a key.
<ul >
<li> <code>%META:&lt;type&gt;{key1="value1" key2="value2" ...}%</code>
</li>
</ul>
</li>
</ul>
<p />
<ul >
<li> Order of fields within the meta variables is not defined, except that if there is a field with key <code>name</code>, this appears first for easier searching (note the order of the variables themselves is defined).
</li>
</ul>
<p />
<ul >
<li> Each meta variable is on one line.
</li>
</ul>
<p />
<ul >
<li> <code>\n</code> (new line) is represented in values by <code>%<em>N</em></code> and <code>"</code> (double-quotes) by <code>%<em>Q</em>%</code>.
</li>
</ul>
<p />
<blockquote style="background-color:#f0f0f0">
<strong>Example of Format</strong>
<pre>
%META:TOPICINFO{version="1.6" date="976762663" author="PeterThoeny" format="1.0"}%
   text of the topic
%META:TOPICMOVED{from="Codev.OldName" to="Codev.NewName"
   by="JohnTalintyre" date="976762680"}%
%META:TOPICPARENT{name="NavigationByTopicContext"}%
%META:FILEATTACHMENT{name="Sample.txt" version="1.3" ... }%
%META:FILEATTACHMENT{name="Smile.gif" version="1.1" ... }%
%META:FORM{name="WebFormTemplate"}%
%META:FIELD{name="OperatingSystem" value="OsWin"}%
%META:FIELD{name="TopicClassification" value="PublicFAQ"}%
</pre>
</blockquote>
<p />
<h2><a name ="Meta_Data_Specifications"> </a> Meta Data Specifications </h2>
<p />
The current version of Meta Data is 1.0, with support for the following variables.
<p />
<h3><a name ="META_TOPICINFO"> </a> META:TOPICINFO </h3>
<p />
       <table border="0" cellspacing="1" cellpadding="0">
   <tr><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Key</strong> </th><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Comment</strong> </th></tr>
   <tr><td  valign="top"> version  </td><td  valign="top"> Same as RCS version  </td></tr>
   <tr><td  valign="top"> date     </td><td  valign="top"> integer, unx time, seconds since start 1970  </td></tr>
   <tr><td  valign="top"> author   </td><td  valign="top"> last to change topic, is the REMOTE_USER  </td></tr>
   <tr><td  valign="top"> format   </td><td  valign="top"> Format of this topic, will be used for automatic format conversion  </td></tr>
   </table>
<p />
<h3><a name ="META_TOPICMOVED"> </a> META:TOPICMOVED </h3>
<p />
This is optional, exists if topic has ever been moved.  If a topic is moved more than once, only the most recent META:TOPICMOVED meta variable exists in the topic, older ones are to be found in the rcs history.
<p />
<code>%META:TOPICMOVED{from="Codev.OldName" to="Codev.NewName" by="talintj" date="976762680"}%</code>
<p />
       <table border="0" cellspacing="1" cellpadding="0">
   <tr><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Key</strong> </th><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Comment</strong> </th></tr>
   <tr><td  valign="top"> from  </td><td  valign="top"> Full name i.e. web.topic  </td></tr>
   <tr><td  valign="top"> to    </td><td  valign="top"> Full name i.e. web.topic  </td></tr>
   <tr><td  valign="top"> by    </td><td  valign="top"> Who did it, is the REMOTE_USER, not WikiName  </td></tr>
   <tr><td  valign="top"> date  </td><td  valign="top"> integer, unx time, seconds since start 1970  </td></tr>
   </table>
<p />
Notes: 
<ul >
<li> at present version number is not supported directly, it can be inferred from the RCS history.
</li>
<li> there is only one META:TOPICMOVED in a topic, older move information can be found in the RCS history.
</li>
</ul>
<p />
<h3><a name ="META_TOPICPARENT"> </a> META:TOPICPARENT </h3>
<p />
    <table border="0" cellspacing="1" cellpadding="0">
   <tr><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Key</strong> </th><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Comment</strong> </th></tr>
   <tr><td  valign="top"> name     </td><td  valign="top"> The topic from which this was created, Index if done from <code>Go</code>, othewise topic where <code>?</code> or form used.  Normally just topic, but is full web.topic format if parent is in a different Web.  Renaming a Web will then only break a few of these references or they can be scanned and fixed.  </td></tr>
   </table>
<p />
<h3><a name ="META_FILEATTACHMENT"> </a> META:FILEATTACHMENT </h3>
<p />
           <table border="0" cellspacing="1" cellpadding="0">
   <tr><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Key</strong> </th><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Comment</strong> </th></tr>
   <tr><td  valign="top"> name     </td><td  valign="top"> Name of file, no path.  Must be unique within topic  </td></tr>
   <tr><td  valign="top"> version  </td><td  valign="top"> Same as RCS revision   </td></tr>
   <tr><td  valign="top"> path     </td><td  valign="top"> Full path file was loaded from  </td></tr>
   <tr><td  valign="top"> size     </td><td  valign="top"> In bytes  </td></tr>
   <tr><td  valign="top"> date     </td><td  valign="top"> integer, unx time, seconds since start 1970  </td></tr>
   <tr><td  valign="top"> user     </td><td  valign="top"> the REMOTE_USER, not WikiName  </td></tr>
   <tr><td  valign="top"> comment  </td><td  valign="top"> As supplied when file uploaded  </td></tr>
   <tr><td  valign="top"> attr     </td><td  valign="top"> <code>h</code> if hidden, optional  </td></tr>
   </table>
<p />
Extra fields that are added if an attachment is moved:
<p />
       <table border="0" cellspacing="1" cellpadding="0">
   <tr><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Key</strong> </th><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Comment</strong> </th></tr>
   <tr><td  valign="top"> movedfrom  </td><td  valign="top"> full topic name - web.topic  </td></tr>
   <tr><td  valign="top"> movedby    </td><td  valign="top"> the REMOTE_USER, not WikiName  </td></tr>
   <tr><td  valign="top"> movedto    </td><td  valign="top"> full topic name - web.topic  </td></tr>
   <tr><td  valign="top"> moveddate  </td><td  valign="top"> integer, unx time, seconds since start 1970  </td></tr>
   </table>
<p />
<h3><a name ="META_FORM"> </a> META:FORM </h3>
<p />
    <table border="0" cellspacing="1" cellpadding="0">
   <tr><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Key</strong> </th><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Comment</strong> </th></tr>
   <tr><td  valign="top"> name     </td><td  valign="top"> A topic name - the topic represents one of the <A HREF="/TWiki/TWikiForms">TWikiForms</A>.  Can optionally include the web name i.e. web.topic, but doesn't normally  </td></tr>
   </table>
<p />
<h3><a name ="META_FIELD"> </a> META:FIELD </h3>
<p />
Should only be present if there is a META:FORM entry.  Note that this data is used when viewing a topic, the form template definition is not read.
<p />
       <table border="0" cellspacing="1" cellpadding="0">
   <tr><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Key</strong> </th><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Name</strong> </th></tr>
   <tr><td  valign="top"> name     </td><td  valign="top"> Ties to entry in <A HREF="/TWiki/TWikiForms">TWikiForms</A> template, is title with all bar alphanumerics and . removed  </td></tr>
   <tr><td  valign="top"> title    </td><td  valign="top"> Full text from <A HREF="/TWiki/TWikiForms">TWikiForms</A> template  </td></tr>
   <tr><td  valign="top"> value    </td><td  valign="top"> Value user has supplied via form  </td></tr>
   </table>
<p />
<h3><a name ="Recommended_Sequence"> </a> Recommended Sequence </h3>
<p />
There is no absolute need for Meta Data variables to be listed in a specific order within a topic, but it makes sense to do so a couple of good reasons:
<p />
<ul >
<li> form fields remain in the order they are defined
</li>
<li> the <code>diff</code> function output appears in a logical order
</li>
</ul>
<p />
The recommended sequence is:
<p />
<ul >
<li> META:TOPICINFO
</li>
<li> <code>text of topic</code>
</li>
<li> META:TOPICMOVED (optional)
</li>
<li> META:TOPICPARENT (optional)
</li>
<li> META:FILEATTACHMENT (0 or more entries)
</li>
<li> META:FORM (optional)
</li>
<li> META:FIELD (0 or more entries; FORM required)
</li>
</ul>
<p />
<h2><a name ="Viewing_Meta_Data_in_Page_Source"> </a> Viewing Meta Data in Page Source </h2>
<p />
When viewing a topic the <code><b>Raw Text</b></code> link can be clicked to show the text of a topic (ie: as seen when editing).  This is done by adding <code>raw=on</code> to URL.  <code>raw=debug</code> shows the meta data as well as the topic data, ex: <a href="/bin/view/TWiki/TWikiMetaData?raw=debug">debug view for this topic</a>
<p />
<a name="MetaDataRendering"></a>
<h2><a name ="Rendering_Meta_Data"> </a> Rendering Meta Data </h2>
<p />
Meta Data is rendered with the %META% variable. This is mostly used in the <code>view</code>, <code>preview</code> and <code>edit</code> scripts.
<p />
Current support covers:
<p />
              <table border="0" cellspacing="1" cellpadding="0">
  <tr><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Variable usage:</strong> </th><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Comment:</strong> </th></tr>
  <tr><td  valign="top"> %META{"form"}%  </td><td  valign="top"> Show form data, see <A HREF="/TWiki/TWikiForms">TWikiForms</A>  </td></tr>
  <tr><td  valign="top"> %META{"attachments"}%  </td><td  valign="top"> Show attachments, exclude hidden  </td></tr>
  <tr><td  valign="top"> Options for <A HREF="/TWiki/FileAttachment">Attachments</A>:  </td><td  valign="top"> &nbsp;  </td></tr>
  <tr><td  valign="top"> all="on"  </td><td  valign="top"> Show ALL attachments (including hidden)  </td></tr>
  <tr><td  valign="top"> %META{"moved"}%  </td><td  valign="top"> Details of any topic moves  </td></tr>
  <tr><td  valign="top"> %META{"parent [options]"}%  </td><td  valign="top"> Show topic parent  </td></tr>
  <tr><td  valign="top"> Options for parent:  </td><td  valign="top"> &nbsp;  </td></tr>
  <tr><td  valign="top"> dontrecurse="on"  </td><td  valign="top"> By default recurses up tree, at some cost  </td></tr>
  <tr><td  valign="top"> prefix="..."  </td><td  valign="top"> Prefix for parents, only if there are parents; default ""  </td></tr>
  <tr><td  valign="top"> suffix="..."  </td><td  valign="top"> Suffix, only appears if there are parents; default ""  </td></tr>
  <tr><td  valign="top"> separator="..."  </td><td  valign="top"> Separator between parents, default is " &gt; "  </td></tr>
  </table>
<p />
<h2><a name ="Known_Issues"> </a> Known Issues </h2>
<p />
At present, there is no Meta Data support for Plugins. However, the format is readily extendable and the <code>Meta.pm</code> code that supports the format needs only minor alteration.
<p />
&#151; <span style='background : #FFFFCE;'><font color="#0000FF">JohnTalintyre</font></span><a href="/bin/edit/TWiki/JohnTalintyre?topicparent=TWiki.TWikiMetaData">?</a> - 29 Aug 2001 <br />
<BR CLEAR="all">
<HR WIDTH="85%">
<p />
<p />
<form name="main" action="/TWiki/">
<!-- FOOTER START -->
<BR CLEAR="all"></TD></TR>
</TABLE>
<!-- FOOTER END --> 
<TABLE ALIGN="CENTER" WIDTH="750" CELLPADDING="0" CELLSPACING="0" BORDER="0">
<TR><TD BGCOLOR="#9C9A9C" ALIGN="center"><FONT SIZE="-1">Topic <b>TWikiMetaData</b> (   <a href="/bin/edit/TWiki/TWikiMetaData"><b>Edit</b></a>
   |  <a href="/bin/attach/TWiki/TWikiMetaData">Attach</a>
   |  <a href="/bin/search/TWiki/SearchResult?scope=text&amp;regex=on&amp;search=TWiki%20*Meta%20*Data%5B%5EA-Za-z%5D">Ref-By</a>
   |  <a href="/bin/rdiff/TWiki/TWikiMetaData">Diffs</a>  | r1.7 | <a href="/bin/rdiff/TWiki/TWikiMetaData?rev1=1.7&amp;rev2=1.6">&gt;</a> | <a href="/bin/view/TWiki/TWikiMetaData?rev=1.6">r1.6</a> | <a href="/bin/rdiff/TWiki/TWikiMetaData?rev1=1.6&amp;rev2=1.5">&gt;</a> | <a href="/bin/view/TWiki/TWikiMetaData?rev=1.5">r1.5</a>
   |  <a href="/bin/oops/TWiki/TWikiMetaData?template=oopsmore&param1=1.7&param2=1.7">More</a> 
  |  Go <input type="text" name="topic" size="16" />
 )</FONT></TD></TR>
</TABLE> 
</form>
<CENTER><FONT SIZE="-1">Revision r1.7 - 23 Mar 2003 - 19:03 GMT - Khelan<BR><BR>
<p />
   <font size="-2">Copyright &copy; 2000 by the contributing authors. 
All material on this collaboration tool is the property of the contributing authors. <br> 
Ideas, requests, problems regarding DLC? <a href="mailto:khelan@clandlc.com?subject=DLC&#32;Feedback">Send</a> feedback. </font><BR><BR>
 <p /></FONT></CENTER>
<a name="PageBottom"></a>
</body>
</html>