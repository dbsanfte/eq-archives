<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head>
 <title>DLC . TWiki . FormattedSearch (r1.1 vs. r1.3)</title>
 <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
 <meta name="robots" content="noindex" /> 
 <LINK HREF="/main.css" REL="stylesheet" TYPE="text/css" TITLE="DLC CSS"> 
</head>
<body bgcolor="#9C9A9C">
<a name="PageTop"></a>
<form name="main" action="/TWiki/">
<!-- HEADER START -->
<TABLE ALIGN="CENTER" WIDTH="750" CELLPADDING="0" CELLSPACING="0" BORDER="0">
<TR>
        <TD VALIGN="top" BGCOLOR="#105AAD"><A HREF="/Home/Index"><IMG SRC="/gfx/TWiki_left_top.gif" WIDTH="150" HEIGHT="30" ALT="TWiki" BORDER="0"></A></TD>
        <TD VALIGN="top" WIDTH="600" BGCOLOR="#105AAD"><IMG SRC="/gfx/TWiki_right_top.gif" WIDTH="600" HEIGHT="30" ALT="TWiki" BORDER="0"></TD>
</TR>
<TR>
        <TD VALIGN="TOP" HEIGHT="200" BGCOLOR="#CECECE"><IMG SRC="/gfx/TWiki_left.jpg" WIDTH="150" HEIGHT="200" ALT="TWiki" BORDER="0">
      <TABLE WIDTH="100%" BORDER="0" CELLPADDING="4" CELLSPACING="4">
      <TR><TD>
<FONT SIZE="-1">
<p />
<table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr><th  colspan="2" align="center" valign="top" bgcolor="#9C9A9C"> <strong><font SIZE="-2">Players on</font></strong> </th></tr>
<tr><td  valign="top"> <font SIZE="-2">TeamSpeak:</font>  </td><td  align="right" valign="top"> <FONT COLOR="green" SIZE="-2">0/64</FONT> </td></tr>
<tr><td  valign="top"> <font SIZE="-2"><A HREF="/Home/MuaddibsCS">Muaddib's CS</A>:</font>  </td><td  align="right" valign="top"> <FONT COLOR="green" SIZE="-2">0/20</FONT> </td></tr>
<tr><td  colspan="2" valign="top"> <BR>  </td></tr>
<tr><td  colspan="2" valign="top"> <BR><font SIZE="-2"><I>Info updated every 5 min.</I></font> </td></tr>
</table>
<p />
</FONT>
      </TD></TR></TABLE>
        </TD>
        <TD ROWSPAN="2" BGCOLOR="#DEDFDE" VALIGN="TOP">
<!-- HEADER END --> 
</form><table width="100%" border="3" cellpadding="0" cellspacing="0">
  <tr bgcolor="#9C9A9C">
	 <td width="99%">
		&nbsp;<tt><b>&lt;&lt;O&gt;&gt;</b></tt>&nbsp; Difference Topic <b>FormattedSearch</b> (r1.3 - 02&nbsp;Dec&nbsp;2001&nbsp;-&nbsp;<span&nbsp;style='background&nbsp;:&nbsp;#FFFFCE;'><font&nbsp;color="#0000FF">MikeMannix</font></span><a&nbsp;href="/bin/edit/TWiki/MikeMannix?topicparent=TWiki.FormattedSearch">?</a>)
	 </td>
  </tr>
</table>
<table width="100%" cellspacing="0">
<tr><td>
</td></tr>
<tr><td bgcolor="#FFD7D7" colspan ="2"><b> Deleted: </b></td></tr>
<tr><td bgcolor="#FF4040" valign="top" width="1%">&lt;<br />&lt;</td><td><p />
<strong>Formatted Search Using <code><b>%SEARCH{... format="..."}%</b></code> Variable</strong>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Added:   </b></td></tr>
<tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td><p />
<p />
<h1><a name ="TWiki_Formatted_Search_Results"> </a> TWiki Formatted Search Results </h1>
<p />
<em>Inline search feature allows flexible formatting of search result</em>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Changed: </b></td></tr>
<tr><td bgcolor="#FF4040" valign="top" width="1%">&lt;<br />&lt;</td><td><p />
<h2><a name ="Preface"> </a> Preface </h2>
</td></tr><tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td>
<p />
<h2><a name ="Overview"> </a> Overview </h2></td></tr>
</table>
<br clear="all" /><table width="100%" border="3" cellpadding="0" cellspacing="0">
  <tr bgcolor="#9C9A9C">
	 <td width="99%">
		&nbsp;<tt><b>&lt;&lt;O&gt;&gt;</b></tt>&nbsp; Difference Topic <b>FormattedSearch</b> (r1.2 - 29&nbsp;Nov&nbsp;2001&nbsp;-&nbsp;<span&nbsp;style='background&nbsp;:&nbsp;#FFFFCE;'><font&nbsp;color="#0000FF">PeterThoeny</font></span><a&nbsp;href="/bin/edit/TWiki/PeterThoeny?topicparent=TWiki.FormattedSearch">?</a>)
	 </td>
  </tr>
</table>
<table width="100%" cellspacing="0">
<tr><td>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Changed: </b></td></tr>
<tr><td bgcolor="#FF4040" valign="top" width="1%">&lt;<br />&lt;</td><td><p />
Use the header paramter to specify the header of a search result. It should correspond to the format of the format parameter. This parameter is optional. I.e. <code>header="| <strong>Topic:</strong> | <strong>Summary:</strong> |"</code>
</td></tr><tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td>
<p />
Use the header paramter to specify the header of a search result. It should correspond to the format of the format parameter. This parameter is optional. I.e. <br /> <code>header="| <strong>Topic:</strong> | <strong>Summary:</strong> |"</code>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Changed: </b></td></tr>
<tr><td bgcolor="#FF4040" valign="top" width="1%">&lt;<br />&lt;</td><td><p />
Use the format paramter to specify the format of one search hit. I.e. <code>format="| $topic | $summary |"</code>
</td></tr><tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td>
<p />
Use the format paramter to specify the format of one search hit. I.e. <br /> <code>format="| $topic | $summary |"</code>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Added:   </b></td></tr>
<tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td><p />
<table border="0" cellspacing="1" cellpadding="0">
<tr><td  valign="top"> <code>$n</code>  </td><td  valign="top"> New line  </td></tr>
</table>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Changed: </b></td></tr>
<tr><td bgcolor="#FF4040" valign="top" width="1%">&lt;<br />&lt;</td><td><p />
<table border="0" cellspacing="1" cellpadding="0">
<tr><td  valign="top"> <code>$date</code>  </td><td  valign="top"> Time stamp of last topic update  </td></tr>
</table>
</td></tr><tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td>
<p />
<table border="0" cellspacing="1" cellpadding="0">
<tr><td  valign="top"> <code>$date</code>  </td><td  valign="top"> Time stamp of last topic update, i.e. <code>15 Jul 2004 - 14:09</code>  </td></tr>
<tr><td  valign="top"> <code>$isodate</code>  </td><td  valign="top"> Time stamp of last topic update, i.e. <code>2004-07-15T14:09Z</code>  </td></tr>
</table>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Added:   </b></td></tr>
<tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td><p />
<table border="0" cellspacing="1" cellpadding="0">
<tr><td  valign="top"> <code>$username</code>  </td><td  valign="top"> User name of last topic update, i.e. <code>JohnSmith</code>  </td></tr>
</table>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Changed: </b></td></tr>
<tr><td bgcolor="#FF4040" valign="top" width="1%">&lt;<br />&lt;</td><td><p />
<table border="0" cellspacing="1" cellpadding="0">
<tr><td  valign="top"> <code>$formfield(name)</code>  </td><td  valign="top"> The field value of a form field, i.e. <code>$formfield(<span style='background : #FFFFCE;'><font color="#0000FF">TopicClassification</font></span><a href="/bin/edit/TWiki/TopicClassification?topicparent=TWiki.FormattedSearch">?</a>)</code> would get expanded to <code>PublicFAQ</code>. This applies only to topics that have a <A HREF="/TWiki/TWikiForms">TWikiForm</A>  </td></tr>
</table>
</td></tr><tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td>
<p />
<table border="0" cellspacing="1" cellpadding="0">
<tr><td  valign="top"> <code>$formfield(name)</code>  </td><td  valign="top"> The field value of a form field, i.e. <code>$formfield(TopicClassification)</code> would get expanded to <code>PublicFAQ</code>. This applies only to topics that have a <A HREF="/TWiki/TWikiForms">TWikiForm</A>  </td></tr>
</table>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Changed: </b></td></tr>
<tr><td bgcolor="#FF4040" valign="top" width="1%">&lt;<br />&lt;</td><td><p />
<code>%SEARCH{ "[T]opicClassification.*?value=\"[P]ublicFAQ\"" scope="text" regex="on" nosearch="on" nototal="on" format="| [[$topic]] | $formfield(<span style='background : #FFFFCE;'><font color="#0000FF">OperatingSystem</font></span><a href="/bin/edit/TWiki/OperatingSystem?topicparent=TWiki.FormattedSearch">?</a>) | $formfield(<span style='background : #FFFFCE;'><font color="#0000FF">OsVersion</font></span><a href="/bin/edit/TWiki/OsVersion?topicparent=TWiki.FormattedSearch">?</a>) |" }%</code>
</td></tr><tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td>
<p />
<code>%SEARCH{ "[T]opicClassification.*?value=\"[P]ublicFAQ\"" scope="text" regex="on" nosearch="on" nototal="on" format="| [[$topic]] | $formfield(OperatingSystem) | $formfield(OsVersion) |" }%</code>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Changed: </b></td></tr>
<tr><td bgcolor="#FF4040" valign="top" width="1%">&lt;<br />&lt;</td><td><p />
&#151; <span style='background : #FFFFCE;'><font color="#0000FF">PeterThoeny</font></span><a href="/bin/edit/Main/PeterThoeny?topicparent=TWiki.FormattedSearch">?</a> - 24 Oct 2001 <br />
</td></tr><tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td>
<p />
&#151; <span style='background : #FFFFCE;'><font color="#0000FF">PeterThoeny</font></span><a href="/bin/edit/Main/PeterThoeny?topicparent=TWiki.FormattedSearch">?</a> - 28 Nov 2001 <br /></td></tr>
</table>
<br clear="all" /><table width="100%" border="3" cellpadding="0" cellspacing="0">
  <tr bgcolor="#9C9A9C">
	 <td width="99%">
		&nbsp;<tt><b>&lt;&lt;O&gt;&gt;</b></tt>&nbsp; Difference Topic <b>FormattedSearch</b> (r1.1 - 25&nbsp;Oct&nbsp;2001&nbsp;-&nbsp;<span&nbsp;style='background&nbsp;:&nbsp;#FFFFCE;'><font&nbsp;color="#0000FF">PeterThoeny</font></span><a&nbsp;href="/bin/edit/TWiki/PeterThoeny?topicparent=TWiki.FormattedSearch">?</a>)
	 </td>
  </tr>
</table>
<table width="100%" cellspacing="0">
<tr><td>
</td></tr>
<tr><td bgcolor="#D0FFD0" colspan ="2"><b> Added:   </b></td></tr>
<tr><td bgcolor="#40FF40" valign="top" width="1%">&gt;<br />&gt;</td><td><p />
%META:TOPICINFO{author="PeterThoeny" date="1003975981" format="1.0" version="1.1"}%
%META:TOPICPARENT{name="TWikiVariables"}%
<strong>Formatted Search Using <code><b>%SEARCH{... format="..."}%</b></code> Variable</strong>
<p />
<p />
<ul >
<li> <a href="#Preface">Preface</a>
</li>
<li> <a href="#Syntax">Syntax</a>
</li>
<li> <a href="#Examples">Examples</a>
<ul >
<li> <a href="#Bullet_list_showing_topic_name_a">Bullet list showing topic name and summary</a>
</li>
<li> <a href="#Table_showing_form_field_values_">Table showing form field values of topics with a form</a>
</li>
<li> <a href="#Extract_some_text_from_a_topic_u">Extract some text from a topic using regular expression</a>
</li>
</ul>
</li>
</ul>
<p />
<h2><a name ="Preface"> </a> Preface </h2>
<p />
By default, the format for displaying a search result is fixed, e.g. a table with rows of topic name and topic summary. Use the <code>format="..."</code> parameter to specify a customized format of the search result. The string of the format parameter is typically a bullet list or table row containing variables (i.e. <code>%SEARCH{ "food" format="| $topic | $summary |" }%</code>).
<p />
<h2><a name ="Syntax"> </a> Syntax </h2>
<p />
Two paramters can be used to specify a customized search result:
<p />
1. <code>header="..."</code> parameter
<p />
Use the header paramter to specify the header of a search result. It should correspond to the format of the format parameter. This parameter is optional. I.e. <code>header="| <strong>Topic:</strong> | <strong>Summary:</strong> |"</code>
<p />
2. <code>format="..."</code> parameter
<p />
Use the format paramter to specify the format of one search hit. I.e. <code>format="| $topic | $summary |"</code>
<p />
Variables that can be used in the format string:
<p />
<table border="0" cellspacing="1" cellpadding="0">
<tr><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Name:</strong> </th><th  align="left" valign="top" bgcolor="#9C9A9C"> <strong>Expands To:</strong> </th></tr>
<tr><td  valign="top"> <code>$web</code>  </td><td  valign="top"> Name of the web  </td></tr>
<tr><td  valign="top"> <code>$topic</code>  </td><td  valign="top"> Topic name  </td></tr>
<tr><td  valign="top"> <code>$locked</code>  </td><td  valign="top"> LOCKED flag (if any)  </td></tr>
<tr><td  valign="top"> <code>$date</code>  </td><td  valign="top"> Time stamp of last topic update  </td></tr>
<tr><td  valign="top"> <code>$rev</code>  </td><td  valign="top"> Number of last topic revision, i.e. <code>1.4</code>  </td></tr>
<tr><td  valign="top"> <code>$wikiusername</code>  </td><td  valign="top"> Wiki user name of last topic update, i.e. <code>Home.JohnSmith</code>  </td></tr>
<tr><td  valign="top"> <code>$summary</code>  </td><td  valign="top"> Topic summary  </td></tr>
<tr><td  valign="top"> <code>$formfield(name)</code>  </td><td  valign="top"> The field value of a form field, i.e. <code>$formfield(<span style='background : #FFFFCE;'><font color="#0000FF">TopicClassification</font></span><a href="/bin/edit/TWiki/TopicClassification?topicparent=TWiki.FormattedSearch">?</a>)</code> would get expanded to <code>PublicFAQ</code>. This applies only to topics that have a <A HREF="/TWiki/TWikiForms">TWikiForm</A>  </td></tr>
<tr><td  valign="top"> <code>$pattern(reg-exp)</code>  </td><td  valign="top"> A regular expression pattern to extract some text from a topic, i.e. <code>$pattern(.*?\*.*?Email\:\s*([^\n\r]+).*)</code> extracts the email address from a bullet of format <code>* Email: ...</code>.  </td></tr>
</table>
<p />
<strong><em>Note:</em></strong> For <code>$pattern(reg-exp)</code>, specify a <A HREF="/TWiki/RegularExpression">RegularExpression</A> that scans from start to end and contains the text you want to keep in parenthesis, i.e. <code>$pattern(.*?(from here.*?to here).*)</code>. You need to make sure that the integrity of a web page is not compromised, i.e. if you include a table make sure to include everything including the table end tag.
<p />
<h2><a name ="Examples"> </a> Examples </h2>
<p />
<h3><a name ="Bullet_list_showing_topic_name_a"> </a> Bullet list showing topic name and summary </h3>
<p />
Write this:
<p />
<code>%SEARCH{ "FAQ" scope="topic" nosearch="on" nototal="on" header=" &nbsp; * *Topic: Summary:*" format=" &nbsp; * [[$topic]]: $summary" }%</code>
<p />
To get this:
<p />
<ul >
<li> <strong>Topic: Summary:</strong>
</li>
<li> <A HREF="/TWiki/TextFormattingFAQ">TextFormattingFAQ</A>: Text Formatting FAQ The most frequently asked questions about text formatting are answered. Also, TextFormattingRules contains the complete TWiki shorthand system ...
</li>
</ul>
<p />
<h3><a name ="Table_showing_form_field_values_"> </a> Table showing form field values of topics with a form </h3>
<p />
Write this in the Know web:
<p />
<code>| <strong>Topic:</strong> | <strong>OperatingSystem:</strong> | <strong>OsVersion:</strong> |</code> <br />
<code>%SEARCH{ "[T]opicClassification.*?value=\"[P]ublicFAQ\"" scope="text" regex="on" nosearch="on" nototal="on" format="| [[$topic]] | $formfield(<span style='background : #FFFFCE;'><font color="#0000FF">OperatingSystem</font></span><a href="/bin/edit/TWiki/OperatingSystem?topicparent=TWiki.FormattedSearch">?</a>) | $formfield(<span style='background : #FFFFCE;'><font color="#0000FF">OsVersion</font></span><a href="/bin/edit/TWiki/OsVersion?topicparent=TWiki.FormattedSearch">?</a>) |" }%</code>
<p />
To get this:
<p />
<table border="1" cellspacing="0" cellpadding="1">
<tr>
 <th bgcolor="#99CCCC"> <strong>Topic:</strong> </th>
 <th bgcolor="#99CCCC"> <strong>OperatingSystem:</strong> </th>
 <th bgcolor="#99CCCC"> <strong>OsVersion:</strong> </th></tr>
<tr>
 <td>  <a href="/bin/view/Know/IncorrectDllVersionW32PTH10DLL">IncorrectDllVersionW32PTH10DLL</a>  </td><td>  <a href="/bin/view/Know/OsWin">OsWin</a>  </td><td>  95/98  </td></tr>
<tr>
 <td>  <a href="/bin/view/Know/WinDoze95Crash">WinDoze95Crash</a>  </td>
 <td>  <a href="/bin/view/Know/OsWin">OsWin</a>  </td>
 <td>  95  </td></tr>
</table>
<p />
<h3><a name ="Extract_some_text_from_a_topic_u"> </a> Extract some text from a topic using regular expression </h3>
<p />
Write this:
<p />
<code>%SEARCH{ "__Back to\:__ TWikiFAQ" scope="text" regex="on" nosearch="on" nototal="on" header="TWiki FAQs:" format=" &nbsp; * $pattern(.*?FAQ\:[\n\r]*([^\n\r]+).*) [[$topic][Answer...]]" }%</code>
<p />
To get this:
<p />
TWiki FAQs:
<p />
&#151; <span style='background : #FFFFCE;'><font color="#0000FF">PeterThoeny</font></span><a href="/bin/edit/Main/PeterThoeny?topicparent=TWiki.FormattedSearch">?</a> - 24 Oct 2001 <br /></td></tr>
</table>
<br clear="all" /><p />
<!-- FOOTER START -->
<BR CLEAR="all"></TD></TR>
</TABLE>
<!-- FOOTER END --> 
<TABLE ALIGN="CENTER" WIDTH="750" CELLPADDING="0" CELLSPACING="0" BORDER="0">
<TR><TD BGCOLOR="#9C9A9C" ALIGN="center"><FONT SIZE="-1">Topic <b>FormattedSearch</b> (  <A HREF="/TWiki/FormattedSearch">View</A>
  |  <a href="/bin/rdiff/TWiki/FormattedSearch">Diffs</a>  | <a href="/bin/view/TWiki/FormattedSearch?rev=1.3">r1.3</a> | <a href="/bin/rdiff/TWiki/FormattedSearch?rev1=1.3&amp;rev2=1.2">&gt;</a> | <a href="/bin/view/TWiki/FormattedSearch?rev=1.2">r1.2</a> | <a href="/bin/rdiff/TWiki/FormattedSearch?rev1=1.2&amp;rev2=1.1">&gt;</a> | <a href="/bin/view/TWiki/FormattedSearch?rev=1.1">r1.1</a>
  |  <a href="/bin/oops/TWiki/FormattedSearch?template=oopsmore&param1=1.3&param2=1.3">More</a>  )</FONT></TD></TR>
</TABLE> 
<table width="750" border="0" cellpadding="3" cellspacing="0" align="center">
 <tr>
  <td valign="top">
    Revision r1.1 - 25 Oct 2001 - 02:13 GMT - <span style='background : #FFFFCE;'><font color="#0000FF">PeterThoeny</font></span><a href="/bin/edit/TWiki/PeterThoeny?topicparent=TWiki.FormattedSearch">?</a><br />
    Revision r1.3 - 02 Dec 2001 - 12:33 GMT - <span style='background : #FFFFCE;'><font color="#0000FF">MikeMannix</font></span><a href="/bin/edit/TWiki/MikeMannix?topicparent=TWiki.FormattedSearch">?</a>
  </td>
  <td valign="top">
   <font size="-2">Copyright &copy; 2000 by the contributing authors. 
All material on this collaboration tool is the property of the contributing authors. <br> 
Ideas, requests, problems regarding DLC? <a href="mailto:khelan@clandlc.com?subject=DLC&#32;Feedback">Send</a> feedback. </font>
  </td>
 </tr>
</table>
<a name="PageBottom"></a>
</body>
</html>