<HTML>
<HEAD>
<TITLE>WWW Homepage Access Counter</TITLE>
</HEAD>
<BODY>
<center>
<H1>WWW Homepage Access Counter and Clock!</H1>
<b><font color=brown>- For Unix, Microsoft NT and IBM OS/2 -</font></b>
<a href="CountNT.html">
<p>
Binary for NT is available here!</a>
</center>
<h2>[Count Release 2.3]</h2>
<P>
<table>
    <tr>
        <td>
        Latest Release: 
        </td>
        <td> 
        <img src="images/latr.gif" align=absmiddle alt="05-02-96">
        </td>
        
    </tr>
    <tr>
        <td>
        Initial  Release: 
        </td>
        <td> 
        <img src="images/initr.gif" align=absmiddle alt="04-13-95">
        </td>
    </tr>
</table>
<hr>
<p>
<center>
<img src="/cgi-bin/Count23.cgi?df=muquitc.dat" alt="***" align=absmiddle>
<img src="/cgi-bin/Count23.cgi?display=clock" alt="0:0" align=absmiddle>
</center>
<hr width=40%>
<h2>What's new</h2>
<blockquote>
Please check this section periodically to see what have been changed or
added. 
</blockquote>
<p>
<ul type=square>
<li> Uses image strip as well as individual digit images. Using an image
strip reduces disk i/o significantly, therefore, it's faster. A program will
be supplied to create an image strip from individual digit images. 
<p>
<li> Comma can be displayed after every 3rd digit from right.
<p>
<li> Any one color of the image can be changed on the fly.
<p>
<li> Uses netmasks o mask out a range of hosts in the network or the entire
network.
<p>
<li> Automatic datafile creation, strict mode, use of rgb color database
can be controlled from the cfg file at run time. 
<p>
<li> Any arbitrary GIF file can be displayed. Frame and other attributes of
the counter can be applied to the GIF file.
<p>
<li> If you are looking for a dynamic clock, you can check out my
<a href="http://yoda.semcor.com/~muquit/Dgclock.html">Java clock</a>,
which shows time to the seconds and can display time+date for any place in
the world. (February 17, 1996)
</ul>
<h2>
Table of Contents
</h2>
<OL>
<LI><A HREF="#requ">Requirements</a>
<LI><A HREF="#intr">Introduction</A>
<LI><A HREF="#feat">Features</A>
<LI><A HREF="#digs">Digit styles (all platforms)</a>
<LI><A HREF="#obta"><b>Obtaining source/binary archive for Unix, NT and OS/2
</b></A>
<LI><A HREF="#dirs">Directory Structure (unix)</A>
<LI><A HREF="#steps">Steps to compile and install (unix)</A>
<LI><A HREF="#stepsn">Steps to compile and install (NT)</A>
<LI><A HREF="#test">Test the program from command line (unix)</A>
<LI><A HREF="#refr">How to call the program from web page? (all platforms)</A>
<li><a href="#opti">Counter options (all platforms)</a>
<LI><A href="#digit">How to use other styles of digits? (all platforms)</a>
<LI><A HREF="#strip">How to create an image strip? (all platforms)</A>
<LI><A HREF="#hign">How to write "Host Ignore" block in the confguration
file? (all platforms)</a>
<LI><a href="Count2ex.html"> <B>Examples (all platforms)</B></a>
<LI><A HREF="#count">What is <B>"Counter Terrorism"</B>? And how this program
handles it? (all platforms)</A>
<LI><A HREF="#errm">Error messages (all platforms)</A>
<LI><A HREF="#freqa">Frequently asked questions (all platforms)</A>
<LI><A HREF="#copyr">Copyright (all platforms)</A>
<LI><A HREF="#ackn">Acknowledgment</A>
<LI><A HREF="#auth">Authors</a>
<LI><A HREF="/~muquit/your_url.html"><B>Web pages using the counter</B></A>
<LI><A HREF="#hear">I like to hear from you</A>
<LI><A HREF="#chl">ChangeLog (if you contributed, your name is there)</A>
</OL>
<A NAME="requ">
<h2>1. Requirements</h2>
</A>
<ul>
<LI> <B>Unix, NT or OS/2 </B> Operating System.
<P>
The previous  version (2.2) is ported OS/2. 
The current version (2.3) works on unix, NT (intel) and Win95. The version
2.2 is ported to Mac by someone. It will be available If I can obtain the
distribution from the person.
<p>
<LI> A C compiler (ANSI or non-ANSI).
<P>
<LI> You should be familiar with Unix operating system in order to install
it on Unix. I think if you know what <b>ls</b> command is, you qualify. If your
site is configured to run CGI program from users' space, then you will not need root access.
<P>
<LI> You must run a <I>httpd</I> daemon (tested with NCSA,CERN and APACHE
httpd). It also works with Netscape Communications Server (reported by
Scott Barnhill <I>(cosbarnh@ihc.com)</I>.
However it should work with any http server which supports CGI
programs.  I personally run 
<A HREF="http://www.apache.org/info.html">APACHE</A> httpd 1.0.5. I think
it's the best freely available http server for Unix. If you run several 
http servers in your domain, you can install the counter in one server and
allow the users at other servers to access the counter remotely.
</ul>
<P>
<blockquote>
I personally compiled and tested it on a Sparc 10 (SunOS 4.1.4) running
NCSA httpd 1.4 , CERN httpd 3.0, APACHE httpd 1.0.5, (gcc 2.6.3).
<p>
It is reported that the counter runs on:
<pre>
    [Linux]           | [Solaris 2.x] | [BSDI]       | [SGI IRIX 5.3] 
    [AIX 3.2.5]       | [HP-UX-?]     | [Ultrix 4.3] | [SCO]
    [AT&T Unix SVR4]  | [DEC Alpha 3000/300L with OSF/1]
    [MS NT]           | [MS Win95]
</pre>
</blockquote>
<P>
<A NAME="intr">
<h2>2. Introduction</h2>
</A>
<blockquote>
This is a 
<A HREF="http://hoohoo.ncsa.uiuc.edu/cgi">CGI</A>
program to keep record of the raw hits of a web page. It
generates a GIF image of the number of hits and returns to the browser as
an in-lined image.  The program also has a run-time option not to show the digit
images, this way the hits can be kept without displaying it. The hits can be
be monitored without incrementing from a separate page as well.
Almost all of the
<A HREF="#feat">features</A> are run-time options.
The hits are no way accurate. Someone can reload the page again and again to
increase the hits. However, people like to see how many times someone visited
their page. The same program can be used to count hits for any number of web
pages for any number of users. The program can be used to display time or date
as well. The time or date of any place in the word can be displayed by
specifying a <b>timezone</b> string for that location. The date can be
formatted in any combination of <b>MMDDYY</b> (Month-Day-Year).
This program started as a fun to play
with CGI programming but due to enormous interest, feature request, input
from thousands of you, it has
turned in to the most configurable counter on the whole <b>World Wide
Web</b> and <b>it is free and always will be free</b>.
<P>
The program is distributed as a gzip'd tar archive. If you do not have
gzip/gunzip, it's available at:
<a href="ftp://prep.ai.mit.edu/pub/gnu">prep.ai.mit.edu</a>.
</blockquote>
<P>
<A NAME="feat">
<h2>3. Features</h2>
</A>
<table border width=100%>
<tr>
<td bgcolor=#ffffff>
<UL type=square>
<LI> <B> Does not</B> require server-side includes.
<p>
<font color="brown">
<li> Uses image strip as well as individual digit images. Using an image
strip reduces disk i/o significantly, therefore, it's faster. A program
will be supplied to create an image strip from individual digit images. 
<p>
<li> Comma can be displayed after every 3rd digit from right.
<p>
<li> Any one color of the image can be changed on the fly. 
<p>
<li> Uses netmasks o mask out a range of hosts in the network or the entire
network. 
<p>
<li> Automatic datafile creation, strict mode, use of rgb color database
can be controlled from the cfg file at run time. 
<p>
<li> Any arbitrary GIF file can be displayed. Frame and other attributes of
the counter can be applied to the GIF file. 
</font>
<P>
<LI> Count 2.0 is backward compatible with Count1.5's URL. One thing to
note, the keyword <b>wxh</b> has no meaning in Count 2.0. It was used in
Count 1.5 to specify digit dimensions. In Count 2.0 it is not required,
because the digit dimensions are determined automatically. Therefore, you
can use variable width digit images in this version.
<P>
<li> Reasonable default for all <b>QUERY_STRING</b> parameters.
<p>
<li> The same program can be used to display time or date.
<p>
<li> The time and date of any timezone in the world can be displayed. The
time can be displayed in 12 or in 24 hour format.
<p>
<li> Supports digit images with variable width.
<p>
<li> Counter can be displayed without incrementing (for monitoring etc.)
<p>
<li> A literal digit string can be displayed.
<p>
<li> A random digit string can be displayed.
<p>
<li> The color of the digits can be negated.
<p>
<li> The counter can be rotated (only integral of 90 degrees, 90,180,270).
The default rotation is 270 degrees.
<p>
<LI> An <B>ornamental 3D frame</B> can be wrapped around the counter image
with user defined thickness and color at <I>run time</I>.
<p>
<li> The frame and transparent color can be a name (e.g. red,green,pink
etc.). The color can be specified as a hex string, e.g. ffffff, ff0000 etc.
as well as RGB triplets as before.
<P>
<LI> Single program for any number of users for any number of web pages. 
<P>
<LI> Any color of the counter image can be made <B>transparent</B> at
<I>run time</I>.
<P>
<LI> Style of digits can be specified at <I>run time</I>.
<P>
<LI> Authorized host names can be in the configuration file. To handle
<A HREF="http://www.netaxs.com/people/pudge/"><B>"Counter Terrorism"</B></a>,
(looks like this page is dead!) the source code modification is not necessary.
<P>
<LI> IP filtering through a configuration file at <I>run time</I>. Any number of
hosts can be ignored from counting. A netmask can be used to filter out a
specific range of host in a network or to filter out the entire network.
It's a good idea to ignore your own host or entire domain. Gen-conf program
will let you create the configuration file interactively.
<P>
<LI><b>Advisory data file locking</b>. Data file will not get messed up by
simultaneous Count.cgi processes. Advisory data file locking is superior to
ancillary file locking because advisory locking is handled directly by the
Operating System. 
<P>
<LI> Maximum number of digits can be set or counter can be displayed with
exact number of digits at <I>run time</I>.
<P>
<LI> User will be able to specify a start-up counter value at <I>run
time</I>. This will take effect if the data file does not exist. You will
be prompted by the configuration program if you want this feature or not.
<P>
<LI> If you <b>do not want to display the counter</b> but like to keep the
hits on your page, sh=0 can be defined in the QUERY_STRING at <I>run time</I>.
It will write a 1x1 transparent GIF image to the browser but the counter in the
data file will be incremented all right. 
</UL>
</td>
</tr>
</table>
<p>
<A NAME="obta">
<h2>Obtaing source archive</h2>
</A>
<blockquote>
The source code for this program is distributed as a gzip
compressed tar archive.  The source code for the current version compiles
on Unix and NT. 

<p>
If you do not have gzip/gunzip, it's available at:
<a href="ftp://prep.ai.mit.edu/pub/gnu">prep.ai.mit.edu</a>.
<P>
If you do not have gzip/gunzip and tar for NT, they are floating around on
the net. Please do not ask me to supply a zipped version for the source
distribution.
<p>
<B>
This machine is getting enormous number of ftp requests lately. Therefore,
I had to impose a limit of maximum 10 ftp connections at one time. The
limit will go up to 50 maximum connections at 11:00 PM US Eastern Standard
Time and go back to 10 maximum connections at 6:00 AM US Eastern Standard Time.
<br>
Sorry for the inconvenience!
</b>
<P>
<A HREF="ftp://warm.semcor.com/pub/muquit/wwwcount2.3/wwwcount2.3.tar.gz">
<img src="images/transfer.gif" border=0 alt=ftp>
<b>Download source code archive (2.3) for Unix and NT</b> (gzipped, tarred)</a>
<br>
<font color="red" size=-1>[Latest Version]</font>
<P>
<a href="CountNT.html"><b>Please visit the page for NT binary</b></a>
<p>
<A HREF="ftp://warm.semcor.com/pub/muquit/wwwcount2.2/OS2port">
<img src="images/transfer.gif" border=0 alt=ftp>
<b>Download source+binary archive (2.2) for OS.2</b> (pkzipped)</a>
<br>
The port to OS/2 is done by Marcio C Almeida 
<a href="mailto:marcio@ausvmr.vnet.ibm.com"><i>marcio@ausvmr.vnet.ibm.com</i>
</a> 
<p>Note: this document talks about compiling and installing the counter to
Unix and NT platform. Please read the README.OS2 file for OS/2 installation.
<P>
The file <I>wwwcount2.3.tar.gz</I> is a gzip'ed tar file. To extract the
distribution, at the shell prompt, type:
<PRE>
    gunzip &lt; wwwcount2.3.tar.gz | tar xvf -
    cd wwwcount2.3
</PRE>
The program will compile with ANSI or non-ANSI C compiler.
</blockquote>
<a name="dirs">
<h2>6. Directory Structure (unix)</h2>
</a>
<blockquote>
Before going to the configuration procedure, please browse through
the default directory structure below. It will help you answering questions
of the configuration script. You can change the name of the directories
as you please, but keep the directory structure same, it will make your
life much easier. You do not have to create any of these directories, they
will be created for you by the Count-install program. Only thing you 
probably have to create are the individual datafiles (keep reading).
<p>
<img src="images/countdst.gif" alt=[image]>
<p>
<b>Base Directory</b> is the directory where all the sub-directories and
the files related to counter reside. 
<p>
<b>Log Directory</b> is the directory which holds the counter Log file.
Counter error messages or if someone tries to access your counter remotely,
warning message regarding this is written to this file.
<p>
<b>conf</b> directory holds the configuration file for the counter. 
configuration file holds information in 4 blocks. Each
block resides between a left and right curly brace. 
This file is created by the program <b>Gen-conf</b> and can be hand crafted
later. After creating the file, please read the comments in the file.
To know more about netmasks which can be used in the 4th block,
please read the section <a href="#hign">How to write "Host Ignore" block in
the configuration file</a> to know how to write the "Host Ignore" block.
<p>
<b>data</b> directory holds all the datafiles for the counter. The datafiles
stores the access counts of web pages. Each page must have a separate
datafile. The datafile is specified at run-time. You will know about it
later.
<p>
<b>digits</b> directory holds sub-directories with various styles of GIF
digits. For example, <b>A</b> sub-directory holds the green led digits.
The sub-directories have GIF digit files named zero.gif, one.gif...nine.gif.
you will know about it later.
<p>
<b>rgb.txt</b> file is used to convert a color name (for example, cyan) to the
appropriate red, green and blue color component. This file came from 
X consortium and supplied with the distribution. You will know about the
file later.
</blockquote>
<a NAME="digs">
<H2>4. Digit Styles (all platforms)</H2>
</a>
<blockquote>
The digits used in this program can be individual GIF files or all the
digits can be in a single image strip. This gives 
flexibility of using digits of your choice. In case of individual 
digit images, they  are named as
zero.gif, one.gif,.... nine.gif. In case of image strip, the strip is
named as strip.gif. At run-time, simply the directory of the
images is specified to use a different style. 
Therefore, a single program can display digits of various styles.
Here are the supplied digit styles. I will not supply individual digit images
anymore. All the styles of digits are supplied as a single image strip.
Note the order of the digits (you will know about it later).
<P>
<table border cellpadding=5>
<tr>
    <th>
        Style A
     </th>
     <td>
        <img src="images/styleA.gif" align=absmiddle alt=styleA>
     </td>
     <td>
     designed by me (digits/A/strip.gif)<br>
     </td>
</tr>
<tr>
    <th>
        Style B
    </th>
    <td>
        <img src="images/styleB.gif" align=absmiddle alt=styleB>
    </td>
    <td>
    Borrowed from
<a HREF="http://www.eeb.ele.tue.nl/software/counter.html">HTML-access counter</A>.
(digits/B/strip.gif)
    </td>
</tr>
<tr>
    <th>
        Style C
    </th>
    <td>
        <img src="images/styleC.gif" align=absmiddle alt=styleC>
    </td>
    <td>
    designed by <I>benjamin@pop3.oro.net</i>
    (digits/C/strip.gif)
    </td>
</tr>
<tr>
    <th>
        Style D
    </th>
    <td>
        <img src="images/styleD.gif" align=abdmiddle alt=styleD>
    </td>
    <td>
    designed by me (digits/D/strip.gif)<br>
    </td>
</tr>
<tr>
    <th>
        Style E
    </th>
    <td>
        <img src="images/styleE.gif" align=abdmiddle alt=styleE>
    </td>
    <td>
    designed by me (digits/E/strip.gif)<br>
    </td>
</table>
<p>
A suggested use of style E is to make the white color transparent (you will
know about transparency later). 
<P>
<B>For a huge collection of GIF digits, check out the </B>
<A HREF="http://cervantes.learningco.com/kevin/digits/"><I>Digit Mania</I></A> page.
<P>
Some other sites:
<ul type=square>
<li><a href="http://www.kattnet.com/digits/">http://www.kattnet.com/digits/</a>
</ul>
<p>
This program will work with any digits from the Digit Mania page.
To use those digits, create subdirectories say, F,G, H etc. inside the
digits directory and rename the images to zero.gif, one.gif..nine.gif.
I suggest create an image strip out of these digits and use it instead of
using individual images.
<p>
Before using these digits, please read the sections
<a href="#digit"><b>How to use other styles of digits</b></a> and
<a href="#strip"><b>How to create an image strip</b></a>.
</blockquote>
<A NAME="steps">
<h2>7. Steps to compile and install (unix)</h2>
</A>
<blockquote>
In the current release of the counter, there should not be any need for
hand editing any files. Several configuration scripts are supplied to automate
the whole process. I am giving a little description about the scripts just
may be you are curious:
<p>
<i>Count-config</i>
<br>
script to generate the header file config.h, a variable
template file for install program.
<p>
<i>configure</i>
<br>
script to generate correct Makefiles for any Unix system.
<p>
<i>Gen-conf</i>
<br>
script to generate the configuration file.
<p>
<i>Count-install</i>
<br>
script to install the Count binary Count.cgi, digit images, configuration
file and the rgb color name database to the correct places.
<p>

Now at the shell prompt (shell prompt is where you type ls, read your mails
etc.), type the following commands in the described order and press Return
key:
<p>
<b>./Count-config</b>
<blockquote>
The script will ask questions with brief description. Answer them.
Look at the directory structure image to better understand the questions.
<br>
<a href="c-c.html"><B>Look at a sample session</B></a>
</blockquote>
<p>
<b>./configure</b>
<blockquote>
The script will not ask any questions, but you will see the informational
messages about your system. It will create the Makefiles (Makefile and
combine/Makefile) for your system.
<br>
<a href="confi.html"><B>Look at a sample session</B></a>
</blockquote>
<p>
<b>make clean</b> (<i>not needed if you compiling the first time</i>)
<br>
<b>make</b>
<blockquote>
Compilation will start if the previous two scripts completed successfully.
It will take some time. If compilation succeeds, go to the next step.
</blockquote>
<p>
<b>./Gen-conf</b>
<blockquote>
This script will ask you questions about your system. Answer them.
This process will create the configuration file for the counter. 
<br>
<a href="gen-c.html"><B>Look at a sample session</B></a>
</blockquote>
<p>
<b>./Count-install</b>
<blockquote>
This is the final step. This scripts will install the necessary things
for the counter in your system. You will need root access if you are
installing it an area where root access is needed. This program will ask you
couple of questions.
</blockquote>
<p>
If you finished all the above steps successfully, you are ready to test
the counter. Go to the next section.
</blockquote>
<a NAME="stepsn">
<h2>8. Steps to compile and install (NT)</h2>
</a>
<blockquote>
You do not need to compile the program for NT in order to use it.
A compiled version is already supplied. I compiled the program on NT 3.51
(intel) with MS Visual C++ 4.0. The makefiles supplied are for MS Visual
C++ 4.0 as well. If you use some other kind of compiler, you are on your
own.
<p>
Assuimg you already downloaded and extracted the sources from the archive.
Open a command shell window and perform the following steps:
<pre>
    1. Edit the file configNT.h and see if you need to change anything.

    2. cd wwwcount2.3
    3. cd combine
    4. nmake -f makefile.wnt
    5. cd ..
    6. nmake -f makefile.wnt
</pre>
The above procedure will create the executable <b>Count.exe</b>. Copy the
file <b>Count.exe</b> to your <b>cgi-bin</b> or <b>scripts</b> directory 
or where ever you keep the CGI programs. Open the File Manager and copy or
move the directory <b>wcount</b> to <b>C</b> drive (if you edited the file
configNT.h and changed the location, copy it there). Read the section
<a href="#refr">How to call the program?</a>.
<p>
If you want to create the program <i>mkstrip.exe</i>, do:
<pre>
    1. cd utils
    2. nmake -f makefile.wnt
    3. Copy or move the file mkstrip.exe to somewhere in your path.
</pre>

</blockquote>
<A NAME="test">
<h2>9. Test the program from command line (unix)</h2>
</A>
<blockquote>
A shell script is supplied for testing the counter. the name of this
script is <I>testcount-sh</I>. Look at this script, you might need to change
certain things.  Please read the comments in this script for understanding the
various run-time options of the counter. You'll also know in detail about
the options in the section
<A HREF="#refr">How to call the program</a>.When you are happy with
everything, save it and at the shell prompt
type:
<PRE>
    ./testcount-sh
</PRE>
</blockquote>
<A NAME="refr">
<h2>10. How to call the program? (all platforms)</h2>
</A>
<blockquote>
You can refer to the program from web page like this:
<P>
<b>
&lt;img src="/cgi-bin/Count.cgi?df=sample.dat" align=absmiddle&gt;
</b>
<P>
The string between ? and " is called the QUERY_STRING. Make sure there is
no newlines in the &lt;img src= line and no space in the QUERY_STRING. 
Here in, <b>df=sample.dat</b>, <b>df</b> means datafile and <b>sample.dat</b>
is the counter datafile. The counter stores the hits in this file. This
datafile is supplied. 
If you configured the counter to allow automatic datafile creation (look at
count.cfg file), you can specify a datafile with <b>df</b> like
<b>df=count.dat</b>. The file count.dat will be created for you if the 
permission to the data directory is correct. 
<p>
If you configured not to allow automatic datafile creation (good thing), 
you have to create this file in the data directory.
cd to the data directory and type:
<pre>
    echo 1 > count.dat
</pre>
<p>
The counter program has lots of options, you can make it work and look the
way you desire. In the query string, you can use the options described
in the table below. The options can be separated by a | or a &. You can
use either one or combination of both. Here is an example:
<b>
<pre>
&lt;img src="/cgi-bin/Count.cgi?ft=T&frgb=gold|df=sample.dat" align=absmiddle&gt;
</pre>
</b>
<p>The options can be in any order and not case sensitive.
<p>
Anyway, look at this
<a href="Count2ex.html"> <B>Example Page</B></a>
you will get the picture.
</blockquote>
<p>
<a name="opti">
<h3>11. Counter options (all platforms)</h3>
</a>
<b>[Originally written in HTML table by <A href="http://eies.njit.edu/~kevin/">Kevin</a>]</b>
<P>
<table border cellpadding=5>
    <tr>
        <th>Parameter</th>
        <th>Name</th>
        <th>Description</th>
        <th>Default</th>
    </tr>
    <tr>
        <td align=center>
            display=<b>X</b>
        </td>
        <td>
            Specifies what to display.
        </td>
        <td>
            A valid string can be specified with <b>display= </b> parameter
            to display counter, clock or date. 
            The valid value for the string parameter <b>X</b> is
            <b>counter</b>,<b>clock</b> or <b>date</b>
            For counter, this parameter is not need as <b>counter</b> is 
            the default display type.
            </font>
        </td>
        <td align=center>
            display=<b>counter</b>
        </td>
    </tr>
    <tr>
        <td align=center>
            timezone=<b>X</b>
        </td>
        <td>
            Display time/date of the specified timezone.
        </td>
        <td>
        The parameter <b>timezone=</b> is only significant with
        <b>display=clock</b> or <b>display=date</b>. Use this parameter
        if you want to display time or date of another timezone. 
        The timezone must be specified with a negative or positive
        four digit offset from GMT, for example: <b>timezone=GMT-0500</b> or
        <b>timezone=GMT+0000</b> or <b>timezone=GMT+0530</b>.
        The routine to display time of various timezones are written in a
        generic way. Therefore, the unix machines will not be aware of
        daylight saving time because of the way the routine is written. For
        example, if daylight saving time is on, to display time of NY, the
        timezone will be <b>timezone=GMT-0500</b> instead of
        <b>timezone=GMT-0400</b>.  <p>
        If the clock displays your local time wrong, specify 
        your timezone
        with that parameter in order to display the correct time.
        </td>
        <td align=center>
            None.
        </td>
    </tr>
    <tr>
        <td align=center>
            tformat=<b>X</b>
            <p>
            <font color="red" size=-1>
            [new in this release]
            </font>
        </td>
        <td>
            Time format in 12 or 24 hour.
        </td>
        <td>
            This parameter can be used to display time in 12 or 24 hour
            format. The valid values for the parameter X is 12 or 24.
        </td>
        <td align=center>
            tformat=<b>12</b>
        </td>
    </tr>
    <tr>
        <td align=center>
            dformat=<b>X</b>
        </td>
        <td>
            Specifies date format.
        </td>
        <td>
            This parameter is only significant with <b>display=date</b>.
            The valid value for the string parameter <b>X</b> is any 
            combination of <b>MMDDYY</b> (Month-Day-Year). For example,
            <b>dformat=ddmmyy</b>, <b>dformat=YYMMDD</b>.
        </td>
        <td>
            dformat=<b>MMDDYY</b>
        </td>
    </tr>
    <tr>
        <td align=center>
            istrip=<b>B</b>
            <p>
            <font color="red" size=-1>
            [new in this release]
            </font>
        </td>
        <td>
            Use of image strip On/Off
        </td>
        <td>
            The boolean value of <b>istrip</b> specifies whether to use
            image strip or not. If you specify <b>istrip=F</b>, the program
            will look for the individual digit image files in the
            digits/style directory.
            The valid values for the Boolean parameter
            <b>istrip</b> are Y, N, T, F, 1 or 0.
        </td>
        <td align=center>
            istrip=<b>T</b> 
        </td>
    </tr>
    <tr>
        <td align=center>
            ft=<b>X</b>
        </td>
        <td>
            Frame Thickness
        </td>
        <td> 
            You can wrap the counter in an ornamental frame of X pixels
            thick.  Use 0 for no frame. Values over 5 make a nice 3-D effect.
        </td>
        <td align=center>
            ft=<b>6</b>
        </td>
    </tr>
    <tr>
        <td align=center>
            frgb=<b>R;G;B</b>
        </td>
        <td>
            Frame Color
        </td> 
        <td>
            Specifies the color of the frame in RGB (red/green/blue)
            format. Each color component, R, G, and B is specified as a
            value between 0 and 256. If you use ft= without a frgb=
            param, the default color is used. 
        <P>
            If you specify a frgb= without a ft=, then the frame
            thickness defaults to 5. All the examples show ft=5. 
            The color can be specified as hex string or a name.
            <b>Do not use a # before the hex string as Netscape.</b>
            For example, if you want to specify white in hex, use
            <b>frgb=ffffff</b>. You also can use a color name (e.g. frgb=blue)
            if the counter configured to do so (look at the cfg file).
            Look at the
            <a href="rgb.txt.html">color name mapping database</a> for 
            some hints about color name database.
        </td>
        <td align=center>
            frgb=100;139;216
            or<br>
            frgb=648bd8
        </td>
    </tr>
    <tr>
        <td align=center>
            tr=<b>B</b>
        </td>
        <td>
            Transparency On/Off
        </td>
        <td>
             You can specify if your counter image will have a transparent
             color with the Boolean B. So tr=Y means there will be a
             transparent color. It does not matter if the GIF files used
             for the digits are "transparent"; you must specify explicitly
             which color to make transparent. If you specify a trgb=, then
             you do not need to specify tr=Y. If you specify <b>tr=Y</b> and
             do not specify <b>trgb=</b>, then the default color black will
             be transparent.  The valid values for B are Y, N, T, F, 1, or
             0. 
        </td>
        <td align=center>
            tr=<b>F</b>
            <br>
            <i>No Transparency</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            md=<b>X</b>
        </td>
        <td>
            Max Digits
        </td>
        <td>
            Defines maximum number of digits to display. Any value between
            5 and 10 inclusive are permitted. Padding with leading zeros is
            automatically done for you; longer counts are truncated to the
            given <b>X</b>. 
        </td>
        <td align=center>
            md=<b>6</b>
            <br>
            <i>Without padding</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            pad=<b>B</b>
        </td>
        <td>
            Padding with 0's
        </td>
        <td>
            Turn padding on/off in conjunction with md= setting. Valid
            values for the Boolean parameter B are Y, N, T, F, 1, or 0.
        </td>
        <td align=center>
            pad=<b>N</b>
            <br>
            <i>Without specification of a md=<b>value</b></i>
            <p>
            pad=<b>Y</b><br>
            <i>With specification of a md=<b>value</b></i>
        </td>
    </tr>
    <tr>
        <td align=center>
            dd=<b>A</b>
        </td>
        <td>
            Digit Directory
        </td>
        <td>
            Denotes directory of a specific styles of digits. Four styles
            of digits are supplied. They are kept at the directories A,B,C
            and D respectively. Visit the 
<A HREF="http://cervantes.comptons.com/digits/digits.htm">digit mania
page</a> for other styles of digits.
        </td>
        <td align=center>
            dd=<b>A</b>
            <br>
            <i>My green led digits</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            image=<b>gif_file</b>
            <p>
            <font color="red" size=-1>
            [new in this release]
            </font>
        </td>
        <td>
            Display this GIF file
        </td>
        <td>
            You can display any GIF image specified with this parameter.
            The location of this file is determined by the <b>dd=</b> 
            parameter. All attributes of the counter applies to
            the image.
        </td>
        <td align=center>
            None
        </td>
    </tr>
    <tr>
        <td align=center>
            comma=<b>B</b>
            <p>
            <font color="red" size=-1>
            [new in this release]
            </font>
        </td>
        <td>
            Display comma after every 3rd digit from right.
        </td>
        <td>
            The boolean value of parameter <b>comma</b> specifies whether
            to display comma after every 3rd digit from right. If you use
            this parameter as true, the left padding with zeros will be
            turned off.
        </td>
        <td align=center>
            comma=<b>F</b>
        </td>
    </tr>
    <tr>
        <td align=center>
            srgb=<b>R;G;B</b><br>
            prgb=<b>R;G;B</b>
            <p>
            <font color="red" size=-1>
            [new in this release]
            </font>
        </td>
        <td>
            Change a color of the image to a target color on the fly.
        </td>

        <td>
            Any one color of the image can be changed to a different color
            on the fly. <b>srgb</b> stands for source color, that is the
            color to change. <b>prgb</b> stands for pen color, that is the
            target color. The values for <b>srgb</b> and <b>prgb</b> can be
            colon separated color components (e.g, srgb=255;0;0), a hex
            value (e.g. srgb=ff0000) or a color name (e.g. srgb=red). The
            color name can be used if you configured the counter to do 
            so (look at the cfg file).
        </td>
        
        <td align=center>
            srgb=<b>00ff00</b> <br>(0;255;0 green)
            <p>
            prgb=<b>00ffff</b> <br>(0;255;255 cyan)
            <p>
            <i>With chcolor=T</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            chcolor=<b>B</b>
        </td>
        <td>
            Change a color of the image.
        </td>
        <td>
            This parameter is usually used to change the default green 
            color to cyan. That is if you specify <b>chcolor=T</b>, and
            you want to change green to cyan, then you do not need to
            specify <b>srgb</b> and <b>prgb</b> parameters. 
            1x1 GIF is displayed. The valid values for the Boolean parameter B
            are Y, N, T, F, 1, or 0
        </td>
        <td align=center>
            chcolor=<b>F</b>
        </td>

    </tr>
    <tr>
        <td align=center>
            st=<b>X</b>
        </td>
        <td>
            Start Count
        </td>
        <td>
            This parameter is used to set the initial value of the counter
            to some number X.
            This is only valid if you decided to allow automatic datafile
            creation.  
            It is a bad practice to allow automatic datafile creation,
            however it makes site maintaining easier. The automatic datafile
            creation option is specified in configuration file and can be
            changed at run time.
            <b>Note that this parameter has no effect if the datafile already
            exists</b>. If you want to change the counter value in a existing
            datafile, hand edit the file. The minimum value for st is 1.
        </td>
        <td align=center>
            st=<b>1</b><br>
            <i>Count starts at 1</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            sh=<b>B</b>
        </td>
        <td>
            Show digits
        </td>
        <td>
            Used to turn display of digits on or off according to the
            Boolean B.  When sh=T, counter will be displayed and incremented,
            this is the default behavior.
           <p> 
            If sh=F no digits will show, but the
            counter will still increment; instead of digits a transparent
            1x1 GIF is displayed. The valid values for the Boolean parameter B
            are Y, N, T, F, 1, or 0
        </td>
        <td align=center>
            sh=<b>Y</b>
        </td>
    </tr>
    <tr>
        <td align=center>
            df=<b>data_file</b>
        </td>
        <td>
            Datafile to store count
        </td>
        <td>
            Specifies the name of the file for storing the count in. The
            file must be allocated to you as was mentioned in the
            "Authorizations" section above.  You can use df=random
            to display a random number.
            <p>
            One special use of the parameter is df=RANDOM.  This returns a
            random number using the fractional portion of the host's time
            of day clock as a seed for the generator. Unlike all other
            WWWcounter parameters, the file name provided is
            case-sensitive, except for the value random. Or Random, or
            rANDOM, etc. 
        </td>
        <td align=center>
            df=<b>random</b>
            <br>
            <i>if no datafile is specified</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            incr=<b>B</B>
        </td>
        <td>
            Increment Count
        </td>
        <td>
            Makes it possible to display the current count without
            incrementing the count. This can be used to examine the count
            for reporting or other purposes without adding to the count.
            Valid values for the Boolean parameter B are Y, N, T, F, 1, or 0. 
            <p>
        </td>
        <td align=center>
            incr=<b>T</b>
            <br>
            <i>Increment the counter on each invocation</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            lit=<b>X</b>
        </td>
        <td>
            Display literal
        </td>
        <td>
            Makes it possible to display a given, predetermined string.
            The valid values for the string X are digits, a,p,: and -
        </td>
        <td align=center>
            <i>None</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            negate=<b>B</b>
        </td>
        <td>
            Negate the color
        </td>
        <td>
            Makes it possible to negate the color of the counter digits.
            Note that the Frame is exempted from negating.
            Valid values for the Boolean parameter B are Y, N, T, F, 1, or 0. 
        </td>
        <td align=center>
            negate=<b>F</b>
            <br>
            <i>Do not negate</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            degrees=<b>X</b>
        </td>
        <td>
           Rotate X degrees 
        </td>
        <td>
            Makes it possible to rotate the counter image X degree. The
            possible values of X is 90, 180, 270 and 360. Note 360 is
            meaningless as the counter will come back to the original 0
            degree.
        </td>
        <td align=center>
            degrees=<b>270</b>
            <br>
            With rotate=Y and without degrees=X
            <br>
            <i>rotate 270 degrees clockwise</i>
        </td>
    </tr>
    <tr>
        <td align=center>
            rotate=<b>B</b>
        </td>
        <td>
            Rotate On/Off
        </td>
        <td>
            The Boolean value B turns on or off rotating. If you use
            degrees=  setting, rotate is not needed.
            Valid values for the Boolean parameter B are Y, N, T, F, 1, or 0. 
        </td>
        <td align=center>
            rotate=<b>F</b>
            <br>
            <i>Do not rotate</i>
        </td>
    </tr>
</table>
<a name="digit">
<h2>12. How to use other styles of digits</h2>
</a>
<blockquote>
There are several sites including
<A HREF="http://cervantes.learningco.com/kevin/digits/"><I>Digit Mania</I>
</a>
which maintains a array of collection of GIF digits which can be used with
the counter. The counter program can use these digits in 2 ways. 
<ol>
<li> use a individual digit image for each digit, for example, zero.gif,
one.gif...nine.gif. These digit images reside in the 
<a href="#dirs">digits/style</a> directory. If you like to use the counter for
<b>clock</b>, 3 additional digit images are required, e.g., colon.gif,
am.gif and pm.gif. If you want to use <b>comma</b> in your counter digits,
another image is required, e.g., comma.gif. If you want to use the counter
to display <b>date</b>, one more image is required, e.g., dash.gif.  <b>If
you collect digits from external source, do not forget to rename the images
to <i>zero.gif, one.gif, two.gif, ... nine.gif, colon.gif, am.gif, pm.gif,
comma.gif and dash.gif</i></b>
<p>
<li> <b>use a single image strip for digits</b>. This is the default behavior,
that is the counter program looks for a image file called <b>strip.gif</b>
in <a href="#dirs">digits/style</a> directory by default. Using an image
strip is much more efficient than using individual digits, because 
<p>
    <ol>
    <li> the
size of an image strip is almost always less than the combined size of
individual images.
<p>
    <li> Disk i/o is significantly reduced, because only one file needs to
    be opened instead of many.
    </ol>
</ol>
The section <a href="#strip">How to create an image strip</a>
describes how to create an image strip from individual digit images.
If you like to use the individual digits instead, you <b>must</b> use
the option <b>istrip=F</b> when you call the counter from web page, because
by default <b>istrip=T</b>.
</blockquote>
<a name="strip">
<h2>13. How to create an image strip</h2>
</a>
<blockquote>
If you have individual digit images, you can create a image strip out of
them. Image strip reduces disk i/o significantly, because the counter will
need to read only one image instead of many and the size of the image will
in most cases will be less than the combined size of the individual images. 
There is a program called <i>mkstrip</i> is supplied with the distribution
for making image strip.
To compile the program, go to the <i>utils</i> directory and at the shell
promt, type:
<pre>
    make
</pre>
Please note, this program requires the GIF image combining library.
Therefore, compile it after compiling the counter.
<p>
If compilation succeeds, it will create the binary <i>mkstrip</i>.
Now, go to the directory where all the individual digit images are and type:
<pre>
mkstrip zero.gif one.gif two.gif .... nine.gif colon.gif am.gif pm.gif &gt; strip.gif
</pre>
Note, the file names are not important but the order is very important. For
example, the file names may be 0x.gif, 1x.gif etc.
<p>
Create a directory say <b>F</b> inside the <b>digits</b> directory and copy
or move the file <i>strip.gif</i> to <b>F</b>. You can use this strip with
<b>dd=F</b>.
<p>
The above strip can be used for counter and clock but not date. It also can
NOT be used if you want to display comma. If you want to use date and comma,
you must have the image for comma and dash. For example, the strip of digit
style A is created with the command:
<pre>
mkstrip zero.gif one.gif ... nine.gif colon.gif am.gif pm.gif comma.gif \
    dash.gif &gt; strip.gif
</pre>
Please note the order of the images used in arguments carefully. 
<font color="brown">The program
<i>mkstrip</i> puts the necessary information in the GIF comment extension
about the strip.  The counter program parses the comment extension to 
determine the width of the individual digits in the strip. Therefore,
the strip can have digit segments of variable width.
</font>
<p>
For example, the comment of the image strip of digit style A is:
<pre>
15:0:15:30:45:60:75:90:105:120:135:150:165:180:195:210:225
</pre>
The leftmost integer 15 indicates there are 15 individual digits in the
image and the next colon separated pairs are the location of 
left and right side of the segment
of the individual images from the leftmost edge. If you look carefully you
will see that the individual segment of the strip is 15 pixel wide. The
height is determined by reading the image. If you use the program
<i>mkstrip</i>, you do not need to know anything about the comment, it will
be created correctly for you.  It is mentioned here because it is possible
you obtained a strip from somewhere and you want to add the comment to the
image.  
</blockquote>
<a name="hign">
<h2>14. How to write "Host Ignore" block</h2>
</a>
<blockquote>
This section of the document and the code to use netmasks is written by
<b>Davorin Bengez,</b> <a
href="mailto:dbengez@znanost.hr"><i>(dbengez@znanost.hr)</i></a>
<p>
<b>1. Summary of changes</b>
<p>
`Host ignore' block contains one or more lines with IP addresses
of hosts that will be ignored for counter updates.
<p>
New feature in this release is possibility to mask off groups of hosts
(subnetworks) defined by corresponding network / netmask pairs.
This can be useful if we wish to exclude accesses from the hosts on
our campus or hosts of people developing the pages.
<p>
To accomplish this, each line in host ignore block can take two arguments.
If second argument is present, first is assumed to be network address and
second the netmask. If only one argument is present, it is taken as a
host address.
<p>
Wildcarding the IP address using asterisks cannot be used anymore.
<p>
If this concept with "network address / netmask" sound unfamiliar,
you should consult your friendly network administrator.
<p>
<b>2. How to determine ignore hosts parameters</b>
<p>
To configure `ignore hosts' block in configuration file, you should
know at least how network / netmask concept works.
Here is a brief description.
<p>
<b>2.1. IP Addresses and netmasks concept</b>
<p>
IP address is a 32 bit value (four octets) that is for readability
purposes written as four decimal values separated by a dot
(so called dotted quad).
For example, network address - in dotted quad notation
<pre>
 161.53.4.28
</pre>
is - in binary notation
<pre>
 10100001 00110101 00000100 00011100
</pre>
Binary representation is what we will need to determine network
addresses and netmasks.
<p>
Each network IP address is contained of network and host part.
<p>
Generally speaking, networks are split into several classes.
Here are three primary forms [1]:
<p>
- class A network has first octet in range from 0 to 127.
  First octet is network address while other three octets specify
  the host part.
  In binary notation it is something as (n - network, h - host)
<pre>
 0nnnnnnn hhhhhhhh hhhhhhhh hhhhhhhh
</pre>
There are 2<sup>7</sup> such possible networks, each with 
(2<sup>24</sup> - 2) hosts.
<p>
- class B network has first octet in range from 128 to 191.
  First two octets are the network address, and third and fourth
  are host address.
  In binary notation it is something as (n - network, h - host)
<pre>
 10nnnnnn nnnnnnnn hhhhhhhh hhhhhhhh
</pre>
  There are 2<sup>14</sup> such possible networks, each with 
(2<sup>16</sup> - 2) hosts.
<p>
- class C network has first octet in range from 192 to 223.
  First three octets are the network address, and fourth is 
  host address.
  In binary notation it is something as (n - network, h - host)
<pre>
 110nnnnn nnnnnnnn nnnnnnnn hhhhhhhh
</pre>
  There are 2<sup>21</sup> such possible networks, each with 
(2<sup>8</sup> - 2) hosts.
<p>
Note: "-2" is because 0 is reserved for "this host", and 255 means
broadcast, or "all hosts on this network".
<p>
Nothing stops us to divide the network given to us by a service
provider into a several smaller networks. This is often done in
real life.
<p>
Network is being partitioned by setting the 32-bit subnet mask
in which 1's represent the network part, and 0's represent the host
part if IP address. As of now, we may correctly assume that a default
netmask for class B network is 11111111 11111111 00000000 00000000
(in binary, or 255.255.0.0 in dotted quad notation).
<p>
For example, if we are given one class C network (maximum of 254 hosts),
and we want to partition it into 8 networks of 32 hosts per each
subnetwork, we can do it as in the following example:
<p>
<b>Example:</b>
<p>
Let us assume that we are given class C network with address
220.105.101.0.
Initial netmask is set to 255.255.255.0.
To partition this network into 8 subnetworks, we need to take
3 bits from host part of the address (2<sup>3</sup> = 8).
Let's write it in binary:
<p>
Network address 220.105.101.0:
<pre>
 11011100 01101001 01100101 00000000
</pre>
Netmask was 255.255.255.0:
<pre>
 11111111 11111111 11111111 00000000
</pre>
As we want to have 8 subnetworks (this needs 3 bits from the host part),
netmask will be:
 11111111 11111111 11111111 11100000
or 255.255.255.224 in dotted quad notation.
<p>
Host part of address has shrunk to 5 bits, and we will have new network
address based on 2<sup>5</sup> intervals. Therefore, our new subnetworks will be:
<pre>
 220.105.101.0     220.105.101.32    220.105.101.64    220.105.101.96
 220.105.101.128   220.105.101.160   220.105.101.192   220.105.101.224
</pre>
n.b. The same netmask (255.255.255.224) applies to each of the 8 networks.
<p>
From previous example can be seen that netmask cannot be set on arbitrary
boundary, but rather on addresses that are powers of 2.
<p>
<b>2.2. Configuration guidelines</b>
<p>
As a matter of fact, it doesn't matter whether your network is
class A, B or C. What matters is which subnetwork or part of the
network you want to mask off.
<p>
To determine whether a certain host is within a certain
network, the host's address AND netmask is compared to the
network address.  If they are identical, host is within the
given network.
<p>
<b>Example 1:</b>
Determine whether host 161.53.4.4 is located within the network
161.53.4.0 with netmask 255.255.255.0:
<table cellpadding=2 cellspacing=0 border=2 width=50%>
<tr>
<td>
<pre>
                decimal          binary

host address    161.53.4.4       10100001 00110101 00000100 00000100
netmask         255.255.255.0    11111111 11111111 11111111 00000000
ANDed           161.53.4.0       10100001 00110101 00000100 00000000

network address 161.53.4.0       10100001 00110101 00000100 00000000
</pre>
</td>
</tr>
</table>
since 161.53.4.0 = 161.53.4.0, host is contained within the network.
<p>
<b>Example 2:</b>
<p>
Determine whether the host 161.53.91.7 is located within the network
161.53.91.0 with netmask set to 255.255.255.224
<table cellpadding=2 cellspacing=0 border=2 width=50%>
<tr>
<td>
<pre>
                decimal          binary

host address    161.53.91.7      10100001 00110101 01011011 00000111
netmask         255.255.255.224  11111111 11111111 11111111 11100000
ANDed           161.53.91.0      10100001 00110101 01011011 00000000

network address 161.53.91.0      10100001 00110101 01011011 00000000
</pre>
</td>
</tr>
</table>
since 161.53.91.0 = 161.53.91.0, host is located within the network.
<p>
<b>Example 3:</b>
<p>
Determine whether the host 161.53.91.65 is located within the network
161.53.91.0 with netmask set to 255.255.255.224
<table cellpadding=2 cellspacing=0 border=2 width=50%>
<tr>
<td>
<pre>
                decimal          binary

host address    161.53.91.65     10100001 00110101 01011011 01100011
netmask         255.255.255.224  11111111 11111111 11111111 11100000
ANDed           161.53.91.96     10100001 00110101 01011011 01100000

network address 161.53.91.0      10100001 00110101 01011011 00000000
</pre>
</td>
</tr>
</table>
since 161.53.91.96 != 161.53.91.0, host is NOT located within the network.
<p>
To set the netmask properly, and to check the configuration, you must
know what addresses are being covered with certain network address / netmask
combination.
<p>
<b>Example 4:</b>
<P>
Which host are located within the network 161.53.91.0 with netmask set
to 255.255.255.224?
<table cellpadding=2 cellspacing=0 border=2 width=50%>
<tr>
<td>
<pre>
                decimal          binary

network address 161.53.91.0      10100001 00110101 01011011 00000000
netmask         255.255.255.224  11111111 11111111 11111111 11100000
</pre>
</td>
</tr>
</table>
It is obvious that only last 5 bits are host address, since netmask
will mask off upper 3 bits in last octet. Possible host addresses are
from 0 (which cannot be used) up to 00011111 binary, or 31 in decimal.
Therefore, hosts within given network are 161.53.91.1 to 161.53.91.31.
(n.b. with above configuration, we have possible networks:
<table cellpadding=2 cellspacing=0 border=2 width=50%>
<tr>
<td>
<pre>
 161.53.91.0    161.53.91.32   161.53.91.64   161.53.91.96,
 161.53.91.128  161.53.91.160  161.53.91.192  161.53.91.224
</pre>
</td>
</tr>
</table>
<p>
<b>Example 5:</b>
<p>
How can I select hosts with addresses in range 161.53.5.16 to
161.53.5.31?
<table cellpadding=2 cellspacing=0 border=2 width=50%>
<tr>
<td>
<pre>
first host      161.53.5.16      10100001 00110101 00000101 00010000
last host       161.53.5.31      10100001 00110101 00000101 00011111

(all selected hosts)             10100001 00110101 00000101 0001xxxx
</pre>
</td>
</tr>
</table>
It can be observed that host part is last four bits of the address,
which leads to the netmask of 255.255.255.240.
Network address is address of any of the hosts ANDed with netmask:
<table cellpadding=2 cellspacing=0 border=2 width=50%>
<tr>
<td>
<pre>
any host                         10100001 00110101 00000101 0001xxxx
netmask         255.255.255.240  11111111 11111111 11111111 11110000

network         161.53.5.16      10100001 00110101 00000101 00010000
</pre>
</td>
</tr>
</table>
<b>References:</b>
<pre>
[1] Douglas E. Comer
    "Internetworking With TCP/IP - Principles, Protocols, and Architecture"

[2] Uyless Black
    "TCP/IP and Related Protocols"
</pre>
</blockquote>
<A NAME="count">
<h2>16. What is <B>"Counter Terrorism"</B>? And how this program handles it?</h2>
</A>
<blockquote>
If you do not know, in most cases any CGI program can be referred
remotely. For example, a CGI program x.cgi (say it returns an in-lined image) 
in foo.com can be called from foobar.com as follows:
<PRE>
    &lt;img src="http://foo.com/cgi-bin/x.cgi"&gt;
</PRE>
That is, someone somewhere on the  Internet can refer to your counter
and increase the hits and you will not have a clue. You will get the false
impression of many people visiting your page. You can look at the so called
<A HREF="http://www.netaxs.com/people/pudge/"><B>"Counter Terrorist"</B></A>
(looks like this page is dead!) page for demo.
<P>
So how this program handles this? The counter program tries to
get a environment variable called <B>HTTP_REFERER</B> for remote
referer.  It is necessary to check this variable because when someone
remotely refer to a CGI program to your machine, the variable
<B>REMOTE_ADDR</B> will be the address of your machine. So checking
<B>REMOTE_ADDR</B> will not work. Most of the modern browsers returns the
env variable <B>HTTP_REFERER</B>.  If the browser does not return the
variable, counter will be served anyway.  But you are not lost totally
here.  If you decided to ignore count for your host running httpd, the
counter will be served but it will not be increased.  So, I suggest ignore
count for your own host. <b>Gen-conf</b> program is used for generating the
configuration file. The second block is the authentication block, that is
hostname in this block will be able to access the counter remotely as
mentioned about.
<p>
Note this is a simple solution of a complex problem. 
Your feedback is always welcome in this regard.
</blockquote>
<A NAME="errm">
<h2>17. Error Messages</h2>
</A>
<blockquote>
Count will try to return an image in any event. That is, even if it
fails for some reason, it will write the error messages in GIF format.
The text error messages also will be written to the counter log file defined
with <B>LogFile</B> in the directory defined with <B>LogDir</B> in the
config.h file. The program <b>Count-config</b> asked about these if you
remember.
<P>
If you see any of these images, please check the Counter log file
you defined with <B>LogDir</B> and <B>LogFile</B>. If the program could not
create the log file, it will write the error messages to stderr. In that case
if you configured your httpd server to write the log to a file, the error
messages will the written to this file.
</blockquote>
<A NAME="freqa">
<h2>18. Frequently Asked Questions</h2>
</A>
<blockquote>
<B>1. My CGI scripts don't work. What's wrong?</B><p>
<p>
<blockquote>
<b>Answer: </b><font size=-1>
Simply linking from your page to an executable program or script won't
cause it to be run by the server. There are two common arrangements: either
files in directories specially designated by the server administrator are
executed as CGI scripts, or files with a special extension (such as .cgi)
are executed as CGI scripts. 
<p>
These are just two possible ways your server might be configured. Many
sites don't allow users to run CGI scripts at all. Consult your web
server's administrator.
</font>
<p>
<b>Taken from </b><A HREF="http://www.boutell.com/faq/cgiprob.htm">WWW FAQ</a>
</blockquote>
</blockquote>
<blockquote>
<b>2. In SGI I get error like:</b>
<pre>
              : libCombine.a
              : - Too many arguments
              *** Error code 1 (bu21)
              *** Error code 1 (bu21)
</pre>
<b>What's the problem?</b>
<blockquote>
<font size=-1>
<b>Answer:</b> In <i>combine/Makefile</i>, remove the line
<pre>
    $(RANLIB) $@ 
</pre>
Thanks to <i>avarro@CENTRCN.UMontreal.CA</i> (12/07/95)
</font>
</blockquote>
</blockquote>
<p>
<blockquote>
<b>3. Why does the counter show "888888" all the time?</b>
<blockquote>
<font size=-1>
<b>Answer:</b>The counter is running in strict mode
(look at <i>count.cfg</i> file).  When the counter runs in strict mode, if
the browser does not return the environment variable <b>HTTP_REFERER</b>,
the counter will display the image <b>888888</b> instead of serving the
counter.  The env variable HTTP_REFERER should contain the web page running
the counter. Some browesers does not return this variable in &lt;img GET
method.  This feature guarantees that the counter can not be accessed
remotely to mess up the datafile from a browser like yours.  Some entries
in the log file are made including the browser type.  
</font>
</blockquote>
</blockquote>
<blockquote>
<b>4. The counter does not want to compile on UnixWare with cc, why?</b>
<blockquote>
<font size=-1>
Note for UnixWare 2: Before running the configure
script, set and export the environment variable CC to the string
<pre>
    cc -Xc
</pre>
Thanks to Ed Horch, <a href="mailto:ebh@fpk.hp.com"><i>ebh@fpk.hp.com</i></a>
</font>
</blockquote>
</blockquote>
<A NAME="copyr">
<h2>19. Copyright (all platforms)</h2>
</A>
<blockquote>
Copyright 1995 by Muhammad A Muquit. Permission to use, copy, modify
and sell this program for any purpose is hereby granted without fee,
provided that this copyright notice appear in all copies and that both that
copyright notice and this permission notice appear in supporting
documentation.  If the program is included in a book, publication or in a
software distribution media for sale, the author must be notified about it.
No binary only distribution is allowed. All distributions must include the
source and this copyright notice.
<P>
THIS PROGRAM IS PROVIDED "AS IS" WITHOUT EXPRESS OR IMPLIED WARRANTY.
THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL THE
AUTHOR Muhammad A. Muquit BE LIABLE FOR ANY SPECIAL, INDIRECT OR
CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.

<P>
<b>
Note: This program is developed in my own time. My employer has nothing to
do with it.
</b>
</blockquote>
<A NAME="ackn">
<h2>20. Acknowledgment</h2>
</A>
<blockquote>
Thanks to <I>John Cristy</I> for <A
HREF="http://www.wizards.dupont.com/cristy/ImageMagick.html">ImageMagick</A>.
I took many routines from ImageMagick for the GIF image combining library.
I borrowed the font array and some code from 
<a href="http://siva.cshl.org/gd/gd.html">gd library</a>. Thanks to 
<a href="http://sunsite.unc.edu/boutell/index.html"><I>Tom Boutell</I></a>.
Thanks to all of you who showed interest in the counter program. I had fun
writing it.
</blockquote>
<a name="auth">
<h2>21. Authors</h2>
</a>
<blockquote>
<a href="index.html"><i>Muhammad A Muquit</i></a> and<br>
<A href="http://eies.njit.edu/~kevin/"><i>Kevin J. Walsh</i></a>
</blockquote>
<A NAME="hear">
<h2>23. I like to hear from you</h2>
</A>
<blockquote>
If you are using this program, I like to hear from you. 
If you are having any problem with the program,
please let me know as well.  Feel free to send any suggestion. If you think
that the program is cool, <B>please consider sending me a picture postcard
of the area where you live</B>. Thanks to all of you who sent me the nice
postcards.  I really appreciate it.
<P>
I receive enormous number of mails.  Please understand that no way I can answer
all of the mails I receive, although eventually I read all the mails.
If you do not hear from me in 3 days, please send the mail again.
<P>
<PRE>
    Muhammad A Muquit
    SEMCOR, Inc.
    65 West Street Road
    Warminster, PA 18974
    USA
</PRE>
Thanks.
<P>
Enjoy!
</blockquote>
<A NAME="chl">
<h2>24. ChangeLog</h2>
</A>
If you contributed or suggested something and if your name is not
here, please drop me a line and get the credit.
<p>
<b>Count 2.2</b> (<i>January 16, 1996</i>)
<ul>
<p>
<li> There was a logic problem in determining AM and PM. Thanks to
(<i>stephen@txdirect.net</i>). 01/18/96
<p>
<li> Strict mode (detect if browser returns HTTP_REFERER) is a configurable
option.
<p>
<li> An error was in the code related to ACCESS_AUTH directive. Reported
by <i>c2dhanle@CompApp.DCU.IE</i>
</ul>
<p>
<dl>
<dd><b>Count 2.1</b> (<i>January 15, 1996</i>)
</dl>
<ul TYPE=disc>
<li> The bug related to st parameter is fixed.
<p>
<li> The same program an be used to display time or date.
</ul>
<P>
<b>Count 2.0</b> (<i>December 27, 1995)</i>
<ul type=disc>
<LI> Configuration scripts. You should not to need to hand edit any file in
order to compile and install the counter.
<p>
<LI>Reasonable defaults for all QUERY_STRING parameters.
<br>
<b>Implemented by <A href="http://eies.njit.edu/~kevin/">Kevin J. Walsh</a></b>
<P>
<LI>QUERY_STRING parameters can be in any order and not case sensitive.
<br>
<b>Implemented by <A href="http://eies.njit.edu/~kevin/">Kevin J. Walsh</a></b>
<P>
<LI>Counter can be displayed without incrementing.
<br>
<b>Implemented by <A href="http://eies.njit.edu/~kevin/">Kevin J. Walsh</a></b>
<P>
<LI>A literal digit string can be displayed.
<br>
<b>Implemented by <A href="http://eies.njit.edu/~kevin/">Kevin J. Walsh</a></b>
<P>
<LI>A random digit string can be displayed as counter.
<br>
<b>Implemented by <A href="http://eies.njit.edu/~kevin/">Kevin J. Walsh</a></b>
<P>
<LI>Colors can be negated, that is counter can be displayed as a negative
copy.
<P>
<LI>The counter can be rotated (integral of 90 degrees, 90,180,270 degrees).
<P>
<LI>No need to specify width and height of digit images.
<P>
<LI>The frame and transparent color can be a name (e.g. red, violet etc),
a hex string (e.g. ffffff, ff00ff, dddddd etc.)
as well as RGB triplets (e.g. 160;255;0, 0;0;0 etc)  as before. 
<br>
<b>Implemented by <A href="http://eies.njit.edu/~kevin/">Kevin J. Walsh</a></b>
<P>
<LI> The counter can be called as simply as:
<PRE>
    &lt;img src="/cgi-bin/Count.cgi?df=count.dat"&gt;
</PRE>
or as complex as before. or any attribute can be set independently.
</UL>
<P>
<b>Count 2.0b</b>
<ul type=square>
<p>
<li> Log directory was not created by the Count-install script.
    (Thanks to <i>robertg@zoom.com</i>). (12/07/95).
</ul>
<P>
Thanks to <A HREF="http://www.microserve.net/~john/">John Anthony Ruchak</a>
for beta testing Count 1.5.
<P>
    <B>Count 1.5</B>
    <I>(September 11, 1995, 9:00 PM EDT)</I>
<UL type=square>
<LI>can be compiled with -DALLOW_FILE_CREATION option. if compiled with
      this option, the data file will be created if it does not exist in
      the directory defined with DataDir and the value defined with st in
      QUERY_STRING will be written to it.
      (suggested by
      <A HREF="http://www.microserve.net/~john/">John Anthony Ruchak</a>.
<P>
    <I>(September 10, 1995)</I>
<LI>Advisory data file locking. Datafile will not get messed up by
      simultaneous Count.cgi processes.
<P>
<LI>Error messages are converted directly from string to image. No
      included GIF images are needed, will be beneficial for system with
      low memory. I borrowed the font array and some code from 
      <A HREF="http://siva.cshl.org/gd/gd.html">gd library</a>.
      Thanks to 
      <A HREF="http://sunsite.unc.edu/boutell/index.html">Tom Boutell</a>
<P>
<LI>Authorized host names can be in configuration file. To handle
      "Counter Terrorism", the source code modification is not
      necessary.
<P>
<LI>The hits on the web page can be counted without displaying the digits.
suggested by <A HREf="http://macul.ciencias.uchile.cl/~andress">Andres
Sepulveda</A>.
</UL>
<P>
    <B>Count 1.4</B>
    <I>(August 27, 1995)</I>
<P>
<UL>
<LI>wigingto@umr.edu suggested to use HTTP_REFERER for checking remote
      access to the counter.
<P>
<LI>randerso@bite.db.uth.tmc.edu sent some code segment to account for
      port numbers at the end of a referer URL.
<P>
<LI>Ornamental frame with user defined color and thickness on the fly.
<P>
<LI>maximum number of digits can be &gt;= 5 or &lt;= 10 (if you use md)
      (on the fly).
<P>
<LI>if pad=0, the exact number of digits will be displayed without left
      padding with zeros (on the fly).
<P>
<LI>Any color of the digits can be made transparent on the fly.
<P>
<LI>Digit style can be provided on the fly.
<P>
<LI>sdw@iadfw.net suggested to keep configuration file, data file, digits,
      log file in separate directories. It will fix a security hole.
<P>
<LI>datafile can be edited.
</UL>
<P>
<B>Count 1.3</B>
<UL>
<P>
<LI>Hardcoded the base directory of the counter data files.  This will fix
      a security hole. Thanks to carsten@group.com
</UL>
<HR>
<ADDRESS><A HREF="mailto:muquit@semcor.com">muquit@semcor.com</A></ADDRESS>
<P>
<EM>Last Update: May 05, 1996</EM>
<P>
Today: <img src="/cgi-bin/Count22.cgi?display=date|dd=D|ft=2" 
alt="0-0-0" align=absmiddle>
</BODY>
</HTML>
