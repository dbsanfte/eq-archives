<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="top" href="./index.php?sid=1d19d2befc5df29bd39740e3602a54e7" title="HackersQuest.org Forum Index" />
<link rel="search" href="./search.php?sid=1d19d2befc5df29bd39740e3602a54e7" title="Search" />
<link rel="help" href="./faq.php?sid=1d19d2befc5df29bd39740e3602a54e7" title="FAQ" />
<link rel="author" href="./memberlist.php?sid=1d19d2befc5df29bd39740e3602a54e7" title="Memberlist" />
<link rel="prev" href="viewtopic.php?t=2836&amp;view=previous&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="View previous topic" />
<link rel="next" href="viewtopic.php?t=2836&amp;view=next&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="View next topic" />
<link rel="up" href="viewforum.php?f=14&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="EverQuest::Collector" />
<link rel="chapter forum" href="viewforum.php?f=1&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="HackersQuest::General" />
<link rel="chapter forum" href="viewforum.php?f=13&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="HackersQuest.Wizardry" />
<link rel="chapter forum" href="viewforum.php?f=15&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="HackersQuest::MentallyChallenged" />
<link rel="chapter forum" href="viewforum.php?f=4&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="EverQuest::General" />
<link rel="chapter forum" href="viewforum.php?f=2&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="EverQuest::ShowEQ" />
<link rel="chapter forum" href="viewforum.php?f=3&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="EverQuest::Emulator" />
<link rel="chapter forum" href="viewforum.php?f=12&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="EverQuest::EQWindows" />
<link rel="chapter forum" href="viewforum.php?f=14&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="EverQuest::Collector" />
<link rel="chapter forum" href="viewforum.php?f=7&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="AnarchyOnline::General" />
<link rel="chapter forum" href="viewforum.php?f=6&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="DAOC::General" />
<link rel="chapter forum" href="viewforum.php?f=5&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="DAOC::Odin's Eye" />
<link rel="chapter forum" href="viewforum.php?f=9&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="DAOC::DAOCUnleashed" />
<link rel="chapter forum" href="viewforum.php?f=8&amp;sid=1d19d2befc5df29bd39740e3602a54e7" title="Other::General" />

<title>HackersQuest.org :: View topic - Vendor Pricing</title>
<!-- link rel="stylesheet" href="templates/subSilver/subSilver.css" type="text/css" -->
<style type="text/css">
<!--
/*
  The original subSilver Theme for phpBB version 2+
  Created by subBlue design
  http://www.subBlue.com

  NOTE: These CSS definitions are stored within the main page body so that you can use the phpBB2
  theme administration centre. When you have finalised your style you could cut the final CSS code
  and place it in an external file, deleting this section to save bandwidth.
*/

/* General page style. The scroll bar colours only visible in IE5.5+ */
body {
	background-color: #E5E5E5;
	scrollbar-face-color: #DEE3E7;
	scrollbar-highlight-color: #FFFFFF;
	scrollbar-shadow-color: #DEE3E7;
	scrollbar-3dlight-color: #D1D7DC;
	scrollbar-arrow-color:  #006699;
	scrollbar-track-color: #EFEFEF;
	scrollbar-darkshadow-color: #98AAB1;
}

/* General font families for common tags */
font,th,td,p { font-family: Verdana, Arial, Helvetica, sans-serif }
a:link,a:active,a:visited { color : #006699; }
a:hover		{ text-decoration: underline; color : #DD6900; }
hr	{ height: 0px; border: solid #D1D7DC 0px; border-top-width: 1px;}

/* This is the border line & background colour round the entire page */
.bodyline	{ background-color: #FFFFFF; border: 1px #98AAB1 solid; }

/* This is the outline round the main forum tables */
.forumline	{ background-color: #FFFFFF; border: 2px #006699 solid; }

/* Main table cell colours and backgrounds */
td.row1	{ background-color: #EFEFEF; }
td.row2	{ background-color: #DEE3E7; }
td.row3	{ background-color: #D1D7DC; }

/*
  This is for the table cell above the Topics, Post & Last posts on the index.php page
  By default this is the fading out gradiated silver background.
  However, you could replace this with a bitmap specific for each forum
*/
td.rowpic {
		background-color: #FFFFFF;
		background-image: url(templates/subSilver/images/cellpic2.jpg);
		background-repeat: repeat-y;
}

/* Header cells - the blue and silver gradient backgrounds */
th	{
	color: #FFA34F; font-size: 11px; font-weight : bold;
	background-color: #006699; height: 25px;
	background-image: url(templates/subSilver/images/cellpic3.gif);
}

td.cat,td.catHead,td.catSides,td.catLeft,td.catRight,td.catBottom {
			background-image: url(templates/subSilver/images/cellpic1.gif);
			background-color:#D1D7DC; border: #FFFFFF; border-style: solid; height: 28px;
}

/*
  Setting additional nice inner borders for the main table cells.
  The names indicate which sides the border will be on.
  Don't worry if you don't understand this, just ignore it :-)
*/
td.cat,td.catHead,td.catBottom {
	height: 29px;
	border-width: 0px 0px 0px 0px;
}
th.thHead,th.thSides,th.thTop,th.thLeft,th.thRight,th.thBottom,th.thCornerL,th.thCornerR {
	font-weight: bold; border: #FFFFFF; border-style: solid; height: 28px;
}
td.row3Right,td.spaceRow {
	background-color: #D1D7DC; border: #FFFFFF; border-style: solid;
}

th.thHead,td.catHead { font-size: 12px; border-width: 1px 1px 0px 1px; }
th.thSides,td.catSides,td.spaceRow	 { border-width: 0px 1px 0px 1px; }
th.thRight,td.catRight,td.row3Right	 { border-width: 0px 1px 0px 0px; }
th.thLeft,td.catLeft	  { border-width: 0px 0px 0px 1px; }
th.thBottom,td.catBottom  { border-width: 0px 1px 1px 1px; }
th.thTop	 { border-width: 1px 0px 0px 0px; }
th.thCornerL { border-width: 1px 0px 0px 1px; }
th.thCornerR { border-width: 1px 1px 0px 0px; }

/* The largest text used in the index page title and toptic title etc. */
.maintitle	{
	font-weight: bold; font-size: 22px; font-family: "Trebuchet MS",Verdana, Arial, Helvetica, sans-serif;
	text-decoration: none; line-height : 120%; color : #000000;
}

/* General text */
.gen { font-size : 12px; }
.genmed { font-size : 11px; }
.gensmall { font-size : 10px; }
.gen,.genmed,.gensmall { color : #000000; }
a.gen,a.genmed,a.gensmall { color: #006699; text-decoration: none; }
a.gen:hover,a.genmed:hover,a.gensmall:hover	{ color: #DD6900; text-decoration: underline; }

/* The register, login, search etc links at the top of the page */
.mainmenu		{ font-size : 11px; color : #000000 }
a.mainmenu		{ text-decoration: none; color : #006699;  }
a.mainmenu:hover{ text-decoration: underline; color : #DD6900; }

/* Forum category titles */
.cattitle		{ font-weight: bold; font-size: 12px ; letter-spacing: 1px; color : #006699}
a.cattitle		{ text-decoration: none; color : #006699; }
a.cattitle:hover{ text-decoration: underline; }

/* Forum title: Text and link to the forums used in: index.php */
.forumlink		{ font-weight: bold; font-size: 12px; color : #006699; }
a.forumlink 	{ text-decoration: none; color : #006699; }
a.forumlink:hover{ text-decoration: underline; color : #DD6900; }

/* Used for the navigation text, (Page 1,2,3 etc) and the navigation bar when in a forum */
.nav			{ font-weight: bold; font-size: 11px; color : #000000;}
a.nav			{ text-decoration: none; color : #006699; }
a.nav:hover		{ text-decoration: underline; }

/* titles for the topics: could specify viewed link colour too */
.topictitle,h1,h2	{ font-weight: bold; font-size: 11px; color : #000000; }
a.topictitle:link   { text-decoration: none; color : #006699; }
a.topictitle:visited { text-decoration: none; color : #5493B4; }
a.topictitle:hover	{ text-decoration: underline; color : #DD6900; }

/* Name of poster in viewmsg.php and viewtopic.php and other places */
.name			{ font-size : 11px; color : #000000;}

/* Location, number of posts, post date etc */
.postdetails		{ font-size : 10px; color : #000000; }

/* The content of the posts (body of text) */
.postbody { font-size : 12px; line-height: 18px}
a.postlink:link	{ text-decoration: none; color : #006699 }
a.postlink:visited { text-decoration: none; color : #5493B4; }
a.postlink:hover { text-decoration: underline; color : #DD6900}

/* Quote & Code blocks */
.code {
	font-family: Courier, 'Courier New', sans-serif; font-size: 11px; color: #006600;
	background-color: #FAFAFA; border: #D1D7DC; border-style: solid;
	border-left-width: 1px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px
}

.quote {
	font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 11px; color: #444444; line-height: 125%;
	background-color: #FAFAFA; border: #D1D7DC; border-style: solid;
	border-left-width: 1px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px
}

/* Copyright and bottom info */
.copyright		{ font-size: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; color: #444444; letter-spacing: -1px;}
a.copyright		{ color: #444444; text-decoration: none;}
a.copyright:hover { color: #000000; text-decoration: underline;}

/* Form elements */
input,textarea, select {
	color : #000000;
	font: normal 11px Verdana, Arial, Helvetica, sans-serif;
	border-color : #000000;
}

/* The text input fields background colour */
input.post, textarea.post, select {
	background-color : #FFFFFF;
}

input { text-indent : 2px; }

/* The buttons used for bbCode styling in message post */
input.button {
	background-color : #EFEFEF;
	color : #000000;
	font-size: 11px; font-family: Verdana, Arial, Helvetica, sans-serif;
}

/* The main submit button option */
input.mainoption {
	background-color : #FAFAFA;
	font-weight : bold;
}

/* None-bold submit button */
input.liteoption {
	background-color : #FAFAFA;
	font-weight : normal;
}

/* This is the line in the posting page which shows the rollover
  help line. This is actually a text box, but if set to be the same
  colour as the background no one will know ;)
*/
.helpline { background-color: #DEE3E7; border-style: none; }

/* Import the fancy styles for IE only (NS4.x doesn't use the @import function) */
@import url("templates/subSilver/formIE.css");
-->
</style>
</head>
<body bgcolor="#E5E5E5" text="#000000" link="#006699" vlink="#5493B4">

<a name="top"></a>

<table width="100%" cellspacing="0" cellpadding="10" border="0" align="center">
	<tr>
		<td class="bodyline"><table width="100%" cellspacing="0" cellpadding="0" border="0">
			<tr>
				<td><a href="index.php?sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/logo_phpBB.gif" border="0" alt="HackersQuest.org Forum Index" vspace="1" /></a></td>
				<td align="center" width="100%" valign="middle"><span class="maintitle">HackersQuest.org</span><br /><span class="gen">Discussions for HackersQuest<br />&nbsp; </span>
				<table cellspacing="0" cellpadding="2" border="0">
					<tr>
						<td align="center" valign="top" nowrap="nowrap"><span class="mainmenu">&nbsp;<a href="faq.php?sid=1d19d2befc5df29bd39740e3602a54e7" class="mainmenu"><img src="templates/subSilver/images/icon_mini_faq.gif" width="12" height="13" border="0" alt="FAQ" hspace="3" />FAQ</a></span><span class="mainmenu">&nbsp; &nbsp;<a href="search.php?sid=1d19d2befc5df29bd39740e3602a54e7" class="mainmenu"><img src="templates/subSilver/images/icon_mini_search.gif" width="12" height="13" border="0" alt="Search" hspace="3" />Search</a>&nbsp; &nbsp;<a href="memberlist.php?sid=1d19d2befc5df29bd39740e3602a54e7" class="mainmenu"><img src="templates/subSilver/images/icon_mini_members.gif" width="12" height="13" border="0" alt="Memberlist" hspace="3" />Memberlist</a>&nbsp; &nbsp;<a href="groupcp.php?sid=1d19d2befc5df29bd39740e3602a54e7" class="mainmenu"><img src="templates/subSilver/images/icon_mini_groups.gif" width="12" height="13" border="0" alt="Usergroups" hspace="3" />Usergroups</a>&nbsp;
						&nbsp;<a href="profile.php?mode=register&amp;sid=1d19d2befc5df29bd39740e3602a54e7" class="mainmenu"><img src="templates/subSilver/images/icon_mini_register.gif" width="12" height="13" border="0" alt="Register" hspace="3" />Register</a></span>&nbsp;
						</td>
					</tr>
					<tr>
						<td height="25" align="center" valign="top" nowrap="nowrap"><span class="mainmenu">&nbsp;<a href="profile.php?mode=editprofile&amp;sid=1d19d2befc5df29bd39740e3602a54e7" class="mainmenu"><img src="templates/subSilver/images/icon_mini_profile.gif" width="12" height="13" border="0" alt="Profile" hspace="3" />Profile</a>&nbsp; &nbsp;<a href="privmsg.php?folder=inbox&amp;sid=1d19d2befc5df29bd39740e3602a54e7" class="mainmenu"><img src="templates/subSilver/images/icon_mini_message.gif" width="12" height="13" border="0" alt="Log in to check your private messages" hspace="3" />Log in to check your private messages</a>&nbsp; &nbsp;<a href="login.php?sid=1d19d2befc5df29bd39740e3602a54e7" class="mainmenu"><img src="templates/subSilver/images/icon_mini_login.gif" width="12" height="13" border="0" alt="Log in" hspace="3" />Log in</a>&nbsp;</span></td>
					</tr>
				</table></td>
			</tr>
		</table>

		<br />


<table width="100%" cellspacing="2" cellpadding="2" border="0">
  <tr>
	<td align="left" valign="bottom" colspan="2"><a class="maintitle" href="viewtopic.php?t=2836&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=&amp;sid=1d19d2befc5df29bd39740e3602a54e7">Vendor Pricing</a><br />
	  <span class="gensmall"><b></b><br />
	  &nbsp; </span></td>
  </tr>
</table>

<table width="100%" cellspacing="2" cellpadding="2" border="0">
  <tr>
	<td align="left" valign="bottom" nowrap="nowrap"><span class="nav"><a href="posting.php?mode=newtopic&amp;f=14&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/post.gif" border="0" alt="Post new topic" align="middle" /></a>&nbsp;&nbsp;&nbsp;<a href="posting.php?mode=reply&amp;t=2836&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/reply.gif" border="0" alt="Reply to topic" align="middle" /></a></span></td>
	<td align="left" valign="middle" width="100%"><span class="nav">&nbsp;&nbsp;&nbsp;<a href="index.php?sid=1d19d2befc5df29bd39740e3602a54e7" class="nav">HackersQuest.org Forum Index</a>
	  -> <a href="viewforum.php?f=14&amp;sid=1d19d2befc5df29bd39740e3602a54e7" class="nav">EverQuest::Collector</a></span></td>
  </tr>
</table>

<table class="forumline" width="100%" cellspacing="1" cellpadding="3" border="0">
	<tr align="right">
		<td class="catHead" colspan="2" height="28"><span class="nav"><a href="viewtopic.php?t=2836&amp;view=previous&amp;sid=1d19d2befc5df29bd39740e3602a54e7" class="nav">View previous topic</a> :: <a href="viewtopic.php?t=2836&amp;view=next&amp;sid=1d19d2befc5df29bd39740e3602a54e7" class="nav">View next topic</a> &nbsp;</span></td>
	</tr>
	
	<tr>
		<th class="thLeft" width="150" height="26" nowrap="nowrap">Author</th>
		<th class="thRight" nowrap="nowrap">Message</th>
	</tr>
	<tr>
		<td width="150" align="left" valign="top" class="row1"><span class="name"><a name="13960"></a><b>SamWoodchopper</b></span><br /><span class="postdetails">Wannabe<br /><br /><br />Joined: 10 May 2002<br />Posts: 671<br /></span><br /></td>
		<td class="row1" width="100%" height="28" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="100%"><a href="viewtopic.php?p=13960&amp;sid=1d19d2befc5df29bd39740e3602a54e7#13960"><img src="templates/subSilver/images/icon_minipost.gif" width="12" height="9" alt="Post" title="Post" border="0" /></a><span class="postdetails">Posted: Tue Sep 03, 2002 4:27 pm<span class="gen">&nbsp;</span>&nbsp; &nbsp;Post subject: Vendor Pricing</span></td>
				<td valign="top" nowrap="nowrap"><a href="posting.php?mode=quote&amp;p=13960&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" /></a>   </td>
			</tr>
			<tr>
				<td colspan="2"><hr /></td>
			</tr>
			<tr>
				<td colspan="2"><span class="postbody">After much fiddling around with numbers I think I finally discovered the way prices on Vendors are made on Life servers (this might already be known, in that case, I'm just chalking it down for future reference)
<br />

<br />
Two fields are involved: "Cost" and "SellRate"
<br />

<br />
<span style="font-style: italic">At MAX faction</span> the price the vendor sets is:
<br />

<br />
Sell: Cost * 1.05 * SellRate
<br />
Buy: Cost / 1.05
<br />

<br />
Two (randomly taken from the database) items that make me believe this is true:
<br />

<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center"><tr> 	  <td><span class="genmed"><b>Code:</b></span></td>	</tr>	<tr>	  <td class="code">
<br />
Item&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Cost&nbsp; &nbsp; SellRate
<br />

<br />
Peridot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10000&nbsp; &nbsp; 1
<br />
Coldain Velium Temper&nbsp; &nbsp; 5000&nbsp; &nbsp; 5
<br />
</td>	</tr></table><span class="postbody">
<br />

<br />
Peridot:
<br />

<br />
Sell = 10000 * 1.05 * 1 = 10500 = 10pp 5gp *correct ingame*
<br />
Buy = 10000 / 1.05 = 9523.8095 = 9pp 5gp 2sp 4cp *correct ingame*
<br />

<br />
Coldain Velium Temper:
<br />

<br />
Sell = 5000 * 1.05 * 5 = 26250 = 26pp 2gp 5sp *correct ingame*
<br />
Buy = 5000 / 1.05 = 4761.9048 = 4pp 7gp 6sp 2cp *correct ingame*
<br />

<br />
<span style="font-style: italic">Edit
<br />

<br />
Looking at the source tho, this isn't correct:
<br />

<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center"><tr> 	  <td><span class="genmed"><b>Code:</b></span></td>	</tr>	<tr>	  <td class="code">
<br />
void EQ_ZoneSpawn&#58;&#58;ShopBuy &#40;zoneSpawnMerchant.cpp line 91&#41;
<br />

<br />
UINT32 cost = UINT32&#40;Data&#40;&#41;-&gt;ShopRate&#40;&#41; * sellRate * item-&gt;Info&#40;&#41;-&gt;Common&#40;&#41;-&gt;Cost&#40;&#41; * &#40;count ? count &#58; 1&#41;&nbsp; + 0.5&#41;;
<br />
</td>	</tr></table><span class="postbody">
<br />

<br />
Velium Coldain Temper: Shoprate = 1, SellRate = 5, Cost = 5000, count = 1
<br />

<br />
Hence = 1 * 5000 * 5 * 1 * 1 + 0.5 = 25000.5 = 25pp 1cp
<br />

<br />
and
<br />

<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center"><tr> 	  <td><span class="genmed"><b>Code:</b></span></td>	</tr>	<tr>	  <td class="code">
<br />
void EQ_ZoneSpawn&#58;&#58;ShopSell &#40;zoneSpawnMerchant.cpp line 152&#41;
<br />

<br />
int&#40;item-&gt;Info&#40;&#41;-&gt;Common&#40;&#41;-&gt;Cost&#40;&#41; / Data&#40;&#41;-&gt;ShopRate&#40;&#41; + 0.5&#41; * &#40; count ? count &#58; 1&#41;
<br />
</td>	</tr></table><span class="postbody">
<br />

<br />
Hence = 5000 / 1 + 0.5 * 1 = 5000.5 = 5pp 5cp
<br />

<br />
*pulls hair out*</span></span><span class="gensmall"><br /><br />Last edited by SamWoodchopper on Sun Sep 08, 2002 3:57 pm; edited 1 time in total</span></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="row1" width="150" align="left" valign="middle"><span class="nav"><a href="#top" class="nav">Back to top</a></span></td>
		<td class="row1" width="100%" height="28" valign="bottom" nowrap="nowrap"><table cellspacing="0" cellpadding="0" border="0" height="18" width="18">
			<tr>
				<td valign="middle" nowrap="nowrap"><a href="profile.php?mode=viewprofile&amp;u=20582&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" /></a> <a href="privmsg.php?mode=post&amp;u=20582&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_pm.gif" alt="Send private message" title="Send private message" border="0" /></a>     <script language="JavaScript" type="text/javascript"><!--

	if ( navigator.userAgent.toLowerCase().indexOf('mozilla') != -1 && navigator.userAgent.indexOf('5.') == -1 && navigator.userAgent.indexOf('6.') == -1 )
		document.write(' ');
	else
		document.write('</td><td>&nbsp;</td><td valign="top" nowrap="nowrap"><div style="position:relative"><div style="position:absolute"></div><div style="position:absolute;left:3px;top:-1px"></div></div>');

				//--></script><noscript></noscript></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="spaceRow" colspan="2" height="1"><img src="templates/subSilver/images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	<tr>
		<td width="150" align="left" valign="top" class="row2"><span class="name"><a name="13962"></a><b>iluvseq</b></span><br /><span class="postdetails">Lamer<br /><br /><br />Joined: 14 Jun 2002<br />Posts: 46<br /></span><br /></td>
		<td class="row2" width="100%" height="28" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="100%"><a href="viewtopic.php?p=13962&amp;sid=1d19d2befc5df29bd39740e3602a54e7#13962"><img src="templates/subSilver/images/icon_minipost.gif" width="12" height="9" alt="Post" title="Post" border="0" /></a><span class="postdetails">Posted: Tue Sep 03, 2002 6:08 pm<span class="gen">&nbsp;</span>&nbsp; &nbsp;Post subject: Operator Precedence</span></td>
				<td valign="top" nowrap="nowrap"><a href="posting.php?mode=quote&amp;p=13962&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" /></a>   </td>
			</tr>
			<tr>
				<td colspan="2"><hr /></td>
			</tr>
			<tr>
				<td colspan="2"><span class="postbody">The code has a subtle bug in it:
<br />

<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center"><tr> 	  <td><span class="genmed"><b>Code:</b></span></td>	</tr>	<tr>	  <td class="code">
<br />
UINT32 cost = UINT32&#40;Data&#40;&#41;-&gt;ShopRate&#40;&#41; * sellRate * item-&gt;Info&#40;&#41;-&gt;Common&#40;&#41;-&gt;Cost&#40;&#41; * &#40;count ? count &#58; 1&#41;&nbsp; + 0.5&#41;;</td>	</tr></table><span class="postbody">
<br />
This equates to:
<br />
1 * 5000 * 5 * 1 + .5 (as you comment)
<br />
Remember, * takes precedence over + so you get:
<br />
(1 * 5000 * 5 * 1) + .5
<br />

<br />
I suspect what they really ment was:
<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center"><tr> 	  <td><span class="genmed"><b>Code:</b></span></td>	</tr>	<tr>	  <td class="code">
<br />
UINT32 cost = UINT32&#40;Data&#40;&#41;-&gt;ShopRate&#40;&#41; * sellRate * item-&gt;Info&#40;&#41;-&gt;Common&#40;&#41;-&gt;Cost&#40;&#41; * &#40;&#40;count ? count &#58; 1&#41;&nbsp; + 0.5&#41;&#41;;</td>	</tr></table><span class="postbody">
<br />
Which equates to:
<br />
1 * 5000 * 5 * (1 + .5)
<br />
However, that would be an inaccurate formula for pricing (vendors charge an amount per item and then multiply it by count, not count.5)
<br />

<br />
If the formula you propose (1.05) is correct, the code should read:
<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center"><tr> 	  <td><span class="genmed"><b>Code:</b></span></td>	</tr>	<tr>	  <td class="code">
<br />
UINT32 cost = UINT32&#40;Data&#40;&#41;-&gt;ShopRate&#40;&#41; * sellRate * item-&gt;Info&#40;&#41;-&gt;Common&#40;&#41;-&gt;Cost&#40;&#41; * &#40;count ? count &#58; 1&#41;&nbsp; * 1.05 &#41;;</td>	</tr></table><span class="postbody"></span><span class="gensmall"></span></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="row2" width="150" align="left" valign="middle"><span class="nav"><a href="#top" class="nav">Back to top</a></span></td>
		<td class="row2" width="100%" height="28" valign="bottom" nowrap="nowrap"><table cellspacing="0" cellpadding="0" border="0" height="18" width="18">
			<tr>
				<td valign="middle" nowrap="nowrap"><a href="profile.php?mode=viewprofile&amp;u=21187&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" /></a> <a href="privmsg.php?mode=post&amp;u=21187&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_pm.gif" alt="Send private message" title="Send private message" border="0" /></a>     <script language="JavaScript" type="text/javascript"><!--

	if ( navigator.userAgent.toLowerCase().indexOf('mozilla') != -1 && navigator.userAgent.indexOf('5.') == -1 && navigator.userAgent.indexOf('6.') == -1 )
		document.write(' ');
	else
		document.write('</td><td>&nbsp;</td><td valign="top" nowrap="nowrap"><div style="position:relative"><div style="position:absolute"></div><div style="position:absolute;left:3px;top:-1px"></div></div>');

				//--></script><noscript></noscript></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="spaceRow" colspan="2" height="1"><img src="templates/subSilver/images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	<tr>
		<td width="150" align="left" valign="top" class="row1"><span class="name"><a name="13964"></a><b>Fatty99</b></span><br /><span class="postdetails">Wannabe<br /><br /><br />Joined: 09 Jun 2002<br />Posts: 77<br /></span><br /></td>
		<td class="row1" width="100%" height="28" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="100%"><a href="viewtopic.php?p=13964&amp;sid=1d19d2befc5df29bd39740e3602a54e7#13964"><img src="templates/subSilver/images/icon_minipost.gif" width="12" height="9" alt="Post" title="Post" border="0" /></a><span class="postdetails">Posted: Tue Sep 03, 2002 6:45 pm<span class="gen">&nbsp;</span>&nbsp; &nbsp;Post subject: </span></td>
				<td valign="top" nowrap="nowrap"><a href="posting.php?mode=quote&amp;p=13964&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" /></a>   </td>
			</tr>
			<tr>
				<td colspan="2"><hr /></td>
			</tr>
			<tr>
				<td colspan="2"><span class="postbody">1.05 is correct I believe. Has been known in game for a while <img src="images/smiles/icon_smile.gif" alt="Smile" border="0" />
<br />

<br />
Some shops, such as most Merchant NPCs in the outpost in The Overthere, got a merchant price set higher than 1.
<br />

<br />
EQCollector does set the Shop Rate to 1 anyway it seems. Cant find this value stored in the text files.</span><span class="gensmall"></span></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="row1" width="150" align="left" valign="middle"><span class="nav"><a href="#top" class="nav">Back to top</a></span></td>
		<td class="row1" width="100%" height="28" valign="bottom" nowrap="nowrap"><table cellspacing="0" cellpadding="0" border="0" height="18" width="18">
			<tr>
				<td valign="middle" nowrap="nowrap"><a href="profile.php?mode=viewprofile&amp;u=21103&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" /></a> <a href="privmsg.php?mode=post&amp;u=21103&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_pm.gif" alt="Send private message" title="Send private message" border="0" /></a>     <script language="JavaScript" type="text/javascript"><!--

	if ( navigator.userAgent.toLowerCase().indexOf('mozilla') != -1 && navigator.userAgent.indexOf('5.') == -1 && navigator.userAgent.indexOf('6.') == -1 )
		document.write(' ');
	else
		document.write('</td><td>&nbsp;</td><td valign="top" nowrap="nowrap"><div style="position:relative"><div style="position:absolute"></div><div style="position:absolute;left:3px;top:-1px"></div></div>');

				//--></script><noscript></noscript></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="spaceRow" colspan="2" height="1"><img src="templates/subSilver/images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	<tr>
		<td width="150" align="left" valign="top" class="row2"><span class="name"><a name="13972"></a><b>Zordon</b></span><br /><span class="postdetails">HackersQuest::Wizard<br /><br /><br />Joined: 23 Jul 2001<br />Posts: 405<br />Location: New York</span><br /></td>
		<td class="row2" width="100%" height="28" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="100%"><a href="viewtopic.php?p=13972&amp;sid=1d19d2befc5df29bd39740e3602a54e7#13972"><img src="templates/subSilver/images/icon_minipost.gif" width="12" height="9" alt="Post" title="Post" border="0" /></a><span class="postdetails">Posted: Tue Sep 03, 2002 10:20 pm<span class="gen">&nbsp;</span>&nbsp; &nbsp;Post subject: </span></td>
				<td valign="top" nowrap="nowrap"><a href="posting.php?mode=quote&amp;p=13972&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" /></a>   </td>
			</tr>
			<tr>
				<td colspan="2"><hr /></td>
			</tr>
			<tr>
				<td colspan="2"><span class="postbody">The 1.05 in Sam's initial formula is not a constant but really depends on your allignent with merchant. Real formula for sell buy is:
<br />

<br />
Sell: Cost * X * SellRate 
<br />
Buy: Cost / X
<br />

<br />
Where X usually in range between 1 and 1.1. If you have really bad factions with merchant it can go higher I think.
<br />

<br />
In addition X is beeing sent to client every time you open merchant inventory.
<br />

<br />
I have no idea how X is really calculated. It depends on your factions, charisma and so on. X is not included in my formula in emu. 0.5 needed in it for correct rounding as most programming languages are not working as common sence would tell you:
<br />

<br />
int(10.9999) = 10 not 11.
<br />

<br />
if you add 0.5 then:
<br />

<br />
   int(10.4 + 0.5) = int(10.9) = 10
<br />

<br />
but:
<br />

<br />
   int(10.6 + 0.5) = int(11.1) = 11<br />_________________<br /><a href="mailto:zordon@ethernalquest.org">zordon@ethernalquest.org</a></span><span class="gensmall"></span></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="row2" width="150" align="left" valign="middle"><span class="nav"><a href="#top" class="nav">Back to top</a></span></td>
		<td class="row2" width="100%" height="28" valign="bottom" nowrap="nowrap"><table cellspacing="0" cellpadding="0" border="0" height="18" width="18">
			<tr>
				<td valign="middle" nowrap="nowrap"><a href="profile.php?mode=viewprofile&amp;u=16795&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" /></a> <a href="privmsg.php?mode=post&amp;u=16795&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_pm.gif" alt="Send private message" title="Send private message" border="0" /></a> <a href="mailto:zordon@ethernalquest.org"><img src="templates/subSilver/images/lang_english/icon_email.gif" alt="Send e-mail" title="Send e-mail" border="0" /></a>  <a href="aim:goim?screenname=zordonuo&amp;message=Hello+Are+you+there?"><img src="templates/subSilver/images/lang_english/icon_aim.gif" alt="AIM Address" title="AIM Address" border="0" /></a> <a href="http://edit.yahoo.com/config/send_webmesg?.target=zordonuo&amp;.src=pg"><img src="templates/subSilver/images/lang_english/icon_yim.gif" alt="Yahoo Messenger" title="Yahoo Messenger" border="0" /></a> <a href="profile.php?mode=viewprofile&amp;u=16795&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_msnm.gif" alt="MSN Messenger" title="MSN Messenger" border="0" /></a><script language="JavaScript" type="text/javascript"><!--

	if ( navigator.userAgent.toLowerCase().indexOf('mozilla') != -1 && navigator.userAgent.indexOf('5.') == -1 && navigator.userAgent.indexOf('6.') == -1 )
		document.write(' <a href="http://wwp.icq.com/scripts/search.dll?to=13190983"><img src="templates/subSilver/images/lang_english/icon_icq_add.gif" alt="ICQ Number" title="ICQ Number" border="0" /></a>');
	else
		document.write('</td><td>&nbsp;</td><td valign="top" nowrap="nowrap"><div style="position:relative"><div style="position:absolute"><a href="http://wwp.icq.com/scripts/search.dll?to=13190983"><img src="templates/subSilver/images/lang_english/icon_icq_add.gif" alt="ICQ Number" title="ICQ Number" border="0" /></a></div><div style="position:absolute;left:3px;top:-1px"><a href="http://wwp.icq.com/13190983#pager"><img src="http://web.icq.com/whitepages/online?icq=13190983&img=5" width="18" height="18" border="0" /></a></div></div>');

				//--></script><noscript><a href="http://wwp.icq.com/scripts/search.dll?to=13190983"><img src="templates/subSilver/images/lang_english/icon_icq_add.gif" alt="ICQ Number" title="ICQ Number" border="0" /></a></noscript></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="spaceRow" colspan="2" height="1"><img src="templates/subSilver/images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	<tr>
		<td width="150" align="left" valign="top" class="row1"><span class="name"><a name="13974"></a><b>SamWoodchopper</b></span><br /><span class="postdetails">Wannabe<br /><br /><br />Joined: 10 May 2002<br />Posts: 671<br /></span><br /></td>
		<td class="row1" width="100%" height="28" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="100%"><a href="viewtopic.php?p=13974&amp;sid=1d19d2befc5df29bd39740e3602a54e7#13974"><img src="templates/subSilver/images/icon_minipost.gif" width="12" height="9" alt="Post" title="Post" border="0" /></a><span class="postdetails">Posted: Tue Sep 03, 2002 10:38 pm<span class="gen">&nbsp;</span>&nbsp; &nbsp;Post subject: </span></td>
				<td valign="top" nowrap="nowrap"><a href="posting.php?mode=quote&amp;p=13974&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" /></a>   </td>
			</tr>
			<tr>
				<td colspan="2"><hr /></td>
			</tr>
			<tr>
				<td colspan="2"><span class="postbody">Ah ok, so in this particular example, Data()-&gt;ShopRate() = 1.05. Makes perfect sence now and both formula's are the same, good to have this post as reference for the future  <img src="images/smiles/icon_smile.gif" alt="Smile" border="0" /></span><span class="gensmall"></span></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="row1" width="150" align="left" valign="middle"><span class="nav"><a href="#top" class="nav">Back to top</a></span></td>
		<td class="row1" width="100%" height="28" valign="bottom" nowrap="nowrap"><table cellspacing="0" cellpadding="0" border="0" height="18" width="18">
			<tr>
				<td valign="middle" nowrap="nowrap"><a href="profile.php?mode=viewprofile&amp;u=20582&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" /></a> <a href="privmsg.php?mode=post&amp;u=20582&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/icon_pm.gif" alt="Send private message" title="Send private message" border="0" /></a>     <script language="JavaScript" type="text/javascript"><!--

	if ( navigator.userAgent.toLowerCase().indexOf('mozilla') != -1 && navigator.userAgent.indexOf('5.') == -1 && navigator.userAgent.indexOf('6.') == -1 )
		document.write(' ');
	else
		document.write('</td><td>&nbsp;</td><td valign="top" nowrap="nowrap"><div style="position:relative"><div style="position:absolute"></div><div style="position:absolute;left:3px;top:-1px"></div></div>');

				//--></script><noscript></noscript></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="spaceRow" colspan="2" height="1"><img src="templates/subSilver/images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	<tr align="center">
		<td class="catBottom" colspan="2" height="28"><table cellspacing="0" cellpadding="0" border="0">
			<tr><form method="post" action="viewtopic.php?t=2836&amp;start=0&amp;sid=1d19d2befc5df29bd39740e3602a54e7">
				<td align="center"><span class="gensmall">Display posts from previous: <select name="postdays"><option value="0" selected="selected">All Posts</option><option value="1">1 Day</option><option value="7">7 Days</option><option value="14">2 Weeks</option><option value="30">1 Month</option><option value="90">3 Months</option><option value="180">6 Months</option><option value="364">1 Year</option></select>&nbsp;<select name="postorder"><option value="asc" selected="selected">Oldest First</option><option value="desc">Newest First</option></select>&nbsp;<input type="submit" value="Go" class="liteoption" name="submit" /></span></td>
			</form></tr>
		</table></td>
	</tr>
</table>

<table width="100%" cellspacing="2" cellpadding="2" border="0" align="center">
  <tr>
	<td align="left" valign="middle" nowrap="nowrap"><span class="nav"><a href="posting.php?mode=newtopic&amp;f=14&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/post.gif" border="0" alt="Post new topic" align="middle" /></a>&nbsp;&nbsp;&nbsp;<a href="posting.php?mode=reply&amp;t=2836&amp;sid=1d19d2befc5df29bd39740e3602a54e7"><img src="templates/subSilver/images/lang_english/reply.gif" border="0" alt="Reply to topic" align="middle" /></a></span></td>
	<td align="left" valign="middle" width="100%"><span class="nav">&nbsp;&nbsp;&nbsp;<a href="index.php?sid=1d19d2befc5df29bd39740e3602a54e7" class="nav">HackersQuest.org Forum Index</a>
	  -> <a href="viewforum.php?f=14&amp;sid=1d19d2befc5df29bd39740e3602a54e7" class="nav">EverQuest::Collector</a></span></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">All times are GMT + 1 Hour</span><br /><span class="nav"></span>
	  </td>
  </tr>
  <tr>
	<td align="left" colspan="3"><span class="nav">Page <b>1</b> of <b>1</b></span></td>
  </tr>
</table>

<table width="100%" cellspacing="2" border="0" align="center">
  <tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"><span class="gensmall"></span><br />
	  &nbsp;<br />
	  </td>
	<td align="right" valign="top" nowrap="nowrap">
<form method="get" name="jumpbox" action="viewforum.php?sid=1d19d2befc5df29bd39740e3602a54e7" onSubmit="if(document.jumpbox.f.value == -1){return false;}"><table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ forms['jumpbox'].submit() }"><option value="-1">Select a forum</option><option value="-1">&nbsp;</option><option value="-1">HackersQuest</option><option value="-1">----------------</option><option value="1">HackersQuest::General</option><option value="13">HackersQuest.Wizardry</option><option value="15">HackersQuest::MentallyChallenged</option><option value="-1">&nbsp;</option><option value="-1">EverQuest</option><option value="-1">----------------</option><option value="4">EverQuest::General</option><option value="2">EverQuest::ShowEQ</option><option value="3">EverQuest::Emulator</option><option value="12">EverQuest::EQWindows</option><option value="14"selected="selected">EverQuest::Collector</option><option value="-1">&nbsp;</option><option value="-1">Anarchy Online</option><option value="-1">----------------</option><option value="7">AnarchyOnline::General</option><option value="-1">&nbsp;</option><option value="-1">Dark Age of Camelot</option><option value="-1">----------------</option><option value="6">DAOC::General</option><option value="5">DAOC::Odin's Eye</option><option value="9">DAOC::DAOCUnleashed</option><option value="-1">&nbsp;</option><option value="-1">Other Games</option><option value="-1">----------------</option><option value="8">Other::General</option></select><input type="hidden" name="sid" value="1d19d2befc5df29bd39740e3602a54e7" />&nbsp;<input type="submit" value="Go" class="liteoption" /></span></td>
	</tr>
</table></form>

<span class="gensmall">You <b>cannot</b> post new topics in this forum<br />You <b>cannot</b> reply to topics in this forum<br />You <b>cannot</b> edit your posts in this forum<br />You <b>cannot</b> delete your posts in this forum<br />You <b>cannot</b> vote in polls in this forum<br /></span></td>
  </tr>
</table>


<div align="center"><span class="copyright"><br /><br />
<!--
	We request you retain the full copyright notice below including the link to www.phpbb.com.
	This not only gives respect to the large amount of time given freely by the developers
	but also helps build interest, traffic and use of phpBB 2.0. If you cannot (for good
	reason) retain the full copyright we request you at least leave in place the
	Powered by phpBB 2.0.6 line, with phpBB linked to www.phpbb.com. If you refuse
	to include even this then support on our forums may be affected.

	The phpBB Group : 2002
// -->
Powered by <a href="http://www.phpbb.com/" target="_phpbb" class="copyright">phpBB</a> 2.0.6 &copy; 2001, 2002 phpBB Group<br /></span></div>
		</td>
	</tr>
</table>

</body>
</html>

