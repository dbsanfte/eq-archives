<HTML><HEAD><TITLE>HackersQuest Discussion Board - Reply to Topic</TITLE>


</HEAD>
 <BODY bgcolor="#000000"  text="#ffffff" link="#00ff00" alink="#00ff00" vlink="#00ff00" marginheight=0 marginwidth=0 topmargin=0 leftmargin=0 rightmargin=0>
<FONT SIZE="2" FACE="Verdana, Arial">

</font>
<table border=0 width=95% align=center>
<TR><TD>
<A HREF="http://www.ethernalquest.com/cgi-bin/Ultimate.cgi?action=intro&BypassCookie=true"><IMG SRC="http://www.ethernalquest.com/ubb/../images/hq-title-shock.gif"  BORDER=0></A></td>
<td align=center>
<table border=0>
<TR><TD><FONT Face="Verdana, Arial" size="2"><B>Forum:</B></font></td><TD><FONT Face="Verdana, Arial" size="2">ShowEQ</FONT></td></tr>
<TR><TD><FONT Face="Verdana, Arial" size="2"><B>Topic:</B></font></td><TD><FONT Face="Verdana, Arial" size="2">RH7.1 firewall configuration</FONT></td></tr></table>
</td></tr>
<tr><td colspan=2><FONT SIZE="1" FACE="Verdana, Arial"><A HREF="http://www.ethernalquest.com/cgi-bin/Ultimate.cgi?action=agree">Want to register?</a></FONT>
</td></tr>
</table>
<FORM ACTION="http://www.ethernalquest.com/cgi-bin/postings.cgi" NAME="REPLIER" METHOD="POST">
<center>

<table border=0 cellpadding=4 cellspacing=1 width=95%>
<tr bgcolor="#000000">
<td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
Who Can Post?
</font>
</td>
<td valign=top><FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
Any registered users may post a reply.
</font>
</td></tr>

<tr bgcolor="#000000">
<td valign=top><FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
About Registration
</font></td><td valign=top><FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
You must be registered in order to post a topic or reply in this forum.</font></td></tr>
<tr bgcolor="#1f1f1f"><td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial"><B>Your UserName:</B></FONT></td>
<td valign=top>
<INPUT TYPE="TEXT" NAME="UserName" VALUE="" SIZE=25 MAXLENGTH=25>
</td>
</tr>


<tr bgcolor="#1f1f1f">
<td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial"><B>Your Password:</B></FONT></td>
<td valign=top><INPUT TYPE="PASSWORD" NAME="Password" VALUE="" SIZE=13 MAXLENGTH=13>&nbsp;&nbsp;<FONT SIZE="1" FACE="Verdana, Arial"><A HREF="http://www.ethernalquest.com/cgi-bin/Ultimate.cgi?action=lostpw">Forget your password?</A></font></td></tr>

<tr bgcolor="#1f1f1f">
<td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial"><B>Message Icon:</B></FONT></td>
<td><INPUT type="radio" name="MsgIcon" value="1" CHECKED>&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon1.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="10"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon10.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="11"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon11.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="12"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon12.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="13"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon13.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="14"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon14.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="2"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon2.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<BR><INPUT type="radio" name="MsgIcon" value="3"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon3.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="4"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon4.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="5"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon5.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="6"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon6.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="7"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon7.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="8"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon8.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="9"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon9.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<BR></td></tr>
<TR bgcolor="#1f1f1f"><TD valign=top>
<FONT SIZE="2" FACE="Verdana, Arial"><B>Your Reply:</B></FONT>
<p><BR>
<FONT SIZE="1" FACE="Verdana, Arial" COLOR="#00ff00">
*HTML is OFF<BR>
<A HREF="http://www.ethernalquest.com/ubb/ubbcode.html" target=_blank>*UBB Code is OFF</A><BR>
<p><A HREF="http://www.ethernalquest.com/ubb/smilies.html" target=_blank>Smilies Legend</A></font>
</td>
<td>
<TEXTAREA NAME="ReplyMessage" ROWS=10 COLS=45 WRAP="VIRTUAL"></TEXTAREA>
</td></tr>
<TR bgcolor="#1f1f1f">
<td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial">
<B>Options</B>
</FONT></td>
<td valign=top><FONT SIZE="1" FACE="Verdana, Arial">
<INPUT TYPE="CHECKBOX" NAME="DisableSmilies" VALUE="yes"> <b>Disable Smilies in This Post</b>. <BR><INPUT TYPE="CHECKBOX" NAME="Signature" VALUE="yes"> <B>Show Signature:</B> include your profile  signature.  Only registered users may have signatures.
</font>
</td>
</tr>
<tr bgcolor="#000000"><td colspan=2>
<FONT SIZE="1" FACE="Verdana, Arial" COLOR="#00ff00">*If HTML and/or UBB Code are enabled, this means you can use HTML and/or UBB Code in your message.</FONT>
</td></tr>
</table>

</center>
<P>
<INPUT TYPE="HIDDEN" NAME="action" VALUE="postreply">
<INPUT TYPE="HIDDEN" NAME="TopicSubject" VALUE="RH7.1 firewall configuration">
<INPUT TYPE="HIDDEN" NAME="forum" VALUE="ShowEQ">
<INPUT TYPE="HIDDEN" NAME="number" VALUE="3">
<INPUT TYPE="HIDDEN" NAME="topic" VALUE="001670.cgi">
<CENTER>
<p>
<INPUT TYPE="Submit" NAME="SUBMIT" VALUE="Submit Reply">

<INPUT TYPE="RESET" NAME="RESET" VALUE="Clear Fields">
</form>
<FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
<P>
If you have previously registered, but forgotten your password, <A HREF="http://www.ethernalquest.com/cgi-bin/Ultimate.cgi?action=lostpw">click here</A>.
</font>

<P><FONT SIZE="2" FACE="Verdana, Arial">
<TABLE BORDER=0 cellpadding=4 border=0 cellspacing=1 WIDTH="95%"><TR bgcolor="#000000"><TD COLSPAN=2><CENTER><FONT SIZE="2" COLOR="#00ff00" FACE="Verdana, Arial">T O P I C  &nbsp;&nbsp;&nbsp; R E V I E W</font></CENTER></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">fhm</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">Hey all, <P>Sorry for the off topic thread, but I have no idea where else to turn for help with this  <IMG SRC="http://www.ethernalquest.com/ubb/smile.gif"> If you have a suggestion for a msg board or something, I'd appreciate it. <P>I installed a 2.4 kernel on my system, set up masq as normal, and used my old ipchains firewall script to setup the firewall. Everything works fine except for EQ itself. For some weird reason, almost every time I zone, I get thrown back to the Server Select screen. I've tried heaps of changes to the firewall script (even pretty much opening up everything), and I still get the problem. <P>I've gone back to a 2.2 kernel to solve the problem for now, but I'd really prefer to go with a 2.4.x kernel. <P>Should I be using iptables instead? Did anyone else have this problem when they upgraded to a 2.4 kernel? <P>Any help would be appreciated. <P>Regards, <P>dev</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">adenine!</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">Try using iptables.  I went from 2.2.16 to 2.4.3 with no problems, but I never tried using the old ipchains firewall script.<P>------------------<BR>Behold the power of the search feature.<BR>plz, thx, u, and ur make baby Jesus cry.</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">fhm</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">I tried to use the iptables scripts from a couple of sites (www.boingworld.com and one other), but they didn't work to well.<P>I don't suppose you have a good example of an iptables script?<P>regards,<P>dev</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">BlueAdept</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">Hmmm...I thought it was just me. I got a cable modem and upgraded to 7.1 at the same time.<P>When I zone, I almost always crash to the server selection.<P>I thought it had to do with the upgrade to the cablemodem...I didnt think about that it might be 7.1 causing the problem.</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">brian</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">Hmm, I have exactly the same problem. Any of you gurus can give an advice to either fix ipchains or install iptables after ipchains was used?<P>I am a linux newbie and it would very nice if any of you could describe it in a way the install script was written?<P>Thank you!</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">Zeppo</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">I had the same problem.<BR>When installing 7.1, I told the firewall selection screen to use medium security, and I trusted my internal NIC.<BR>The I enabled IPmasquerading in the rc.local file.<BR>I had too many problems with this.<BR>I could to FTP from my windows machines inside the firewall, lag was real bad, and other such problems.<BR>I asked on alt.linux newsgroups about where the firewall was, but no one answered.<BR>Maybe it was too stupid a question.<BR>I am still fairly new to linux, but I can work around in it.<BR>Anyways, I switched back to 7.0 and the old firewall script I had and everything works great again.<P></FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">brian</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">Zeppo thats nice, but I know there are some gurus out there who know what to do  <IMG SRC="http://www.ethernalquest.com/ubb/smile.gif"> I just dont want to dl 7.0 and reinstall. It sucks :/</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">Boner</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">I'm having the same problem using ipchains with RH7.1.<P>For those of you using iptables, try this for me, please: 'iptables -L'  This is supposed to list the current rules.  I get error messages when I do it.</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">WhiteFire</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">I am currently using RedHat 7.0 with the 2.4 kernel and ipchains.  I have never had a problem with it.  I have a friend that I setup SEQ on a laptop and he has a simular problem.  From what I am told there is a setting in the EQclient.ini file for "Data Connection Rate".  From what he tells me is that if you are zonning and have a high latency 9 times out of 10 you will be booted back to the character screen.  What he did is change the setting in the eqclient.ini file from the default of 3 to something like 5.  This is supposed to force your computer and the server to communciate more offen of less of a gap in between each packet that is sent.  <P>I can not confirm if this really works or not, but it fixed my friend from getting booted out all of the time..<P>WhiteFire</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">fhm</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">eqclient.ini?  Do you mean the datarate.txt file?  I have that set at 9.0 for my ADSL connection.  I have no problems zoning, etc using a 2.2.x kernel, only have a problem when using a 2.4.x kernel.<P>We don't appear to be getting help here.  Looks like I might have to learn how to do it myself &lt;sigh&gt;  <IMG SRC="http://www.ethernalquest.com/ubb/biggrin.gif"><P>Regards,<P>dev</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">Zeppo</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">I agree Brian.<BR>Would really like to go back to 7.1.<BR>I may try installing and telling it not to put a firewall in, then I will just put in my old firewall script.<BR>Would be really nice though, if someone knew what to do to fix this.<BR>I guess I will start reading through all those firewall docs and how-to's I have been collecting.<P>Z<BR></FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">BlueAdept</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">Hate to tell you, I installed 7.1 with no firewall and used my old scripts. It is giving me problems zoning. <P>I guess I will have to read up on iptables and convert mine to that format.</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">Boner</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">I converted from ipchains to iptables and my zoning problems went away.  I'll try to offer some tips...<P>First of all, the firewall configuration that runs when you install RH7.1 sets up ipchains NOT iptables so you might as well skip that firewall setup.<P>Second, you can't run ipchains AND iptables at the same time.  Atleast on RH7.1 the startup script for iptables (/etc/init.d/iptables) checks to see if the ipchains module is loaded in the kernel and the script exits quitely without doing anything if it's there.<P>Third, I couldn't get the startup script for iptables to work (/etc/init.d/iptables).  It tries to read from /etc/sysconfig/iptables and pipes it into /sbin/iptables-restore (or is it /usr/sbin/iptables-restore??).  This wasn't working for me so I had to make my own script and find a place to put it so it gets run at startup.  You could also make a script and just run it manually each time you reboot.<P>So, to disable ipchains on RH7.1, run 'setup' from a shell and go into the system startup configuration (or system service configuration--something like that) from the setup menu.  De-select ipchains so it doesn't get run at boot.  You can then either reboot or run 'rmmod ipchains' to remove the module.<P>Then make a script to setup your iptables masquerading.  It can be setup with one line.  This has security holes but it's a good place to start...<P>iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE<P>replace eth0 with whatever your internet interface is.  It might be ppp0 if you're using a modem.<p>[This message has been edited by Boner (edited 05-18-2001).]</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">Zeppo</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">Thanks Boner, will try that.<BR></FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">Halcyon</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">I was having the exact same problem described above with RH 7.1 I was able to fix it by<P>a) disabling ipchains (described in Boner's post)<P>b) Using gShield (http://muse.linuxmafia.org/gshield.html), an iptables based firewall that's very easy to configure/setup.<P>No more zone crashes. :)</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">fhm</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">That worked fine for me also.<P>I will more than likely try my hand at writing a decent firewall script myself anyway, but for now, gShield is doing the job just fine.<P>If/when I get around to writing the script, I shall post it here.<P>Regards,<P>dev</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">stoptheh4x</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">the ipchains script/line i was using was from Whitefyre's original posts and included the IP for the win machine, will this iptable script work for the same setup as the ipchains (ie win machine on crossover ip 192.168.0.2 ) </FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">ihascrabs</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE<P>--<P>I tried using this as a generic iptables script and it works, but i have a stupid question where can i put this so it loads at bootup?<P>-linux newbie</FONT></TD></TR></TABLE>
</FONT>
<SCRIPT LANGUAGE="JavaScript">
<!-- HIDE

var dc = document.cookie;
var testUserName = getCookie("UserName");
var testPassword = getCookie("Password");

if (document.cookie) {

	if (testUserName == null) {  
document.REPLIER.UserName.focus();
	} else {
document.REPLIER.UserName.value = getCookie("UserName");
document.REPLIER.Password.value = getCookie("Password");
document.REPLIER.ReplyMessage.focus();
	}
}  else {
document.REPLIER.UserName.focus();
}
function getCookie(name){
var cname = name + "=";               
var dc = document.cookie;
if (dc.length > 0) {              
    begin = dc.indexOf(cname);
	 if (begin != -1) {           
        begin += cname.length;
		end = dc.indexOf(";", begin);
            if (end == -1) end = dc.length;
            return unescape(dc.substring(begin, end));        }
}
return null;
}

// STOP HIDING FROM OTHER BROWSERS -->
</SCRIPT>
<P><center>
<B><FONT SIZE="2" FACE="Verdana, Arial">
<A HREF="mailto:ashran@ethernalquest.com">Contact Us</A> | <A HREF="http://hackersquest.gomp.ch" target=_top>HackersQuest</A> 
</B></FONT>
<P>
<FONT COLOR="#dedfdf" size="1" FACE="Verdana, Arial">
<P>
		<a href="http://infopop.com"><IMG SRC="http://www.ethernalquest.com/ubb/powered_by2.gif" border=0></a><br>
      Ultimate Bulletin Board Version 5.47
<br><br>
</FONT>
</CENTER></font>
<center>
<IFRAME WIDTH=468 HEIGHT=60 NORESIZE SCROLLING=No FRAMEBORDER=0
MARGINHEIGHT=0 MARGINWIDTH=0 NAME="Werbung"
SRC="http://data.gomp.net/werbung.htm">
 <!-- Werbebanner von Krawall.de -->

 <SCRIPT LANGUAGE="JavaScript"> <!--
_version=10; //--> </script>
<SCRIPT LANGUAGE="JavaScript1.1"> <!--
_version=11;
if (navigator.userAgent.indexOf('Mozilla/3') != -1){
_version=10;} // --> </script>
<SCRIPT LANGUAGE="JavaScript"> <!--
var server = 'oas.krawall.de';
var sitepage = "www.gomp.ch/homepage";
var position ="Top!Top";
if (! (RN)) {
var RN = new String (Math.random());
var RNS = RN.substring (2, 11);
}
var oas='http://' + server + '/RealMedia/ads/';
var oaspage= sitepage + '/1' + RNS + '@' + position;
if (_version < 11) {
  document.write ('<A HREF="' + oas + 'click_nx.ads/'+ oaspage + '"
TARGET="_blank" ><IMG SRC="' + oas + 'adstream_nx.ads/' + oaspage + '"
BORDER="0"  WIDTH="468" HEIGHT="60"  ALT="Hier klicken!" ></a>');
} else {
  document.write ('<SCRIPT LANGUAGE="JavaScript1.1" SRC="' + oas +
'adstream_jx.ads/' + oaspage + '">');
  document.write ('\<\!-- --\>');
  document.write ('\<\/SCRIPT\>');
  document.write ('\<\!-- --\>');
}
// -->
</SCRIPT>

</IFRAME></enter> </p>
</body></html>
