<HTML><HEAD>
<TITLE>
HackersQuest Discussion Board - Edit this post
</TITLE>


</HEAD>
 <BODY bgcolor="#000000"  text="#ffffff" link="#00ff00" alink="#00ff00" vlink="#00ff00" marginheight=0 marginwidth=0 topmargin=0 leftmargin=0 rightmargin=0>

<table border=0 cellpadding=0 border=0 cellspacing=1 width=95% align=center>
<TR><TD>
<A HREF="http://www.hackersquest.org/cgi-bin/Ultimate.cgi?action=intro&BypassCookie=true"><IMG SRC="http://www.hackersquest.org/ubb/../images/hq-title-shock.gif"  BORDER=0></A></td>
<td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial" color="#ffffff">
<B>
Forum: <FONT COLOR="#00ff00">Dark Age of Camelot </FONT>
<BR>
Topic: <FONT COLOR="#00ff00">Automatic Update script..</FONT>
</B>
</FONT>

</td></tr></table>
<center>
<FORM ACTION="http://www.hackersquest.org/cgi-bin/postings.cgi" NAME="REPLIER" METHOD="POST">

<table border=0 cellpadding=4 border=0 cellspacing=1 width=95% align=center>
<tr bgcolor="#000000"><TD COLSPAN=2>
<FONT SIZE="1" FACE="Verdana, Arial" color="#00ff00"><B>Only forum leaders (Innoruuk, Cazic Thule) or the person that posted this message may edit this message (and only registered users may edit/delete posts)<P>Note: Only forum leaders may delete posts.</B></FONT></td></tr>
<TR bgcolor="#1f1f1f"><TD colspan=2><FONT SIZE="1" FACE="Verdana, Arial" COLOR="#ffffff">
<INPUT TYPE="CHECKBOX" NAME="DeletePost" VALUE="yes"><b>Delete?</b>  To delete this post, check this box.<BR></font>
</td></tr>
<tr bgcolor="#1f1f1f"><td>
<FONT SIZE="2" FACE="Verdana, Arial" COLOR="#ffffff"><b>Your UserName:</b></FONT></td>
<td>
<INPUT TYPE="TEXT" NAME="UserName" VALUE="" SIZE=25 MAXLENGTH=25>
</td></tr>
<tr bgcolor="#1f1f1f">
<td>
<FONT SIZE="2" FACE="Verdana, Arial" COLOR="#ffffff"><b>Your Password:</b></FONT></td>
<td><INPUT TYPE="PASSWORD" NAME="Password" VALUE=""  SIZE=13 MAXLENGTH=13>&nbsp;&nbsp;<FONT SIZE="1" FACE="Verdana, Arial"><A HREF="http://www.hackersquest.org/cgi-bin/Ultimate.cgi?action=lostpw">Forget your password?</A></font>
</td></tr>
<TR bgcolor="#1f1f1f"><TD valign=top>
<FONT SIZE="2" FACE="Verdana, Arial" COLOR="#ffffff"><b>Message to Edit:</b></FONT><p>
<FONT SIZE="1" FACE="Verdana, Arial" COLOR="#00ff00">
*HTML is OFF<BR>
*UBB Code is ON<BR>
<p><A HREF="http://www.hackersquest.org/ubb/smilies.html" target=_blank>Smilies Legend</A></font></td>
<td><FONT SIZE="1" FACE="Verdana, Arial" COLOR="#00ff00">Originally posted by fryfrog on 12-23-2001 11:47 AM<BR></FONT>
<TEXTAREA NAME="EditedMessage" ROWS=10 COLS=45 WRAP="VIRTUAL">options:  update, noupdate, clean

man, that was a BITCH to get to post... and i know from the trying to copy the last guys code that it is really hard (becuase it doesn't include any &lt;cr&gt; carrige returns...)

so here is a link to the file from MY home web server:
 [URL=http://fryfrog.dyndns.org:81/odinseye.script]http://fryfrog.dyndns.org:81/odinseye.script[/URL]

i have cleaned up the script a tad (pulled out my debugging stuff).

here is a list of what i think this does a little better than the original script:
1.) you can choose update OR noupdate options (i think the other one only had the "update" option)
2.) if you choose noupdate, it still checks for a new version and gives you a chance to download/compile it
3.) more output is directed to /dev/null, so the user doesn't see it untar'ing, compiling, etc...
4.) a little better if checking in a few places
5.) more verbose output.  it tells you what its doing, and gives you some info about what its doing... and versions of stuffs...
6.) it uses the redhat "action" so things look very nice (ie "Downloading new files:        [ OK ]")
7.) if the file "odinseye" does NOT exist where it is supposed to, the program tells you.  this would really only happen if you ran it for the first time with the "noupdate" option... but it was fun to add :)
**8.) trav from #odinseye suggested i add something to preserve the items.db file, i think i added this.
**9.) there is a new option, "clean" which deletes everything and starts over.  the reason for this is that his script makes a LOT of dirs with stuff in them :)
**10.) clean is now SMART. it ONLY removes the dirs that are NOT needed (ie, it deletes all but OE (and the symlinks target)).  clean also does NOT remove the download dir, as it contains a few semi-needed files.
**11.) it now SETS the QTDIR and THEN unsets it to what you specify at the top of the script (for me, oe uses qt-3.0.1 but seq wants qt-2.3.2)
**12.) items.db preservation IS working :)
**13.) instead of using that crazy ass $$ which is a sortof random number (random when the script starts, fixed during the run of the script) i switched to the date-time.  that way, if you WANT to revert it is a LOT easier to choose what to revert to :)
**14.) lots of comments, just in case you want to read what the heck it does
**15.) i put the original author's name (and mine) at the top :)
**16.) added a "help" option


[This message has been edited by fryfrog (edited 12-23-2001).]</TEXTAREA>
</td></tr>
<tr bgcolor="#1f1f1f"><td>&nbsp;</td>
<td>
<FONT SIZE="1" FACE="Verdana, Arial" COLOR="#ffffff">
<INPUT TYPE="CHECKBOX" NAME="DisableSmilies" VALUE="yes"> <b>Disable Smilies in This Post</b>.
</FONT>
</td></tr>
<tr bgcolor="#000000"><td colspan=2>
<FONT SIZE="1" FACE="Verdana, Arial" color="#00ff00">
*If HTML and/or UBB Code are enabled, this means you can use HTML and/or UBB Code in your message. 
</font>
</td></tr>
</table>

<p>
<INPUT TYPE="HIDDEN" NAME="action" VALUE="submitedit">
<INPUT TYPE="HIDDEN" NAME="TopicSubject" VALUE="Automatic Update script..">
<INPUT TYPE="HIDDEN" NAME="forum" VALUE="Dark Age of Camelot">
<INPUT TYPE="HIDDEN" NAME="ReplyNum" VALUE="000003">
<INPUT TYPE="HIDDEN" NAME="number" VALUE="11">
<INPUT TYPE="HIDDEN" NAME="topic" VALUE="000070.cgi">

 <FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">

</font>
<p>
<INPUT TYPE="Submit" NAME="SUBMIT" VALUE="Submit Now">

<INPUT TYPE="RESET" NAME="RESET" VALUE="Clear Fields">
</form>
<P>
<SCRIPT LANGUAGE="JavaScript">
<!-- HIDE
var dc = document.cookie;
var testUserName = getCookie("UserName");
var testPassword = getCookie("Password");

if (document.cookie) {

	if (testUserName == null) {  
document.REPLIER.UserName.focus();
	} else {
	document.REPLIER.UserName.value = getCookie("UserName");
document.REPLIER.Password.value = getCookie("Password");
document.REPLIER.EditedMessage.focus();
	}
}  else {
document.REPLIER.UserName.focus();
}

function getCookie(name){
var cname = name + "=";               
var dc = document.cookie;
if (dc.length > 0) {              
    begin = dc.indexOf(cname);
	 if (begin != -1) {           
        begin += cname.length;
		end = dc.indexOf(";", begin);
            if (end == -1) end = dc.length;
            return unescape(dc.substring(begin, end));        }
}
return null;
}

// STOP HIDING FROM OTHER BROWSERS -->
</SCRIPT>

<P>
<B><FONT SIZE="2" FACE="Verdana, Arial">
<A HREF="mailto:ashran@hackersquest.org">Contact Us</A> | <A HREF="http://www.hackersquest.org" target=_top>HackersQuest</A> 
</B></FONT>
<P>
<FONT COLOR="#dedfdf" size="1" FACE="Verdana, Arial">
<P>
		<a href="http://infopop.com"><IMG SRC="http://www.hackersquest.org/ubb/powered_by2.gif" border=0></a><br>
      Ultimate Bulletin Board Version 5.47
<br><br>
</FONT>
</CENTER></font>
 </p>
</body></html>
