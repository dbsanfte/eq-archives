<HTML><HEAD><TITLE>HackersQuest Discussion Board - Reply to Topic</TITLE>


</HEAD>
 <BODY bgcolor="#000000"  text="#ffffff" link="#00ff00" alink="#00ff00" vlink="#00ff00" marginheight=0 marginwidth=0 topmargin=0 leftmargin=0 rightmargin=0>
<FONT SIZE="2" FACE="Verdana, Arial">

</font>
<table border=0 width=95% align=center>
<TR><TD>
<A HREF="http://www.ethernalquest.com/cgi-bin/Ultimate.cgi?action=intro&BypassCookie=true"><IMG SRC="http://www.ethernalquest.com/ubb/../images/hq-title-shock.gif"  BORDER=0></A></td>
<td align=center>
<table border=0>
<TR><TD><FONT Face="Verdana, Arial" size="2"><B>Forum:</B></font></td><TD><FONT Face="Verdana, Arial" size="2">ShowEQ</FONT></td></tr>
<TR><TD><FONT Face="Verdana, Arial" size="2"><B>Topic:</B></font></td><TD><FONT Face="Verdana, Arial" size="2">Masq problems.....</FONT></td></tr></table>
</td></tr>
<tr><td colspan=2><FONT SIZE="1" FACE="Verdana, Arial"><A HREF="http://www.ethernalquest.com/cgi-bin/Ultimate.cgi?action=agree">Want to register?</a></FONT>
</td></tr>
</table>
<FORM ACTION="http://www.ethernalquest.com/cgi-bin/postings.cgi" NAME="REPLIER" METHOD="POST">
<center>

<table border=0 cellpadding=4 cellspacing=1 width=95%>
<tr bgcolor="#000000">
<td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
Who Can Post?
</font>
</td>
<td valign=top><FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
Any registered users may post a reply.
</font>
</td></tr>

<tr bgcolor="#000000">
<td valign=top><FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
About Registration
</font></td><td valign=top><FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
You must be registered in order to post a topic or reply in this forum.</font></td></tr>
<tr bgcolor="#1f1f1f"><td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial"><B>Your UserName:</B></FONT></td>
<td valign=top>
<INPUT TYPE="TEXT" NAME="UserName" VALUE="" SIZE=25 MAXLENGTH=25>
</td>
</tr>


<tr bgcolor="#1f1f1f">
<td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial"><B>Your Password:</B></FONT></td>
<td valign=top><INPUT TYPE="PASSWORD" NAME="Password" VALUE="" SIZE=13 MAXLENGTH=13>&nbsp;&nbsp;<FONT SIZE="1" FACE="Verdana, Arial"><A HREF="http://www.ethernalquest.com/cgi-bin/Ultimate.cgi?action=lostpw">Forget your password?</A></font></td></tr>

<tr bgcolor="#1f1f1f">
<td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial"><B>Message Icon:</B></FONT></td>
<td><INPUT type="radio" name="MsgIcon" value="1" CHECKED>&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon1.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="10"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon10.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="11"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon11.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="12"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon12.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="13"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon13.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="14"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon14.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="2"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon2.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<BR><INPUT type="radio" name="MsgIcon" value="3"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon3.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="4"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon4.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="5"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon5.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="6"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon6.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="7"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon7.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="8"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon8.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT type="radio" name="MsgIcon" value="9"  >&nbsp;&nbsp;<IMG SRC="http://www.ethernalquest.com/ubb/icons/icon9.gif" HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER>&nbsp;&nbsp;&nbsp;&nbsp;<BR></td></tr>
<TR bgcolor="#1f1f1f"><TD valign=top>
<FONT SIZE="2" FACE="Verdana, Arial"><B>Your Reply:</B></FONT>
<p><BR>
<FONT SIZE="1" FACE="Verdana, Arial" COLOR="#00ff00">
*HTML is OFF<BR>
<A HREF="http://www.ethernalquest.com/ubb/ubbcode.html" target=_blank>*UBB Code is OFF</A><BR>
<p><A HREF="http://www.ethernalquest.com/ubb/smilies.html" target=_blank>Smilies Legend</A></font>
</td>
<td>
<TEXTAREA NAME="ReplyMessage" ROWS=10 COLS=45 WRAP="VIRTUAL"></TEXTAREA>
</td></tr>
<TR bgcolor="#1f1f1f">
<td valign=top>
<FONT SIZE="2" FACE="Verdana, Arial">
<B>Options</B>
</FONT></td>
<td valign=top><FONT SIZE="1" FACE="Verdana, Arial">
<INPUT TYPE="CHECKBOX" NAME="DisableSmilies" VALUE="yes"> <b>Disable Smilies in This Post</b>. <BR><INPUT TYPE="CHECKBOX" NAME="Signature" VALUE="yes"> <B>Show Signature:</B> include your profile  signature.  Only registered users may have signatures.
</font>
</td>
</tr>
<tr bgcolor="#000000"><td colspan=2>
<FONT SIZE="1" FACE="Verdana, Arial" COLOR="#00ff00">*If HTML and/or UBB Code are enabled, this means you can use HTML and/or UBB Code in your message.</FONT>
</td></tr>
</table>

</center>
<P>
<INPUT TYPE="HIDDEN" NAME="action" VALUE="postreply">
<INPUT TYPE="HIDDEN" NAME="TopicSubject" VALUE="Masq problems.....">
<INPUT TYPE="HIDDEN" NAME="forum" VALUE="ShowEQ">
<INPUT TYPE="HIDDEN" NAME="number" VALUE="3">
<INPUT TYPE="HIDDEN" NAME="topic" VALUE="001248.cgi">
<CENTER>
<p>
<INPUT TYPE="Submit" NAME="SUBMIT" VALUE="Submit Reply">

<INPUT TYPE="RESET" NAME="RESET" VALUE="Clear Fields">
</form>
<FONT SIZE="2" FACE="Verdana, Arial" COLOR="#00ff00">
<P>
If you have previously registered, but forgotten your password, <A HREF="http://www.ethernalquest.com/cgi-bin/Ultimate.cgi?action=lostpw">click here</A>.
</font>

<P><FONT SIZE="2" FACE="Verdana, Arial">
<TABLE BORDER=0 cellpadding=4 border=0 cellspacing=1 WIDTH="95%"><TR bgcolor="#000000"><TD COLSPAN=2><CENTER><FONT SIZE="2" COLOR="#00ff00" FACE="Verdana, Arial">T O P I C  &nbsp;&nbsp;&nbsp; R E V I E W</font></CENTER></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">Wits End</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">Anyone know of a sure fire way to set up IP masquerading on a Linux redhat 6.1 ver.?<BR>I currently have DHCP up and running, read a billion and 3 HOW-to's and still no luck as of yet.<BR>I am on a dial up, no cable where I am so I have to get it up in order to pass the packets through my Linux box.<BR>Any help would be greatly appreciated...<P>Wits End</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">WhiteFire</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">You set it up the same way you would running Redhat 6.2 or 7.  All DHCP is going to do is assign your Windows PC an IP address.  You still have to turn IP forwarding on in the linux system and set your IPCHAIN rules.  Before I go into long details of how to do it, can you connect to the internet with the linux box and if so what is the device name (i.e. ppp0 or slip0).<P>WhiteFire</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">EQ_Junkie</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">Not the original author but I could use the same info.  I am not using DHCP though.  I just set the Gateway of my WIN machine to the IP of my linux box and it has always worked fine for me.  I used some setting for IP Forwarding I found on the net to forward everything though and Im sure they could be better.<P>Settings I use:<P>PPP0<BR>Linux box (box that dials out):192.168.0.2<BR>Win Box:                       192.168.0.1<P>Thx for any help,<P>Junkie</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">Xmortis</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">I agree.. i'd suggest not using DHCP.  It may work.. i just found it simpler to assign static ip's and let it go from there.<P>This is my setup, but doesn't matter what numbers you use:<BR>192.168.0.1 Linux Box<BR>192.168.0.10 Win98 Box<P>Set default gateway of Win98 box to Linux box ip address. Ensure that the subnet mask is identical (e.g. 255.255.255.0).  Also put the DNS server addresses for your ISP into the DNS section of your Win98 box.<P>Next, make sure Masq/IPChains is setup properly.  IP forwarding needs to be enabled on the Linux box, and IPChains needs to be set up to pass packets on to the box being Masq'ed (windows machine).<P>Let me know if you need specifics, I dont have the machine here so I can't post what I have in my ipchains script..i dont remember all that hooplah by heart  <IMG SRC="http://www.ethernalquest.org/ubb/smile.gif"><P>X</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">psymin</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">The way that I set up masq (without really taking the time or effort to figure out what I was doing) is as follows:<P>I was using the 2.2.16 kerenel (2.4.x kernels do NOT support ipchains as far as I could tell.  Also, PPP didn't work on 2.4.1 .. but that is off topic.)<P>I created a shell script .. called foobar.sh with the following info.  I got the following from a previous post by .. someone?<P>#!/bin/sh<BR>/sbin/depmod -a<BR>echo "1" &gt; /proc/sys/net/ipv4/ip_forward<BR>echo "1" &gt; /proc/sys/net/ipv4/ip_dynaddr<BR>/sbin/ipchains -M -S 7200 10 160<BR>/sbin/ipchains -P forward DENY<BR>/sbin/ipchains -A forward -s 192.168.0.0/24 -j MASQ<P><BR>After booting with 2.2.16 (which was installed from RPM) I ifup'd the appropriate interfaces .. and ran foobar.sh ..<P>Maybe this will help you?<P>psymin<P>(ack .. I forgot lines in the script.  Fixed now.)<P>(Info on iptables for 2.4.x kernel posted to slashdot.  Below is its URL) <A HREF="http://www.linuxsecurity.com/feature_stories/kernel-netfilter.html" TARGET=_blank>http://www.linuxsecurity.com/feature_stories/kernel-netfilter.html</A> <P>[This message has been edited by psymin (edited 02-05-2001).]<p>[This message has been edited by psymin (edited 02-16-2001).]</FONT></TD></TR><TR bgcolor="#1f1f1f"><TD valign=top><FONT SIZE="2" FACE="Verdana, Arial">casey</FONT></TD><TD><FONT SIZE="2" FACE="Verdana, Arial">i use dhcpd to assign static addresses (and a dynamic pool for visitors). <BR>if anyone is unfamiliar with static addresses in dhcp, the following block in /etc/dhcpd.conf takes care of it, just add it after the main subnet block.<P>host caseybox.meathouse.trifocus.net {<BR>   fixed-address 192.168.1.192;<BR>   hardware ethernet 00:A0:C9:5F:C8:48;<BR>   option host-name "caseybox";<BR>}<P>the option-routers and name-servers default to the ones in the subnet block, but can be overridden per host.<P>Its easier to maintain windows boxes ip's via dhcp.  doesnt require a reboot to aquire new dns/ip/netmask via dhcp, but does if you configure static addresses directly on the win box.<P>192.168.1.99-105 are linux boxes<BR>192.168.1.192-200 are windows boxes<BR>192.188.1.128-191 is the dynamic pool<P>i run NAT on the linux box with the cable connection by turning on ip forwarding<BR>(ip_forward=yes in /etc/network/option (debian))<P>and i bring up NAT with<P>iptables -A POSTROUTING -t nat -j SNAT --to-source cable.ip.address<P>iptables is the ipchains replacement for 2.4<P>you can still use ipchains in 2.4 if you really want but it requires you to turn on an option in the kernel and recompile.  iptables is better  <IMG SRC="http://www.ethernalquest.org/ubb/smile.gif"></FONT></TD></TR></TABLE>
</FONT>
<SCRIPT LANGUAGE="JavaScript">
<!-- HIDE

var dc = document.cookie;
var testUserName = getCookie("UserName");
var testPassword = getCookie("Password");

if (document.cookie) {

	if (testUserName == null) {  
document.REPLIER.UserName.focus();
	} else {
document.REPLIER.UserName.value = getCookie("UserName");
document.REPLIER.Password.value = getCookie("Password");
document.REPLIER.ReplyMessage.focus();
	}
}  else {
document.REPLIER.UserName.focus();
}
function getCookie(name){
var cname = name + "=";               
var dc = document.cookie;
if (dc.length > 0) {              
    begin = dc.indexOf(cname);
	 if (begin != -1) {           
        begin += cname.length;
		end = dc.indexOf(";", begin);
            if (end == -1) end = dc.length;
            return unescape(dc.substring(begin, end));        }
}
return null;
}

// STOP HIDING FROM OTHER BROWSERS -->
</SCRIPT>
<P><center>
<B><FONT SIZE="2" FACE="Verdana, Arial">
<A HREF="mailto:ashran@ethernalquest.com">Contact Us</A> | <A HREF="http://hackersquest.gomp.ch" target=_top>HackersQuest</A> 
</B></FONT>
<P>
<FONT COLOR="#dedfdf" size="1" FACE="Verdana, Arial">
<P>
		<a href="http://infopop.com"><IMG SRC="http://www.ethernalquest.com/ubb/powered_by2.gif" border=0></a><br>
      Ultimate Bulletin Board Version 5.47
<br><br>
</FONT>
</CENTER></font>
<center>
<IFRAME WIDTH=468 HEIGHT=60 NORESIZE SCROLLING=No FRAMEBORDER=0
MARGINHEIGHT=0 MARGINWIDTH=0 NAME="Werbung"
SRC="http://data.gomp.net/werbung.htm">
 <!-- Werbebanner von Krawall.de -->

 <SCRIPT LANGUAGE="JavaScript"> <!--
_version=10; //--> </script>
<SCRIPT LANGUAGE="JavaScript1.1"> <!--
_version=11;
if (navigator.userAgent.indexOf('Mozilla/3') != -1){
_version=10;} // --> </script>
<SCRIPT LANGUAGE="JavaScript"> <!--
var server = 'oas.krawall.de';
var sitepage = "www.gomp.ch/homepage";
var position ="Top!Top";
if (! (RN)) {
var RN = new String (Math.random());
var RNS = RN.substring (2, 11);
}
var oas='http://' + server + '/RealMedia/ads/';
var oaspage= sitepage + '/1' + RNS + '@' + position;
if (_version < 11) {
  document.write ('<A HREF="' + oas + 'click_nx.ads/'+ oaspage + '"
TARGET="_blank" ><IMG SRC="' + oas + 'adstream_nx.ads/' + oaspage + '"
BORDER="0"  WIDTH="468" HEIGHT="60"  ALT="Hier klicken!" ></a>');
} else {
  document.write ('<SCRIPT LANGUAGE="JavaScript1.1" SRC="' + oas +
'adstream_jx.ads/' + oaspage + '">');
  document.write ('\<\!-- --\>');
  document.write ('\<\/SCRIPT\>');
  document.write ('\<\!-- --\>');
}
// -->
</SCRIPT>

</IFRAME></enter> </p>
</body></html>
