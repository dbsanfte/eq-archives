<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="top" href="./index.php?sid=f5542554a96c4f88b863ad79f74e69b1" title="HackersQuest.org Forum Index" />
<link rel="search" href="./search.php?sid=f5542554a96c4f88b863ad79f74e69b1" title="Search" />
<link rel="help" href="./faq.php?sid=f5542554a96c4f88b863ad79f74e69b1" title="FAQ" />
<link rel="author" href="./memberlist.php?sid=f5542554a96c4f88b863ad79f74e69b1" title="Memberlist" />
<link rel="prev" href="viewtopic.php?t=5718&amp;view=previous&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="View previous topic" />
<link rel="next" href="viewtopic.php?t=5718&amp;view=next&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="View next topic" />
<link rel="up" href="viewforum.php?f=7&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="AnarchyOnline::General" />
<link rel="chapter forum" href="viewforum.php?f=1&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="HackersQuest::General" />
<link rel="chapter forum" href="viewforum.php?f=13&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="HackersQuest.Wizardry" />
<link rel="chapter forum" href="viewforum.php?f=15&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="HackersQuest::MentallyChallenged" />
<link rel="chapter forum" href="viewforum.php?f=16&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="EverQuest II:General" />
<link rel="chapter forum" href="viewforum.php?f=17&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="EverQuest II:Tips and Tricks" />
<link rel="chapter forum" href="viewforum.php?f=4&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="EverQuest::General" />
<link rel="chapter forum" href="viewforum.php?f=2&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="EverQuest::ShowEQ" />
<link rel="chapter forum" href="viewforum.php?f=3&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="EverQuest::Emulator" />
<link rel="chapter forum" href="viewforum.php?f=12&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="EverQuest::EQWindows" />
<link rel="chapter forum" href="viewforum.php?f=14&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="EverQuest::Collector" />
<link rel="chapter forum" href="viewforum.php?f=7&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="AnarchyOnline::General" />
<link rel="chapter forum" href="viewforum.php?f=6&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="DAOC::General" />
<link rel="chapter forum" href="viewforum.php?f=5&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="DAOC::Odin's Eye" />
<link rel="chapter forum" href="viewforum.php?f=9&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="DAOC::DAOCUnleashed" />
<link rel="chapter forum" href="viewforum.php?f=8&amp;sid=f5542554a96c4f88b863ad79f74e69b1" title="Other::General" />

<title>HackersQuest.org :: View topic - FULLY Update your IGN bot for AI Levels!</title>
<!-- link rel="stylesheet" href="templates/subSilver/subSilver.css" type="text/css" -->
<style type="text/css">
<!--
/*
  The original subSilver Theme for phpBB version 2+
  Created by subBlue design
  http://www.subBlue.com

  NOTE: These CSS definitions are stored within the main page body so that you can use the phpBB2
  theme administration centre. When you have finalised your style you could cut the final CSS code
  and place it in an external file, deleting this section to save bandwidth.
*/

/* General page style. The scroll bar colours only visible in IE5.5+ */
body {
	background-color: #E5E5E5;
	scrollbar-face-color: #DEE3E7;
	scrollbar-highlight-color: #FFFFFF;
	scrollbar-shadow-color: #DEE3E7;
	scrollbar-3dlight-color: #D1D7DC;
	scrollbar-arrow-color:  #006699;
	scrollbar-track-color: #EFEFEF;
	scrollbar-darkshadow-color: #98AAB1;
}

/* General font families for common tags */
font,th,td,p { font-family: Verdana, Arial, Helvetica, sans-serif }
a:link,a:active,a:visited { color : #006699; }
a:hover		{ text-decoration: underline; color : #DD6900; }
hr	{ height: 0px; border: solid #D1D7DC 0px; border-top-width: 1px;}

/* This is the border line & background colour round the entire page */
.bodyline	{ background-color: #FFFFFF; border: 1px #98AAB1 solid; }

/* This is the outline round the main forum tables */
.forumline	{ background-color: #FFFFFF; border: 2px #006699 solid; }

/* Main table cell colours and backgrounds */
td.row1	{ background-color: #EFEFEF; }
td.row2	{ background-color: #DEE3E7; }
td.row3	{ background-color: #D1D7DC; }

/*
  This is for the table cell above the Topics, Post & Last posts on the index.php page
  By default this is the fading out gradiated silver background.
  However, you could replace this with a bitmap specific for each forum
*/
td.rowpic {
		background-color: #FFFFFF;
		background-image: url(templates/subSilver/images/cellpic2.jpg);
		background-repeat: repeat-y;
}

/* Header cells - the blue and silver gradient backgrounds */
th	{
	color: #FFA34F; font-size: 11px; font-weight : bold;
	background-color: #006699; height: 25px;
	background-image: url(templates/subSilver/images/cellpic3.gif);
}

td.cat,td.catHead,td.catSides,td.catLeft,td.catRight,td.catBottom {
			background-image: url(templates/subSilver/images/cellpic1.gif);
			background-color:#D1D7DC; border: #FFFFFF; border-style: solid; height: 28px;
}

/*
  Setting additional nice inner borders for the main table cells.
  The names indicate which sides the border will be on.
  Don't worry if you don't understand this, just ignore it :-)
*/
td.cat,td.catHead,td.catBottom {
	height: 29px;
	border-width: 0px 0px 0px 0px;
}
th.thHead,th.thSides,th.thTop,th.thLeft,th.thRight,th.thBottom,th.thCornerL,th.thCornerR {
	font-weight: bold; border: #FFFFFF; border-style: solid; height: 28px;
}
td.row3Right,td.spaceRow {
	background-color: #D1D7DC; border: #FFFFFF; border-style: solid;
}

th.thHead,td.catHead { font-size: 12px; border-width: 1px 1px 0px 1px; }
th.thSides,td.catSides,td.spaceRow	 { border-width: 0px 1px 0px 1px; }
th.thRight,td.catRight,td.row3Right	 { border-width: 0px 1px 0px 0px; }
th.thLeft,td.catLeft	  { border-width: 0px 0px 0px 1px; }
th.thBottom,td.catBottom  { border-width: 0px 1px 1px 1px; }
th.thTop	 { border-width: 1px 0px 0px 0px; }
th.thCornerL { border-width: 1px 0px 0px 1px; }
th.thCornerR { border-width: 1px 1px 0px 0px; }

/* The largest text used in the index page title and toptic title etc. */
.maintitle	{
	font-weight: bold; font-size: 22px; font-family: "Trebuchet MS",Verdana, Arial, Helvetica, sans-serif;
	text-decoration: none; line-height : 120%; color : #000000;
}

/* General text */
.gen { font-size : 12px; }
.genmed { font-size : 11px; }
.gensmall { font-size : 10px; }
.gen,.genmed,.gensmall { color : #000000; }
a.gen,a.genmed,a.gensmall { color: #006699; text-decoration: none; }
a.gen:hover,a.genmed:hover,a.gensmall:hover	{ color: #DD6900; text-decoration: underline; }

/* The register, login, search etc links at the top of the page */
.mainmenu		{ font-size : 11px; color : #000000 }
a.mainmenu		{ text-decoration: none; color : #006699;  }
a.mainmenu:hover{ text-decoration: underline; color : #DD6900; }

/* Forum category titles */
.cattitle		{ font-weight: bold; font-size: 12px ; letter-spacing: 1px; color : #006699}
a.cattitle		{ text-decoration: none; color : #006699; }
a.cattitle:hover{ text-decoration: underline; }

/* Forum title: Text and link to the forums used in: index.php */
.forumlink		{ font-weight: bold; font-size: 12px; color : #006699; }
a.forumlink 	{ text-decoration: none; color : #006699; }
a.forumlink:hover{ text-decoration: underline; color : #DD6900; }

/* Used for the navigation text, (Page 1,2,3 etc) and the navigation bar when in a forum */
.nav			{ font-weight: bold; font-size: 11px; color : #000000;}
a.nav			{ text-decoration: none; color : #006699; }
a.nav:hover		{ text-decoration: underline; }

/* titles for the topics: could specify viewed link colour too */
.topictitle,h1,h2	{ font-weight: bold; font-size: 11px; color : #000000; }
a.topictitle:link   { text-decoration: none; color : #006699; }
a.topictitle:visited { text-decoration: none; color : #5493B4; }
a.topictitle:hover	{ text-decoration: underline; color : #DD6900; }

/* Name of poster in viewmsg.php and viewtopic.php and other places */
.name			{ font-size : 11px; color : #000000;}

/* Location, number of posts, post date etc */
.postdetails		{ font-size : 10px; color : #000000; }

/* The content of the posts (body of text) */
.postbody { font-size : 12px; line-height: 18px}
a.postlink:link	{ text-decoration: none; color : #006699 }
a.postlink:visited { text-decoration: none; color : #5493B4; }
a.postlink:hover { text-decoration: underline; color : #DD6900}

/* Quote & Code blocks */
.code {
	font-family: Courier, 'Courier New', sans-serif; font-size: 11px; color: #006600;
	background-color: #FAFAFA; border: #D1D7DC; border-style: solid;
	border-left-width: 1px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px
}

.quote {
	font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 11px; color: #444444; line-height: 125%;
	background-color: #FAFAFA; border: #D1D7DC; border-style: solid;
	border-left-width: 1px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px
}

/* Copyright and bottom info */
.copyright		{ font-size: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; color: #444444; letter-spacing: -1px;}
a.copyright		{ color: #444444; text-decoration: none;}
a.copyright:hover { color: #000000; text-decoration: underline;}

/* Form elements */
input,textarea, select {
	color : #000000;
	font: normal 11px Verdana, Arial, Helvetica, sans-serif;
	border-color : #000000;
}

/* The text input fields background colour */
input.post, textarea.post, select {
	background-color : #FFFFFF;
}

input { text-indent : 2px; }

/* The buttons used for bbCode styling in message post */
input.button {
	background-color : #EFEFEF;
	color : #000000;
	font-size: 11px; font-family: Verdana, Arial, Helvetica, sans-serif;
}

/* The main submit button option */
input.mainoption {
	background-color : #FAFAFA;
	font-weight : bold;
}

/* None-bold submit button */
input.liteoption {
	background-color : #FAFAFA;
	font-weight : normal;
}

/* This is the line in the posting page which shows the rollover
  help line. This is actually a text box, but if set to be the same
  colour as the background no one will know ;)
*/
.helpline { background-color: #DEE3E7; border-style: none; }

/* Import the fancy styles for IE only (NS4.x doesn't use the @import function) */
@import url("templates/subSilver/formIE.css");
-->
</style>
</head>
<body bgcolor="#E5E5E5" text="#000000" link="#006699" vlink="#5493B4">

<a name="top"></a>

<table width="100%" cellspacing="0" cellpadding="10" border="0" align="center">
	<tr>
		<td class="bodyline"><table width="100%" cellspacing="0" cellpadding="0" border="0">
			<tr>
				<td><a href="index.php?sid=f5542554a96c4f88b863ad79f74e69b1"><img src="templates/subSilver/images/logo_phpBB.gif" border="0" alt="HackersQuest.org Forum Index" vspace="1" /></a></td>
				<td align="center" width="100%" valign="middle"><span class="maintitle">HackersQuest.org</span><br /><span class="gen">Discussions for HackersQuest<br />&nbsp; </span>
				<table cellspacing="0" cellpadding="2" border="0">
					<tr>
						<td align="center" valign="top" nowrap="nowrap"><span class="mainmenu">&nbsp;<a href="faq.php?sid=f5542554a96c4f88b863ad79f74e69b1" class="mainmenu"><img src="templates/subSilver/images/icon_mini_faq.gif" width="12" height="13" border="0" alt="FAQ" hspace="3" />FAQ</a></span><span class="mainmenu">&nbsp; &nbsp;<a href="search.php?sid=f5542554a96c4f88b863ad79f74e69b1" class="mainmenu"><img src="templates/subSilver/images/icon_mini_search.gif" width="12" height="13" border="0" alt="Search" hspace="3" />Search</a>&nbsp; &nbsp;<a href="memberlist.php?sid=f5542554a96c4f88b863ad79f74e69b1" class="mainmenu"><img src="templates/subSilver/images/icon_mini_members.gif" width="12" height="13" border="0" alt="Memberlist" hspace="3" />Memberlist</a>&nbsp; &nbsp;<a href="groupcp.php?sid=f5542554a96c4f88b863ad79f74e69b1" class="mainmenu"><img src="templates/subSilver/images/icon_mini_groups.gif" width="12" height="13" border="0" alt="Usergroups" hspace="3" />Usergroups</a>&nbsp;
						&nbsp;<a href="profile.php?mode=register&amp;sid=f5542554a96c4f88b863ad79f74e69b1" class="mainmenu"><img src="templates/subSilver/images/icon_mini_register.gif" width="12" height="13" border="0" alt="Register" hspace="3" />Register</a></span>&nbsp;
						</td>
					</tr>
					<tr>
						<td height="25" align="center" valign="top" nowrap="nowrap"><span class="mainmenu">&nbsp;<a href="profile.php?mode=editprofile&amp;sid=f5542554a96c4f88b863ad79f74e69b1" class="mainmenu"><img src="templates/subSilver/images/icon_mini_profile.gif" width="12" height="13" border="0" alt="Profile" hspace="3" />Profile</a>&nbsp; &nbsp;<a href="privmsg.php?folder=inbox&amp;sid=f5542554a96c4f88b863ad79f74e69b1" class="mainmenu"><img src="templates/subSilver/images/icon_mini_message.gif" width="12" height="13" border="0" alt="Log in to check your private messages" hspace="3" />Log in to check your private messages</a>&nbsp; &nbsp;<a href="login.php?sid=f5542554a96c4f88b863ad79f74e69b1" class="mainmenu"><img src="templates/subSilver/images/icon_mini_login.gif" width="12" height="13" border="0" alt="Log in" hspace="3" />Log in</a>&nbsp;</span></td>
					</tr>
				</table></td>
			</tr>
		</table>

		<br />


<table width="100%" cellspacing="2" cellpadding="2" border="0">
  <tr>
	<td align="left" valign="bottom" colspan="2"><a class="maintitle" href="viewtopic.php?t=5718&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=&amp;sid=f5542554a96c4f88b863ad79f74e69b1">FULLY Update your IGN bot for AI Levels!</a><br />
	  <span class="gensmall"><b></b><br />
	  &nbsp; </span></td>
  </tr>
</table>

<table width="100%" cellspacing="2" cellpadding="2" border="0">
  <tr>
	<td align="left" valign="bottom" nowrap="nowrap"><span class="nav"><a href="posting.php?mode=newtopic&amp;f=7&amp;sid=f5542554a96c4f88b863ad79f74e69b1"><img src="templates/subSilver/images/lang_english/post.gif" border="0" alt="Post new topic" align="middle" /></a>&nbsp;&nbsp;&nbsp;<a href="posting.php?mode=reply&amp;t=5718&amp;sid=f5542554a96c4f88b863ad79f74e69b1"><img src="templates/subSilver/images/lang_english/reply.gif" border="0" alt="Reply to topic" align="middle" /></a></span></td>
	<td align="left" valign="middle" width="100%"><span class="nav">&nbsp;&nbsp;&nbsp;<a href="index.php?sid=f5542554a96c4f88b863ad79f74e69b1" class="nav">HackersQuest.org Forum Index</a>
	  -> <a href="viewforum.php?f=7&amp;sid=f5542554a96c4f88b863ad79f74e69b1" class="nav">AnarchyOnline::General</a></span></td>
  </tr>
</table>

<table class="forumline" width="100%" cellspacing="1" cellpadding="3" border="0">
	<tr align="right">
		<td class="catHead" colspan="2" height="28"><span class="nav"><a href="viewtopic.php?t=5718&amp;view=previous&amp;sid=f5542554a96c4f88b863ad79f74e69b1" class="nav">View previous topic</a> :: <a href="viewtopic.php?t=5718&amp;view=next&amp;sid=f5542554a96c4f88b863ad79f74e69b1" class="nav">View next topic</a> &nbsp;</span></td>
	</tr>
	
	<tr>
		<th class="thLeft" width="150" height="26" nowrap="nowrap">Author</th>
		<th class="thRight" nowrap="nowrap">Message</th>
	</tr>
	<tr>
		<td width="150" align="left" valign="top" class="row1"><span class="name"><a name="36700"></a><b>Krause</b></span><br /><span class="postdetails">Lamer<br /><br /><br />Joined: 13 Nov 2004<br />Posts: 20<br />Location: NY</span><br /></td>
		<td class="row1" width="100%" height="28" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="100%"><a href="viewtopic.php?p=36700&amp;sid=f5542554a96c4f88b863ad79f74e69b1#36700"><img src="templates/subSilver/images/icon_minipost.gif" width="12" height="9" alt="Post" title="Post" border="0" /></a><span class="postdetails">Posted: Wed Feb 02, 2005 6:36 pm<span class="gen">&nbsp;</span>&nbsp; &nbsp;Post subject: FULLY Update your IGN bot for AI Levels!</span></td>
				<td valign="top" nowrap="nowrap"><a href="posting.php?mode=quote&amp;p=36700&amp;sid=f5542554a96c4f88b863ad79f74e69b1"><img src="templates/subSilver/images/lang_english/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" /></a>   </td>
			</tr>
			<tr>
				<td colspan="2"><hr /></td>
			</tr>
			<tr>
				<td colspan="2"><span class="postbody">Let me start off with saying i have no idea what im doing ;P I dont know how to code and there is more then likley some errors, feel free to point them out (with a fix as i prob wont be able to troubleshoot any messups i did <img src="images/smiles/icon_razz.gif" alt="Razz" border="0" />)
<br />

<br />
This is for IGN v184, if you run and want to continue running an older IGN version, then you can go by the line numbers i gave below, you have to find the area manually and go from there (searching for one of the main comment lines is prob your best bet for doing this fast)
<br />

<br />
This first part that edits the whois function of IGN was done by Slackin at <a href="http://www.hackersquest.org/phpBB2/viewtopic.php?t=5610&amp;highlight=ai+lvl" target="_blank">http://www.hackersquest.org/phpBB2/viewtopic.php?t=5610&amp;highlight=ai+lvl</a>
<br />

<br />
I just slitly moddified the output to what i thought looked a bit better, feel free to use his one on that link if you dont like it <img src="images/smiles/icon_razz.gif" alt="Razz" border="0" />
<br />

<br />
Line 796 to 866 with:
<br />

<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center"><tr> 	  <td><span class="genmed"><b>Code:</b></span></td>	</tr>	<tr>	  <td class="code">&nbsp; &nbsp;&nbsp; &nbsp;///2/// advanced secure PHPV433 IGN method whois
<br />
&nbsp; &nbsp;&nbsp; &nbsp;function whois&#40;$data, $lookup, $zone = 5&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;global $orgname;$lookup=str_replace&#40;&quot;&#40;$&#41;&quot;,&quot;&quot;,$lookup&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $sender,$whoiser;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $rank;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $level2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $prof;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $orgid;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $ppic;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $fname;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $lname;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $fact;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $pbreed;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $sex;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $drankid;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;empty&#40;$zone&#41; || !is_numeric&#40;$zone&#41; || $zone&lt;1 || $zone&gt;3&#41;&#123;global $rk_num; $zone=$rk_num;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $whois;global $netload,$cachetime; $netload = &quot;&quot;; $whois=1;$whoisdata=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;///checks and loads from cache.
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$cachefile='whoiscache/'.strtolower&#40;$lookup&#41;.'.'.$zone.'.xml';
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;file_exists&#40;$cachefile&#41;&#41;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$file=@stat&#40;$cachefile&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;&#40;time&#40;&#41;-$file&#91;9&#93;&#41;&lt;&#40;3600*strval&#40;$cachetime&#41;&#41;&#41;&#123;$whoisdata=1;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else&#123;@unlink&#40;$cachefile&#41;;&#125;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$whoisdata==1&#41;&#123;$results=@fileget &#40;$cachefile&#41;;$whoisdata=2;if&#40;$whoiser!=&quot;&quot;&#41;&#123;console&#40;&quot;&#91;SYSTEM&#93; &quot;.$whoiser.&quot;Getting data for &quot;.ucfirst&#40;$lookup&#41;.&quot; &#58;&#58; reading from cache &#58;&#58;\n&quot;&#41;;&#125;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else&#123;if&#40;$results=@file_get_contents &#40;&quot;http&#58;//www.anarchy-online.com/character/bio/d/&quot;.$zone.&quot;/name/&quot;.$lookup.&quot;/bio.xml&quot;&#41;&#41;&#123;$whoisdata=3;&#125;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$whoisdata&gt;1&#41;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$whoisdata&gt;2&#41;&#123;if&#40;$whoiser!=&quot;&quot;&#41;&#123;console&#40;&quot;&#91;SYSTEM&#93; &quot;.$whoiser.&quot;Getting data for &quot;.ucfirst&#40;$lookup&#41;.&quot; &#58;&#58; saving to cache &#58;&#58;\n&quot;&#41;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$cachefile='whoiscache/'.strtolower&#40;$lookup&#41;.'.'.$zone.'.xml';$cachesave=@fileopen &#40;$cachefile,&quot;w&quot;&#41;;$cachestore=@fwrite&#40;$cachesave,$results&#41;;@fclose&#40;$cachesave&#41;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$data==&quot;org&quot;&#41;&#123;$id&#91;&quot;number&quot;&#93;=splice&#40;$results, &quot;organization_id&quot;&#41;; if&#40;$id&#91;&quot;number&quot;&#93;==&quot;&quot;&#41;&#123;return FALSE;&#125;else&#123;$id&#91;&quot;name&quot;&#93;=splice&#40;$results, &quot;organization_name&quot;&#41;;return $id;&#125;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$ppic=splice&#40;$results, &quot;pictureurl&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$playername=splice&#40;$results, &quot;nick&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$firstname=splice&#40;$results, &quot;firstname&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$lastname=splice&#40;$results, &quot;lastname&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$guild=splice&#40;$results, &quot;organization_name&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$guild_rank=splice&#40;$results, &quot;rank&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$level=splice&#40;$results, &quot;level&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$breed=splice&#40;$results, &quot;breed&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$orgid=splice&#40;$results, &quot;organization_id&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$sex=strtolower&#40;splice&#40;$results, &quot;gender&quot;&#41;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$faction=splice&#40;$results, &quot;faction&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$profession=splice&#40;$results, &quot;profession&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$proftitle=splice&#40;$results, &quot;profession_title&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$defenderrankid=splice&#40;$results, &quot;defender_rank_id&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$fname=$firstname;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$lname=$lastname;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$orgname=$guild;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$rank=$guild_rank;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$level2=$level;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$pbreed=$breed;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$fact=$faction;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$prof=$profession;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$drankid=$defenderrankid;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;empty&#40;$guild&#41;&#41;&#123;$guild=&quot;not in a guild&quot;;&#125;else&#123;$guild=$guild_rank.&quot; of &quot;.$guild;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$breed==&quot;Nano&quot;&#41;&#123;$breed=&quot;Nanomage&quot;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $rk_num;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$zone!=$rk_num&#41;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$zone==1&#41;&#123;$zone=&quot;Atlantean&#58; &quot;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$zone==2&#41;&#123;$zone=&quot;Rimor&#58; &quot;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$zone==3&#41;&#123;$zone=&quot;Die Neue Welt&#58; &quot;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;else&#123;$zone=&quot;&quot;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$tags=Array&#40;&quot;level&quot;,&quot;guild&quot;,&quot;profession&quot;,&quot;gender&quot;,&quot;breed&quot;,&quot;defender_rank_id&quot;,&quot;organization_id&quot;,&quot;faction&quot;,&quot;rank&quot;,&quot;organization_name&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;in_array&#40;$data,$tags&#41;&#41;&#123;$results=&quot;&#40;&quot;.$data.&quot;&#58; &quot;.splice&#40;$results, $data&#41;.&quot;&#41;&quot;;&#125;else&#123;$results=$zone.$firstname .&quot; \&quot;&quot;.$playername.&quot;\&quot; &quot;.$lastname.&quot; &#40;Level &quot;.$level.&quot; / AI Level &quot;.$drankid.&quot;&#41; is a &quot;.$sex.&quot; &quot;.$breed.&quot; &quot;.$profession.&quot;, &quot;.$faction.&quot;, &quot;.$guild;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;return $results;&#125;else&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $rk_num;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$zone!=$rk_num&#41;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$zone==1&#41;&#123;$zone=&quot;Atlantean&#58; &quot;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$zone==2&#41;&#123;$zone=&quot;Rimor&#58; &quot;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$zone==3&#41;&#123;$zone=&quot;Die Neue Welt&#58; &quot;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;else&#123;$zone=&quot;&quot;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$tags=Array&#40;&quot;level&quot;,&quot;guild&quot;,&quot;profession&quot;,&quot;gender&quot;,&quot;breed&quot;,&quot;defender_rank_id&quot;,&quot;organization_id&quot;,&quot;faction&quot;,&quot;rank&quot;,&quot;organization_name&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;in_array&#40;$data,$tags&#41;&#41;&#123;return FALSE;&#125;else&#123;return $zone.&quot;Character not found&quot;;&#125;&#125;&#125;</td>	</tr></table><span class="postbody">
<br />

<br />

<br />
This part I did based off of his Mods to the Whois. This Edits the Login modes So dont matter weither you pick Details, Guild, Full or Normal, it will show your AI lvl.
<br />
And line 5560 to 5594 with:
<br />

<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center"><tr> 	  <td><span class="genmed"><b>Code:</b></span></td>	</tr>	<tr>	  <td class="code">&nbsp; &nbsp;&nbsp; &nbsp;if&#40;file_exists&#40;'logons/'.$logonuser&#41;&#41;&#123;$custom = fileopen &#40;'logons/'.$logonuser,&quot;r&quot;&#41;;$custominfo = &quot; - &quot;.fileread &#40;$custom, filesize &#40;'logons/'.$logonuser&#41;&#41;;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$logmsg = &quot; logged on&quot;.$custominfo;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;strtolower&#40;$notifymode&#41;==&quot;details&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;global $level2;global $drankid;global $prof;$prof=&quot;&quot;;$level2=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;whois&#40;$aoc-&gt;id&#91;$args&#91;0&#93;&#93;, $aoc-&gt;id&#91;$args&#91;0&#93;&#93;, $rk_num, 0&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$level2&#41;&#41;&#123;$logmsg =&quot; &#40; Level &quot;.$level2.&quot; / AI Level &#40;darkgreen&#41;&quot;.$drankid.&quot; &quot;.$prof.&quot; &#41; logged on&quot;.$custominfo;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$logmsg=str_replace&#40;&quot;&nbsp; &quot;,&quot; &quot;,$logmsg&#41;;$logmsg=str_replace&#40;&quot;&nbsp; &#41;&quot;,&quot; &#41;&quot;,$logmsg&#41;;$logmsg=str_replace&#40;&quot;N/A &quot;,&quot;&quot;,$logmsg&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$level2=&quot;&quot;;$drankid=&quot;&quot;;$prof=&quot;&quot;;$orgname=&quot;&quot;;$orgid=&quot;&quot;;&#125;
<br />

<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;$flogname=&quot;&quot;;$llogname=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;strtolower&#40;$notifymode&#41;==&quot;guild&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;global $rank,$fname,$lname,$level2,$drankid,$prof,$fact,$orgname;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$fname=&quot;&quot;;$lname=&quot;&quot;;$level2=&quot;&quot;;$drankid=&quot;&quot;;$prof=&quot;&quot;;$orgname=&quot;&quot;;$rank=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;whois&#40;$aoc-&gt;id&#91;$args&#91;0&#93;&#93;, $aoc-&gt;id&#91;$args&#91;0&#93;&#93;, $rk_num, 0&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;strlen&#40;$fname&#41;&gt;1&#41;&#123;$flogname=$fname.' &quot;';&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;strlen&#40;$lname&#41;&gt;1&#41;&#123;$llogname='&quot; '.$lname;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$level2&#41;&#41;&#123;$logmsg =&quot; &#40; Level &quot;.$level2.&quot; / AI Level &#40;darkgreen&#41;&quot;.$drankid.&quot;&nbsp; &quot;.$prof.&quot; &quot;.$rank.&quot; &#41; logged on&quot;.$custominfo;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$logmsg=str_replace&#40;&quot;&nbsp; &quot;,&quot; &quot;,$logmsg&#41;;$logmsg=str_replace&#40;&quot;&nbsp; &#41;&quot;,&quot; &#41;&quot;,$logmsg&#41;;$logmsg=str_replace&#40;&quot;N/A &quot;,&quot;&quot;,$logmsg&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$level2=&quot;&quot;;$drankid=&quot;&quot;;$prof=&quot;&quot;;$orgname=&quot;&quot;;$orgid=&quot;&quot;;$fact=&quot;&quot;;$rank=&quot;&quot;;&#125;
<br />

<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;strtolower&#40;$notifymode&#41;==&quot;full&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;global $rank;
<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; global $level2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $prof;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $fact;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $orgname;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $drankid;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$fname=&quot;&quot;;$lname=&quot;&quot;;$level2=&quot;&quot;;$drankid=&quot;&quot;;$prof=&quot;&quot;;$orgname=&quot;&quot;;$rank=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;whois&#40;$aoc-&gt;id&#91;$args&#91;0&#93;&#93;, $aoc-&gt;id&#91;$args&#91;0&#93;&#93;, $rk_num, 0&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$orgname&#41;&#41;&#123;$orgname=&quot;of &quot;.$orgname;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$level2&#41;&#41;&#123;$logmsg =&quot; &#40; Level &quot;.$level2.&quot; AI level &#40;darkgreen&#41;&quot;.$drankid.&quot; &quot;.$fact.&quot; &quot;.$prof.&quot; &quot;.$rank.&quot; &quot;.$orgname.&quot; &#41; logged on&quot;.$custominfo;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$logmsg=str_replace&#40;&quot;&nbsp; &quot;,&quot; &quot;,$logmsg&#41;;$logmsg=str_replace&#40;&quot;&nbsp; &#41;&quot;,&quot; &#41;&quot;,$logmsg&#41;;$logmsg=str_replace&#40;&quot;N/A &quot;,&quot;&quot;,$logmsg&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$level2=&quot;&quot;;$drankid=&quot;&quot;;$prof=&quot;&quot;;$orgname=&quot;&quot;;$orgid=&quot;&quot;;$fact=&quot;&quot;;$rank=&quot;&quot;;&#125;</td>	</tr></table><span class="postbody">
<br />

<br />
Also Updated Online using the Khalem/Lordkhaoz Online plugin (i find it MUCH better then the default online thats in IGN). This is an Unoffical Plugin, it is nota true update by the creators (if he sees this he can feel free to use any of that in the update though, save us from editing the next update too <img src="images/smiles/icon_biggrin.gif" alt="Very Happy" border="0" />)
<br />

<br />
Way too much for me to try to rember what i did late at night here, so heres the whole plugin, i hope it doesnt crash this page <img src="images/smiles/icon_razz.gif" alt="Razz" border="0" />
<br />

<br />
Copy this to a file named "online.php" in your plugins folder to replace the default online mode, (or use a different name so you have bolth modes, but then you have to rember to use that newly named command to check the new online status.)
<br />

<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center"><tr> 	  <td><span class="genmed"><b>Code:</b></span></td>	</tr>	<tr>	  <td class="code">&lt;?
<br />
/*
<br />
&nbsp;* IGN Online plugin by Khalem
<br />
&nbsp;* Copyright &#40;c&#41; 2004 ShadowRealm Creations
<br />
&nbsp;* 
<br />
&nbsp;* Based on the original IGN online function and in large parts on the
<br />
&nbsp;* customized online plugin made by Lordchaoz.
<br />
&nbsp;* Inspired by Lordchaoz.
<br />
&nbsp;*
<br />
&nbsp;* Parameters&#58;&#58;
<br />
&nbsp;* &#40;Auto&#41;&#58;
<br />
&nbsp;*&nbsp; &nbsp;&lt;sender&gt; &#58; Name of person requesting list
<br />
&nbsp;*&nbsp; &nbsp;&lt;online&gt; &#58; Name of this command
<br />
&nbsp;*
<br />
&nbsp;* $Word2 &#40;Parameter #1&#41;&#58;
<br />
&nbsp;*&nbsp; &nbsp;&lt;profession&gt;&nbsp; &#58; If you want to only list a certain profession
<br />
&nbsp;*&nbsp; &nbsp;&lt;level from&gt;&nbsp; &#58; If you want to display all characters above/below this lvl. If you dont have a parameter2
<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;it will display all characters you can team with at &lt;level from&gt;
<br />
&nbsp;*&nbsp; &nbsp;&lt;all&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#58; Display detailed info
<br />
&nbsp;*&nbsp; &nbsp;&lt;update&gt;&nbsp; &nbsp; &nbsp; &#58; If you want to do a refresh on all characters from XML
<br />
&nbsp;*
<br />
&nbsp;* $Word3 &#40;Parameter #2&#41;&#58;
<br />
&nbsp;*&nbsp; &nbsp;&lt;level to&gt;&nbsp; &nbsp; &#58; &#40;requires &lt;level from&gt;&#41; If you want to display characters within a lvl range 
<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; To display all chars between 150-200 do &#58; /tell &lt;myname&gt; online 150 200
<br />
&nbsp;*&nbsp; &nbsp;&lt;+&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#58; &#40;requires &lt;level from&gt;&#41; If you want to display all characters above &lt;level from&gt;
<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#58;&nbsp; To display all chars above 150 do &#58; /tell &lt;myname&gt; online 150 +
<br />
&nbsp;*&nbsp; &nbsp;&lt;-&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#58; &#40;requires &lt;level from&gt;&#41; If you want to display all characters below &lt;level from&gt;
<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#58;&nbsp; To display all chars below 100 do &#58; /tell &lt;myname&gt; online 100 -
<br />
&nbsp;*
<br />
&nbsp;*/
<br />

<br />
&nbsp;/*
<br />
&nbsp; * Changelog&#58;
<br />
&nbsp; *
<br />
&nbsp; * v0.21
<br />
&nbsp; * - Added help for online command.
<br />
&nbsp; * - Cosmetical fixes.
<br />
&nbsp; * - We no longer display IRC users when doing level and profession searches.
<br />
&nbsp; * - Added online set with options to disable/enable display of alts, ranks and org.
<br />
&nbsp; * - online all does something usefull now.
<br />
&nbsp; *
<br />
&nbsp; * v0.20
<br />
&nbsp; * - Readjusted limit AGAIN.
<br />
&nbsp; * - Cosmetical fix for bot reply.
<br />
&nbsp; *
<br />
&nbsp; * v0.19
<br />
&nbsp; * - Readjusted limit as Funcom servers at times have problems handeling large blobs, despite
<br />
&nbsp; *&nbsp; &nbsp;supposedly being able to handle twice the size of the max blobsize we used.
<br />
&nbsp; *
<br />
&nbsp; * v0.18
<br />
&nbsp; * - Fixes from IGN main tree to IRC Online parsing.
<br />
&nbsp; * - Minor Cosmetic fixes.
<br />
&nbsp; *
<br />
&nbsp; * v0.17
<br />
&nbsp; * - Alts are now shown for users in the guestchannel
<br />
&nbsp; * - If the character is a registered alt, it will show the mains name
<br />
&nbsp; *&nbsp; &nbsp;at the end of the listing.
<br />
&nbsp; *
<br />
&nbsp; * v0.16
<br />
&nbsp; * - Updated IRC online list to recognize Channel Admins and Channel Halfops
<br />
&nbsp; *
<br />
&nbsp; * v0.15
<br />
&nbsp; * - Updated to allow for the new limits as of 15.5
<br />
&nbsp; *
<br />
&nbsp; * v0.14
<br />
&nbsp; * - Slight cosmetical changes.
<br />
&nbsp; *
<br />
&nbsp; * v0.13
<br />
&nbsp; * - Fixed conflicting variable names causing various problems ;P
<br />
&nbsp; *
<br />
&nbsp; * v0.12
<br />
&nbsp; * - Added level sorting for guestchannel.
<br />
&nbsp; *
<br />
&nbsp; * v0.11&#58;
<br />
&nbsp; * - Made the reply not display number of members online when i groupmode
<br />
&nbsp; *&nbsp; &nbsp;as this would always be 0.
<br />
&nbsp; * - Several cosmetic issues.
<br />
&nbsp; *
<br />
&nbsp; * v0.10&#58;
<br />
&nbsp; * - Added ability to allow bot admins to switch display of
<br />
&nbsp; *&nbsp; &nbsp;online users in notifylist on and off easy using the setup parameter
<br />
&nbsp; *
<br />
&nbsp; * v0.9&#58;
<br />
&nbsp; * - First version to be tested by a handfull of outside admins for feedback.
<br />
&nbsp; *
<br />
&nbsp; * v0.8&#58;
<br />
&nbsp; * - Scrapped most parts of the old plugin and rewrote it to work on the latest IGN versions.
<br />
&nbsp; *&nbsp; &nbsp;Based the new version on Lordchaoz's plugin, its probably wrong to call this my plugin now
<br />
&nbsp; *&nbsp; &nbsp;as its now more his plugin than mine.
<br />
&nbsp; */
<br />
&nbsp;
<br />
//|help|
<br />
// |lightblue| The |white||command||lightblue| command allows you
<br />
// to show a list of all users currently online by default aswell
<br />
// as search for players by profession or level.
<br />
//
<br />
// Please note that the admin may control what information is
<br />
// displayed by default.
<br />
//
<br />
//
<br />
// To list all online users&#58;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command|
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Display a list of online users using the
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;admins default setting.
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| all
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Displays a listing of all players online aswell
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;as any information that may be supressed by default settings
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;like Organization, rank and alternative characters.
<br />
//
<br />
//
<br />
// To search online list by profession&#58;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| &lt;profession&gt;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Displays anyone online who matches &lt;profession&gt; in
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;their profession name. Partial names work.
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Example&#58; /tell |bot| |command| doctor
<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/tell |bot| |command| doc
<br />
//
<br />
//
<br />
// To search online list by level&#58;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| &lt;level&gt;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Displays players in teaming range of level &lt;level&gt;
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| &lt;level from&gt; &lt;level to&gt;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Displays players in the level range from 
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;&lt;level from&gt; to &lt;level to&gt;
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| &lt;level&gt; +
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Displays players who are higher than level &lt;level&gt;
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| &lt;level&gt; -
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Displays players who are lower than level &lt;level&gt;
<br />
//
<br />
//
<br />
// |red|Admin only commands&#58;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| mode group
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Sets the bot to by default NOT display online players 
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;in notifylist. Usefull for raid bots and the likes.
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| mode guild
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Sets the bot to by default display online players
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;in notifylist.
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| set alts &lt;on/off&gt;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Toggles default display of alts information.
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| set ranks &lt;on/off&gt;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Toggles default display of rank information.
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|white|/tell |bot| |command| set orgs &lt;on/off&gt;
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;|lightblue|Toggles default display of organization information.
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;Please note that the notify online list will ALWAYS show org names
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;for players who are not in the bots guild regardless.
<br />
//
<br />
//
<br />
//|help|
<br />

<br />
&nbsp; 
<br />
/*
<br />
&nbsp;* Is this a mode call? 
<br />
&nbsp;*/
<br />
if &#40;$word2 == &quot;mode&quot;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp;if&#40;file_exists&#40;'leaders/_'.strtolower&#40;$sender&#41;.'_'&#41; || stristr &#40;$sender, $admin&#41;&#41;
<br />
&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!file_exists &#40;'.konline/'&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;mkdir &#40;'.konline/', 0777&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$word3 == &quot;guild&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;@unlink &#40;&quot;.konline/_groupmode_&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Bot will now show online list in guild mode.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;$word3 == &quot;group&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;@touch &#40;&quot;.konline/_groupmode_&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Bot will now show online list in chatgroup mode.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Arguments for mode command must be one of 'guild' or 'group'. &quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Permission denied. You are not an admin on this bot $sender&quot;;
<br />
&nbsp; &nbsp;&#125;
<br />
&#125;
<br />
else if &#40;$word2 == &quot;set&quot;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp;if&#40;file_exists&#40;'leaders/_'.strtolower&#40;$sender&#41;.'_'&#41; || stristr &#40;$sender, $admin&#41;&#41;
<br />
&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!file_exists &#40;'.konline/'&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;mkdir &#40;'.konline/', 0777&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;// Toggle default ALTS display on and off.
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$word3 == &quot;alts&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$word4 == &quot;off&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;@unlink &#40;&quot;.konline/_alts_&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Bot will now default to not show ALTS info.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;$word4 == &quot;on&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;@touch &#40;&quot;.konline/_alts_&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Bot will now default to show ALTS info.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Arguments for 'set alts' command must be one of 'on' or 'off'. &quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;// Toggle default RANKS display on and off.
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;$word3 == &quot;ranks&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$word4 == &quot;off&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;@unlink &#40;&quot;.konline/_ranks_&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Bot will now default to not show RANKS info.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;$word4 == &quot;on&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;@touch &#40;&quot;.konline/_ranks_&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Bot will now default to show RANKS info.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Arguments for 'set ranks' command must be one of 'on' or 'off'. &quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;// Toggle default ORGS display on and off.
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;$word3 == &quot;orgs&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$word4 == &quot;off&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;@unlink &#40;&quot;.konline/_orgs_&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Bot will now default to not show ORGS info.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;$word4 == &quot;on&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;@touch &#40;&quot;.konline/_orgs_&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Bot will now default to show ORGS info.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Arguments for 'set orgs' command must be one of 'on' or 'off'. &quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Arguments for 'set' command must be one of 'alts', 'ranks' or 'orgs'.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;Permission denied. You are not an admin on this bot $sender&quot;;
<br />
&nbsp; &nbsp;&#125;
<br />
&#125;
<br />
else
<br />
&#123;
<br />
&nbsp; &nbsp;global $guestlister;
<br />
&nbsp; &nbsp;global $guests;
<br />
&nbsp; &nbsp;/*
<br />
&nbsp; &nbsp; * Access control
<br />
&nbsp; &nbsp; * Allow members and guestlist members to view online list.
<br />
&nbsp; &nbsp; */
<br />
&nbsp; &nbsp; &nbsp; &nbsp; if &#40;file_exists &#40;'members/'.$sender&#41; || $guests == 1 || file_exists &#40;'guests/'.$sender&#41;&#41;
<br />
&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $orgnum;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $working;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $myname;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;$aSort = Array&#40;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$iSort = Array&#40;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$konlineversion = &quot;v0.20.06&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$orgnum=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$working=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$skosearch=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$konline_show_alts = 0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$konline_show_ranks = 0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$konline_show_orgs = 0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;// If we havent specified param #2, Set max lvl to 999
<br />
&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;empty&#40;$word3&#41; &amp;&amp; !is_numeric&#40;$word2&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$word3=&quot;999&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;// Team lvl range
<br />
&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;empty&#40;$word3&#41;&amp;&amp; is_numeric&#40;$word2&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$word3=strval&#40;$word2*1.38&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$word2=strval&#40;$word2/1.38&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$userinfo=&quot; you can team with&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$skosearch=1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;// Displays chars between lvl &lt;param1&gt; and 220
<br />
&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$word3==&quot;+&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$word3=&quot;220&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$userinfo=&quot; above level &quot;.$word2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;// Displays chars between lvl 1 and &lt;param1&gt;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$word3==&quot;-&quot;&#41;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$word3=$word2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$word2=&quot;1&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$userinfo=&quot; below level &quot;.$word3;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;file_exists &#40;&quot;.konline/_alts_&quot;&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$konline_show_alts = 1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;file_exists &#40;&quot;.konline/_ranks_&quot;&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$konline_show_ranks = 1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;file_exists &#40;&quot;.konline/_orgs_&quot;&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$konline_show_orgs = 1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$word2 == &quot;all&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$konline_show_alts = 1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$konline_show_ranks = 1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$konline_show_orgs = 1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $onarray;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $onlisting;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $fact;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $helpcolor;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $onrank;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $rank;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $prof;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $orgname;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $reply;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $level2;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $drankid;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$numPeopleOnline = 0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$konlinenotifymode = 0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$onlisting=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$liston = &quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$footer = &quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!file_exists &#40;&quot;.konline/_groupmode_&quot;&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$konlinenotifymode = 1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$ontemp = Array &#40;&#41;;
<br />

<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$ontemp = Array &#40;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;is_array &#40;$onarray&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$ontemp = $onarray;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;ksort &#40;$ontemp&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$word2 == &quot;update&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo = Array&#40;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch=Array&#40;&#41;;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$foundOnline=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestsOnline=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp; 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;foreach&#40;$ontemp as $ktemp =&gt; $vtemp&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Do we have any members online?
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!empty &#40;$ktemp&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$prof=&quot;Unknown&quot;;
<br />
&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Do we have any info on this character?
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;empty &#40;$oninfo&#91;$ktemp&#93;&#41; || $word2==&quot;update&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$old = $reply;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$level2=&quot;&quot;;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$drankid=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Fetch whois from xml/servers
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;whois &#40;$myname, $ktemp, $rk_num, 0&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// If we dont have info on the character now, its a newly created toon
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$level2&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Display guild info if character isnt in BOT's guild
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$orgname != $myguild&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$orgname != &quot;&quot; &amp;&amp; $rank != &quot;&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$konline_show_ranks == 1 &amp;&amp; $konline_show_orgs == 1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'info'&#93; =&nbsp; &quot; &#40;$rank of $orgname&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'info'&#93; =&nbsp; &quot; &#40;$orgname&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'prof'&#93; = $prof;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'level'&#93; =&nbsp; $level2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'AI level'&#93; =&nbsp; $drankid;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'info'&#93; =&nbsp; &quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'prof'&#93; = $prof;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'level'&#93; =&nbsp; $level2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'AI level'&#93; =&nbsp; $drankid;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$konline_show_ranks == 1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'info'&#93; = &quot; &#40;$rank&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'prof'&#93; = $prof;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'level'&#93; =&nbsp; $level2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'AI level'&#93; =&nbsp; $drankid;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125; 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'info'&#93; = &quot; &#58;&#58; No data found.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'prof'&#93; =&nbsp; &quot;Unknown &#58;&#58; No data found&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'level'&#93; =&nbsp; 0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'AI level'&#93; =&nbsp; 0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$prof = &quot;Unknown &#58;&#58; No data found&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$level2&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$onrank&#91;$ktemp&#93;=$level2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$onrank&#91;$ktemp&#93;=&quot;No level data found.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply=$old;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125; 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$prof = $oninfo&#91;$ktemp&#93;&#91;'prof'&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Filter characters based on profession
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!is_numeric&#40;$word2&#41; &amp;&amp; !empty&#40;$word2&#41; &amp;&amp; stristr&#40;$oninfo&#91;$ktemp&#93;&#91;'prof'&#93;,$word2&#41; ||&nbsp; strtolower&#40;$word2&#41;==&quot;update&quot; || stristr&#40;$oninfo&#91;$ktemp&#93;,$word3&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$skosearch=1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$userinfo=&quot; with details&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!stristr&#40;$liston,$ktemp&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!isSet&#40;$iSort&#91;$prof&#93;&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$iSort&#91;$prof&#93;=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aSort&#91;$prof&#93;&#91;$iSort&#91;$prof&#93;&#93;=$ktemp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$iSort&#91;$prof&#93;++;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'details'&#93; = $oninfo&#91;$ktemp&#93;&#91;'info'&#93;;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Filter characters based on levels
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;elseif&#40;!empty&#40;$word2&#41; &amp;&amp; is_numeric&#40;$word2&#41; &amp;&amp; strval&#40;$onrank&#91;$ktemp&#93;&#41;&gt;=strval&#40;$word2&#41; &amp;&amp; strval&#40;$onrank&#91;$ktemp&#93;&#41;&lt;=strval&#40;$word3&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!stristr&#40;$liston,$ktemp&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!isSet&#40;$iSort&#91;$prof&#93;&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$iSort&#91;$prof&#93;=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aSort&#91;$prof&#93;&#91;$iSort&#91;$prof&#93;&#93;=$ktemp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$iSort&#91;$prof&#93;++;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'details'&#93; = $oninfo&#91;$ktemp&#93;&#91;'info'&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// No filter - just plain list
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;elseif&#40;empty&#40;$word2&#41; || $word2==&quot;all&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!stristr&#40;$liston,$ktemp&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$afkarray=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altfound=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altmain=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$alt=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altsearch=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altarray=&quot;&quot;;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Check if user is afk
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;file_exists&#40;'afk/'.$ktemp.'.afk'&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$afkarray=&quot; &#40;white&#41;AFK&#40;botcolor&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$konline_show_alts == 1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Check if user got registered alts
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$alt=ucfirst&#40;strtolower&#40;$ktemp&#41;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;global $guests;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altsearch=dirlist&#40;&quot;alts&quot;,ucfirst&#40;$alt&#41;,&quot;&quot;,1,0,0,1&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$altsearch&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altfound=1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altmain=ucfirst &#40;substr &#40;$altsearch, 0, strpos &#40;$altsearch, &quot; &quot;&#41;&#41;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$find=$alt;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altsearch=dirlist&#40;&quot;alts//&quot;.$find.&quot;//&quot;,&quot;&quot;,&quot;&quot;,0,0,0,0&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$altsearch&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altfound=1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$altfound==1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!empty&#40;$altmain&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altarray=' &#58;&#58; #L &quot;&#40;notifycolor&#41;'.$altmain.'\'s Alts&quot; &quot;/tell |bot| |syntax|alts '.$ktemp.'&quot;';
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altarray=' &#58;&#58; #L &quot;&#40;notifycolor&#41;Alts&quot; &quot;/tell |bot| |syntax|alts '.$ktemp.'&quot;';
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'details'&#93; = $oninfo&#91;$ktemp&#93;&#91;'info'&#93;.$afkarray.$altarray;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Put it into each Profession category &#40;To sort by profession&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!isSet&#40;$iSort&#91;$prof&#93;&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$iSort&#91;$prof&#93;=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aSort&#91;$prof&#93;&#91;$iSort&#91;$prof&#93;&#93;=$ktemp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$iSort&#91;$prof&#93;++;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Sort the professions
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$liston = &quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;ksort&#40;$iSort&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Sort within the diff professions by levels &#40;To show highest levels first&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Do the good old bubblesort &#40;since each prof doesnt have _that_ many online&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aTemp = 0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;foreach &#40;$iSort as $k =&gt; $v&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// If it is more than 1 in this prof - do sort
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$v&gt;1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;do
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$redoSort = false;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;for &#40;$j=1; $j&lt;$v; $j++&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$num1 = $aSort&#91;$k&#93;&#91;$j-1&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$num2 = $aSort&#91;$k&#93;&#91;$j&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$lvl1 = $oninfo&#91;$num1&#93;&#91;'level'&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$lvl2 = $oninfo&#91;$num2&#93;&#91;'level'&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Do sort?
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$lvl1 &lt; $lvl2&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$redoSort=true;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aTemp = $aSort&#91;$k&#93;&#91;$j-1&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aSort&#91;$k&#93;&#91;$j-1&#93; = $aSort&#91;$k&#93;&#91;$j&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aSort&#91;$k&#93;&#91;$j&#93; = $aTemp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;while &#40;$redoSort&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Create the actual online list on this profession
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;foreach &#40;$iSort as $k =&gt; $v&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$liston .= &quot;\n &#40;white&#41;$k&#40;s&#41;&#58;\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;for &#40;$j=0; $j&lt;$v; $j++&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$name = $aSort&#91;$k&#93;&#91;$j&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$liston.= $botcolor . &quot; - L &quot; . $oninfo&#91;$name&#93;&#91;'level'&#93; . &quot; /&quot; . &quot; &#40;darkgreen&#41;&quot; . $oninfo&#91;$name&#93;&#91;'AI level'&#93; . &quot; &#40;helpcolor&#41;&quot; . $name . $botcolor . $oninfo&#91;$name&#93;&#91;'details'&#93; . &quot;\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$numPeopleOnline++;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$finder=&quot;list&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$listguests=&quot;&quot;;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;$list=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$list=dirlist&#40;&quot;guestcache/1&quot;,&quot;&quot;,&quot;&quot;,0,0,0,0&#41;;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;$aGuestSort = Array&#40;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$iGuestSort = Array&#40;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$list&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;foreach&#40;$list as $k =&gt; $v&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$k&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;empty&#40;$guestch&#91;$k&#93;&#41; || $word2==&quot;update&quot; || $word2==&quot;all&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Do a XML/whois on this character
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$level2=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;whois&#40;$myname, $k, 1, 0&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$level2&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'org'&#93; = $orgname;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'prof'&#93; = $prof;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'level'&#93; = $level2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'AI level'&#93; =&nbsp; $drankid;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Check if this is a raid adm
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;stristr &#40;$k, $admin&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'details'&#93; = &quot; &#58;&#58; &#40;red&#41;Root&#40;botcolor&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else if&#40;file_exists&#40;'leaders/_'.strtolower&#40;$k&#41;.'_'&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'details'&#93; = &quot; &#58;&#58; &#40;red&#41;Admin&#40;botcolor&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$orgname!=&quot;&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$konline_show_ranks == 1 &amp;&amp; $konline_show_orgs == 1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'details'&#93; .= &quot; &#40;$rank of $orgname&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;$konline_show_ranks == 1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'details'&#93; .= &quot; &#40;$rank&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;$konline_show_ors == 1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'details'&#93; .= &quot; &#40;$orgname&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'details'&#93; .= &quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'org'&#93; = &quot;No data found&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'prof'&#93; = &quot;Unknown&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'level'&#93; = &quot;0&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'details'&#93; = &quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$prof = &quot;Players not found&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'dim'&#93; = &quot;RK-&quot;.$rk_num;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$afkarray = &quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;file_exists&#40;'afk/'.$k.'.afk'&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$afkarray = &quot; &#40;white&#41;AFK&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//$guestch&#91;$k&#93;&#91;'details'&#93; .= &quot; &#40;white&#41;AFK&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altfound=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altmain=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$alt=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altsearch=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altarray=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$konline_show_alts == 1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Check if user got registered alts
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$alt=ucfirst&#40;strtolower&#40;$k&#41;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altsearch=dirlist&#40;&quot;alts&quot;,ucfirst&#40;$alt&#41;,&quot;&quot;,1,0,0,1&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$altsearch&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altfound=1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altmain=ucfirst &#40;substr &#40;$altsearch, 0, strpos &#40;$altsearch, &quot; &quot;&#41;&#41;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$find=$alt;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altsearch=dirlist&#40;&quot;alts//&quot;.$find.&quot;//&quot;,&quot;&quot;,&quot;&quot;,0,0,0,0&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;!empty&#40;$altsearch&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altfound=1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;$altfound==1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!empty&#40;$altmain&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altarray=' &#58;&#58; #L &quot;&#40;notifycolor&#41;'.$altmain.'\'s Alts&quot; &quot;/tell |bot| |syntax|alts '.$k.'&quot;';
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$altarray=' &#58;&#58; #L &quot;&#40;notifycolor&#41;Alts&quot; &quot;/tell |bot| |syntax|alts '.$k.'&quot;';
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestch&#91;$k&#93;&#91;'details'&#93; = $guestch&#91;$k&#93;&#91;'details'&#93;.$afkarray.$altarray;
<br />
//&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$oninfo&#91;$ktemp&#93;&#91;'details'&#93; = $oninfo&#91;$ktemp&#93;&#91;'info'&#93;.$afkarray.$altarray;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Put it into each Profession category &#40;To sort by profession&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;empty&#40;$word2&#41; || strtolower&#40;$word2&#41;==&quot;all&quot; || strtolower&#40;$word2&#41;==&quot;update&quot; || strtolower&#40;$word2&#41;==strtolower&#40;$prof&#41; || stristr&#40;$prof,$word2&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!isSet&#40;$iGuestSort&#91;$prof&#93;&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$iGuestSort&#91;$prof&#93;=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aGuestSort&#91;$prof&#93;&#91;$iGuestSort&#91;$prof&#93;&#93;=$k;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$iGuestSort&#91;$prof&#93;++;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestsOnline++;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;ksort&#40;$iGuestSort&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;// Sort within the diff professions by levels &#40;To show highest levels first&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;// Do the good old bubblesort &#40;since each prof doesnt have _that_ many online&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$aTemp = 0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;foreach &#40;$iGuestSort as $k =&gt; $v&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// If it is more than 1 in this prof - do sort
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$v&gt;1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;do
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$redoSort = false;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;for &#40;$j=1; $j&lt;$v; $j++&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$num1 = $aGuestSort&#91;$k&#93;&#91;$j-1&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$num2 = $aGuestSort&#91;$k&#93;&#91;$j&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$lvl1 = $guestch&#91;$num1&#93;&#91;'level'&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$lvl2 = $guestch&#91;$num2&#93;&#91;'level'&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;// Do sort?
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$lvl1 &lt; $lvl2&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$redoSort=true;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aTemp = $aGuestSort&#91;$k&#93;&#91;$j-1&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aGuestSort&#91;$k&#93;&#91;$j-1&#93; = $aGuestSort&#91;$k&#93;&#91;$j&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$aGuestSort&#91;$k&#93;&#91;$j&#93; = $aTemp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;while &#40;$redoSort&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;// Create the actual online list on this profession
<br />
&nbsp; &nbsp;&nbsp; &nbsp;//
<br />
&nbsp; &nbsp;&nbsp; &nbsp;foreach &#40;$iGuestSort as $k =&gt; $v&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$listguests .= &quot;\n &#40;white&#41;$k&#40;s&#41;&#58;\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;for &#40;$j=0; $j&lt;$v; $j++&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$name = $aGuestSort&#91;$k&#93;&#91;$j&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$level = $guestch&#91;$name&#93;&#91;'level'&#93;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$listguests.= &quot;&nbsp; &quot;.$botcolor;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$level!=&quot;&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$listguests.=&quot; - L &quot;.$guestch&#91;$name&#93;&#91;'level'&#93;.&quot; /&quot; . &quot; &#40;darkgreen&#41;&quot; . $guestch&#91;$name&#93;&#91;'AI level'&#93; . &quot; &#58;&#58; &quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$listguests.= &quot;&#40;helpcolor&#41;&quot;.$name.$botcolor.$guestch&#91;$name&#93;&#91;'details'&#93;.$altarray.&quot;\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;&nbsp; &nbsp;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;global $ircset, $ircserverid, $ircchannel, $ircnick;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$skosearch == 0&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$ircset == 3 &amp;&amp; !empty &#40;$ircchannel&#41; &amp;&amp; !empty &#40;$ircserverid&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$channelstring = $ircchannel;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;ircsend &#40;&quot;names &quot;.$channelstring&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot; &quot;, &quot;\r\n&quot;, ircget &#40;&quot;353&quot;, &quot;366&quot;&#41;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$isop = &quot;&#40;white&#41;&quot;.ucfirst &#40;$ircnick&#41;.&quot; &#40;blue&#41;&#40; IGN IRC client. &#41;\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;stristr &#40;$replys, &quot;@&quot;.$ircnick&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$isop =&quot;&#40;white&#41;&quot;.ucfirst &#40;$ircnick&#41;.&quot; &#40;blue&#41;&#40; IGN client channel-op. &#41;\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;#&quot;.$ircnick, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;@&quot;.$ircnick, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;$ircnick, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;#&quot;.strtolower &#40;$ircnick&#41;, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;#&quot;.ucfirst &#40;strtolower &#40;$ircnick&#41;&#41;, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;&#58;&quot;.$ircserverid, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;$channelstring, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;\r\n@\r\n&quot;, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;353&quot;, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;\r\n&quot;.'='.&quot;\r\n&quot;, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;\r\n&#58;&quot;, &quot;\r\n&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;\r\n&quot;.$ircnick.&quot;\r\n&quot;, &quot;\r\n&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;\r\n\r\n&quot;, &quot;\r\n&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;\r&quot;, &quot;&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = str_replace &#40;&quot;\n\n&quot;, &quot;\n&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = trim &#40;$replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!empty &#40;$replys&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = explode &#40;&quot;\n&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;foreach &#40;$replys as $k =&gt; $v&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;!stristr &#40;$v, $ircnick&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys2&#91;$k&#93; = ucfirst &#40;$v&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;substr &#40;$v, 0, 1&#41; == &quot;!&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys2&#91;$k&#93; = &quot;&#40;white&#41;&quot;.substr &#40;$v, 1&#41;.&quot; &#40;blue&#41;&#40;channel admin&#41;&#40;botcolor&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;substr &#40;$v, 0, 1&#41; == &quot;@&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys2&#91;$k&#93; = &quot;&#40;white&#41;&quot;.substr &#40;$v, 1&#41;.&quot; &#40;blue&#41;&#40;channel op&#41;&#40;botcolor&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else if &#40;substr &#40;$v, 0, 1&#41; == &quot;%&quot;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys2&#91;$k&#93; = &quot;&#40;white&#41;&quot;.substr &#40;$v, 1&#41;.&quot; &#40;blue&#41;&#40;channel halfop&#41;&#40;botcolor&#41;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = $replys2;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$ircguests = count &#40;$replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;is_array &#40;$replys&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;sort &#40;$replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = implode &#40;&quot;\n&quot;, $replys&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$replys = &quot;&#40;1&#41;&#40;blue&#41;&#58;&#58;&#58;&#40;grey&#41;&#58;&#58;&#58;&#40;white&#41;&#58;&#58;&#58; &quot;.$ircguests.&quot; users online in &#40;linestop&#41;&#40;white&#41;&quot;.$ircchannel.&quot; on IRC&nbsp; &#58;&#58;&#58;&#40;grey&#41;&#58;&#58;&#58;&#40;blue&#41;&#58;&#58;&#58;&#40;2&#41;&#40;botcolor&#41;&quot;.$isop.$replys;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;strlen&#40;$listguests&#41;&gt;3&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$listguests=str_replace&#40;&quot;&#40;white&#41;&quot;.$dim.&quot;&#40;helpcolor&#41;&quot;,&quot;&#40;helpcolor&#41;&quot;,$listguests&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$listguests=&quot;|blue|&#58;&#58;&#58;|grey|&#58;&#58;&#58;|white|&#58;&#58;&#58; &quot;.$guestsOnline.&quot; Guests currently in the &quot;.$guestname.&quot;channel |white|&#58;&#58;&#58;|grey|&#58;&#58;&#58;|blue|&#58;&#58;&#58;\n&quot;.$listguests;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;strlen&#40;$liston&#41;&gt;3&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$liston=&quot;|blue|&#58;&#58;&#58;|grey|&#58;&#58;&#58;|white|&#58;&#58;&#58; &quot;.$numPeopleOnline.&quot; Players on notify currently online&quot;.$userinfo.&quot; |white|&#58;&#58;&#58;|grey|&#58;&#58;&#58;|blue|&#58;&#58;&#58;\n&quot;.$liston.&quot;\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;&#40;strlen&#40;$liston&#41; &gt; 3&#41; || &#40;strlen&#40;$listguests&#41; &gt; 3&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$footer=&quot;\n\n|blue|&#58;&#58;&#58;|grey|&#58;&#58;&#58;|white|&#58;&#58;&#58;|white| IGN Online module &quot;.$konlineversion.&quot;&nbsp; &nbsp; |white|&#58;&#58;&#58;|grey|&#58;&#58;&#58;|blue|&#58;&#58;&#58;\nBy Khalem @ RK1, based on the original plugin by Lordkhaoz @ RK1. Modded to show AI Levels. -Krause\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$reply=dynamic&#40;$liston.$listguests.$replys.$footer&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$multisplit=6000; 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$guestsOnline==0&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestTxt = &quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$guestTxt = &quot; |notifycolor|and |notifycolor|$guestsOnline |notifycolor|users in the &quot;.$guestname.&quot;channel&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$ircguests == 0&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$IRCguestTxt = &quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$IRCguestTxt = &quot;, $ircguests |notifycolor|users on IRC&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40;strlen&#40;$reply&#41;&gt;$multisplit&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply=str_replace&#40;&quot;\r\n&quot;,&quot;\n&quot;,$reply&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$onlineparts=explode&#40;&quot;\n&quot;,$reply&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply=&quot;&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$onlinesub=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$onlinepage=Array&#40;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;foreach&#40;$onlineparts as $olines&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;strlen&#40;$onlinepage&#91;$onlinesub&#93;.$olines&#41;&lt;$multisplit &amp;&amp; !stristr&#40;$olines,&quot;Guests currently&quot;&#41;&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$onlinepage&#91;$onlinesub&#93;.=$olines.&quot;\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$onlinesub++;$onlinepage&#91;$onlinesub&#93;=$olines.&quot;\n&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$i=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;foreach&#40;$onlinepage as $op&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$i++;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$konlinenotifymode == 1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;send&#40;$sender,&quot;|notifycolor|$numPeopleOnline |notifycolor|members online&quot;.$IRCguestTxt.$guestTxt.&quot; |notifycolor|&#58;&#58; |botcolor|&#40;clickstart&#41;click to view &#40;&quot;.$i.&quot; of &quot;.count&#40;$onlinepage&#41;.&quot;&#41;.&quot;,$op.&quot;&#40;clickend&#41;&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;send&#40;$sender,&quot;|notifycolor|$guestsOnline|notifycolor|users&quot;.$IRCguestTxt.&quot; online &#58;&#58; |botcolor|&#40;clickstart&#41;click to view &#40;&quot;.$i.&quot; of &quot;.count&#40;$onlinepage&#41;.&quot;&#41;.&quot;,$op.&quot;&#40;clickend&#41;&quot;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$noreply=1;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;strlen&#40;$reply&#41;&lt;10&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply=$botcolor.&quot;No one is online at the moment or your search criteria gave no hits.&quot;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$blobbing=0;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$window_contents=MakeTextBlob&#40;$tpe, dynamic&#40;$reply&#41;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if &#40;$konlinenotifymode == 1&#41;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply=dynamic&#40;&quot;|notifycolor|$numPeopleOnline |notifycolor|members online&quot;.$IRCguestTxt.$guestTxt.&quot; |notifycolor|&#58;&#58; |botcolor|&#40;clickstart&#41;click to view.&#40;clickend&#41;&quot;&#41;.chr&#40;18&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;$reply=dynamic&#40;&quot;|notifycolor|$guestsOnline|notifycolor|users&quot;.$IRCguestTxt.&quot; online &#58;&#58; |botcolor|&#40;clickstart&#41;click to view.&#40;clickend&#41;&quot;&#41;.chr&#40;18&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$onlisting=&quot;&quot;;
<br />
&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;else
<br />
&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;$reply = &quot;You dont have access to request online info $sender.&quot;;
<br />
&nbsp; &nbsp;&#125;
<br />
&#125;
<br />
?&gt;
<br />
</td>	</tr></table><span class="postbody">
<br />

<br />
That was alotta code to put on 1 forum post i know :/ sorry &gt;&lt;
<br />

<br />
Like i said i dont know what im really doing code wise, just Usin Slackins main edit as a guide to tweek the rest of the modes to show AI Levels <img src="images/smiles/icon_smile.gif" alt="Smile" border="0" />
<br />

<br />
-Krause</span><span class="gensmall"></span></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="row1" width="150" align="left" valign="middle"><span class="nav"><a href="#top" class="nav">Back to top</a></span></td>
		<td class="row1" width="100%" height="28" valign="bottom" nowrap="nowrap"><table cellspacing="0" cellpadding="0" border="0" height="18" width="18">
			<tr>
				<td valign="middle" nowrap="nowrap"><a href="profile.php?mode=viewprofile&amp;u=25613&amp;sid=f5542554a96c4f88b863ad79f74e69b1"><img src="templates/subSilver/images/lang_english/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" /></a> <a href="privmsg.php?mode=post&amp;u=25613&amp;sid=f5542554a96c4f88b863ad79f74e69b1"><img src="templates/subSilver/images/lang_english/icon_pm.gif" alt="Send private message" title="Send private message" border="0" /></a>     <script language="JavaScript" type="text/javascript"><!--

	if ( navigator.userAgent.toLowerCase().indexOf('mozilla') != -1 && navigator.userAgent.indexOf('5.') == -1 && navigator.userAgent.indexOf('6.') == -1 )
		document.write(' ');
	else
		document.write('</td><td>&nbsp;</td><td valign="top" nowrap="nowrap"><div style="position:relative"><div style="position:absolute"></div><div style="position:absolute;left:3px;top:-1px"></div></div>');

				//--></script><noscript></noscript></td>
			</tr>
		</table></td>
	</tr>
	<tr>
		<td class="spaceRow" colspan="2" height="1"><img src="templates/subSilver/images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	<tr align="center">
		<td class="catBottom" colspan="2" height="28"><table cellspacing="0" cellpadding="0" border="0">
			<tr><form method="post" action="viewtopic.php?t=5718&amp;start=0&amp;sid=f5542554a96c4f88b863ad79f74e69b1">
				<td align="center"><span class="gensmall">Display posts from previous: <select name="postdays"><option value="0" selected="selected">All Posts</option><option value="1">1 Day</option><option value="7">7 Days</option><option value="14">2 Weeks</option><option value="30">1 Month</option><option value="90">3 Months</option><option value="180">6 Months</option><option value="364">1 Year</option></select>&nbsp;<select name="postorder"><option value="asc" selected="selected">Oldest First</option><option value="desc">Newest First</option></select>&nbsp;<input type="submit" value="Go" class="liteoption" name="submit" /></span></td>
			</form></tr>
		</table></td>
	</tr>
</table>

<table width="100%" cellspacing="2" cellpadding="2" border="0" align="center">
  <tr>
	<td align="left" valign="middle" nowrap="nowrap"><span class="nav"><a href="posting.php?mode=newtopic&amp;f=7&amp;sid=f5542554a96c4f88b863ad79f74e69b1"><img src="templates/subSilver/images/lang_english/post.gif" border="0" alt="Post new topic" align="middle" /></a>&nbsp;&nbsp;&nbsp;<a href="posting.php?mode=reply&amp;t=5718&amp;sid=f5542554a96c4f88b863ad79f74e69b1"><img src="templates/subSilver/images/lang_english/reply.gif" border="0" alt="Reply to topic" align="middle" /></a></span></td>
	<td align="left" valign="middle" width="100%"><span class="nav">&nbsp;&nbsp;&nbsp;<a href="index.php?sid=f5542554a96c4f88b863ad79f74e69b1" class="nav">HackersQuest.org Forum Index</a>
	  -> <a href="viewforum.php?f=7&amp;sid=f5542554a96c4f88b863ad79f74e69b1" class="nav">AnarchyOnline::General</a></span></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">All times are GMT + 1 Hour</span><br /><span class="nav"></span>
	  </td>
  </tr>
  <tr>
	<td align="left" colspan="3"><span class="nav">Page <b>1</b> of <b>1</b></span></td>
  </tr>
</table>

<table width="100%" cellspacing="2" border="0" align="center">
  <tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"><span class="gensmall"></span><br />
	  &nbsp;<br />
	  </td>
	<td align="right" valign="top" nowrap="nowrap">
<form method="get" name="jumpbox" action="viewforum.php?sid=f5542554a96c4f88b863ad79f74e69b1" onSubmit="if(document.jumpbox.f.value == -1){return false;}"><table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ forms['jumpbox'].submit() }"><option value="-1">Select a forum</option><option value="-1">&nbsp;</option><option value="-1">HackersQuest</option><option value="-1">----------------</option><option value="1">HackersQuest::General</option><option value="13">HackersQuest.Wizardry</option><option value="15">HackersQuest::MentallyChallenged</option><option value="-1">&nbsp;</option><option value="-1">EverQuest II</option><option value="-1">----------------</option><option value="16">EverQuest II:General</option><option value="17">EverQuest II:Tips and Tricks</option><option value="-1">&nbsp;</option><option value="-1">EverQuest</option><option value="-1">----------------</option><option value="4">EverQuest::General</option><option value="2">EverQuest::ShowEQ</option><option value="3">EverQuest::Emulator</option><option value="12">EverQuest::EQWindows</option><option value="14">EverQuest::Collector</option><option value="-1">&nbsp;</option><option value="-1">Anarchy Online</option><option value="-1">----------------</option><option value="7"selected="selected">AnarchyOnline::General</option><option value="-1">&nbsp;</option><option value="-1">Dark Age of Camelot</option><option value="-1">----------------</option><option value="6">DAOC::General</option><option value="5">DAOC::Odin's Eye</option><option value="9">DAOC::DAOCUnleashed</option><option value="-1">&nbsp;</option><option value="-1">Other Games</option><option value="-1">----------------</option><option value="8">Other::General</option></select><input type="hidden" name="sid" value="f5542554a96c4f88b863ad79f74e69b1" />&nbsp;<input type="submit" value="Go" class="liteoption" /></span></td>
	</tr>
</table></form>

<span class="gensmall">You <b>cannot</b> post new topics in this forum<br />You <b>cannot</b> reply to topics in this forum<br />You <b>cannot</b> edit your posts in this forum<br />You <b>cannot</b> delete your posts in this forum<br />You <b>cannot</b> vote in polls in this forum<br /></span></td>
  </tr>
</table>


<div align="center"><span class="copyright"><br /><br />
<!--
	We request you retain the full copyright notice below including the link to www.phpbb.com.
	This not only gives respect to the large amount of time given freely by the developers
	but also helps build interest, traffic and use of phpBB 2.0. If you cannot (for good
	reason) retain the full copyright we request you at least leave in place the
	Powered by phpBB line, with phpBB linked to www.phpbb.com. If you refuse
	to include even this then support on our forums may be affected.

	The phpBB Group : 2002
// -->
Powered by <a href="http://www.phpbb.com/" target="_phpbb" class="copyright">phpBB</a> &copy; 2001, 2005 phpBB Group<br /></span></div>
		</td>
	</tr>
</table>

</body>
</html>

