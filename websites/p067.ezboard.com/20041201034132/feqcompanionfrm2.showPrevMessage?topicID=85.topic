<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> <html><head><title>Bad file number error - www.ezboard.com</title>  <SCRIPT LANGUAGE="JavaScript"><!--if ((navigator.appVersion.indexOf("Mac") != -1)) document.write("<LINK REL=stylesheet HREF=\"http://www.ezboard.com/ztyles/defaultmac.css\" TYPE=\"text/css\">"); else document.write("<LINK REL=stylesheet HREF=\"http://www.ezboard.com/ztyles/default.css\" TYPE=\"text/css\">"); // --></SCRIPT> <script language="JavaScript"><!--function sendtext()	{	var text;	var semi = new RegExp(";","g");	document.sendspellcheck.checkme.value = document.PostMessage.body.value.replace(semi,";");	document.sendspellcheck.form.value = "PostMessage";	document.sendspellcheck.field.value = "body";	window.open('','SpellChecker','width=700,height=500,top=150,left=150,scrollbars=1,resizable=yes, location=true,toolbar=false');	document.sendspellcheck.submit();	}--></script><script language="javascript" src="http://www.ezboard.com/scripts/ezformatting.js"></script><script language="JavaScript">g_html = false;function showEl(name,s){if (document.getElementById)	{	var el = document.getElementById(name);         el.style.display = (s)?"":"none";	}}function setMode (mode){var show = true;switch (mode) { case 0: g_html=false; show=false;break; case 1: g_html=false; break; case 2: g_html=true; break; }showEl ("insertcodes", show);showEl ("textformatting", show);}</script><script language="javascript">var eList = new Array ( "http://www.ezboard.com/images/emoticons/eyes.gif",":rolleyes","http://www.ezboard.com/images/emoticons/happy.gif",":D","http://www.ezboard.com/images/emoticons/eek.gif",":eek","http://www.ezboard.com/images/emoticons/mad.gif",">:","http://www.ezboard.com/images/emoticons/glasses.gif","8)","http://www.ezboard.com/images/emoticons/pimp.gif",":hat","http://www.ezboard.com/images/emoticons/smile.gif",":)","http://www.ezboard.com/images/emoticons/sick.gif",":x","http://www.ezboard.com/images/emoticons/tongue.gif",":p","http://www.ezboard.com/images/emoticons/smokin.gif",":smokin","http://www.ezboard.com/images/emoticons/tired.gif","|I","http://www.ezboard.com/images/emoticons/frown.gif",":(","http://www.ezboard.com/images/emoticons/nerd.gif","8o","http://www.ezboard.com/images/emoticons/tongue.gif",":b","http://www.ezboard.com/images/emoticons/laugh.gif",":lol","http://www.ezboard.com/images/emoticons/embarassed.gif",":o","http://www.ezboard.com/images/emoticons/wink.gif",";)","http://www.ezboard.com/images/emoticons/indifferent.gif",":|","http://www.ezboard.com/images/emoticons/grin.gif"," >D","http://www.ezboard.com/images/emoticons/alien.gif","0]","http://www.ezboard.com/images/emoticons/roll.gif",":rollin","http://www.ezboard.com/images/emoticons/devil.gif",":evil","http://www.ezboard.com/images/emoticons/ohwell.gif",":\\" );</script><style type="text/css">#textformatting { margin: 3px 0 3px 0;}.insertbutton {font-size: 11px; width: 70px;}.formatbutton {font-size: 11px; width: 25px;}.fontselect {font-size: 11px;}#setfont { margin-left:15px; padding: 3px; background-color: #deddbf; border: 1px solid #000000; }.fontbutton {font-size: 11px;}#emoticonbox {padding:4px; width:90%;}</style></head><body text=#330000 bgcolor=#e5e5c3 link=#330000 vlink=#666666 alink=#999966  background=http://home.inreach.com/kai/Pics/Piece5.gif  ><center>  <table width=95% border=0><tr><td class=headings valign="bottom" width="45%"><a href="http://www.ezboard.com/ezcommunity/" target="_blank" ><img src="http://www.ezboard.com/image/csc_goldcommunity.gif"  border="0" align="absmiddle" alt="Gold Community"  /></a> <a href=http://p067.ezboard.com/beqcompanion>EQ Companion</a><br>&nbsp;&nbsp;&nbsp;&nbsp;> <a href=http://p067.ezboard.com/feqcompanionfrm2>Bug reports</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;> Bad file number error</td><td align=right valign="bottom" width="45%"><a href=http://p067.ezboard.com/feqcompanionfrm2.showAddTopicScreenFromWeb><img src=http://www.ezboard.com/themes/traditional/newTopic.jpg border=0 alt="New Topic"></a>  &nbsp;&nbsp;<a href=http://p067.ezboard.com/feqcompanionfrm2.showAddPollScreenFromWeb><img src=http://www.ezboard.com/themes/traditional/newPoll.jpg border=0 alt="New Poll"></a>  &nbsp;&nbsp;<a self href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic><img src=http://www.ezboard.com/themes/traditional/addReply.jpg border=0 alt="Add Reply"></a>  </td></tr><tr><td align=left></td><td align=right> <br> <a href="http://p067.ezboard.com/feqcompanionfrm2.showPrevMessage?topicID=75.topic"> << Prev Topic</a>&nbsp;| <a href="http://p067.ezboard.com/feqcompanionfrm2.showNextMessage?topicID=75.topic"> Next Topic >> </a> </td></tr></table> <table border=0 cellpadding=0 cellspacing=0 width=95%><tr><td bgcolor=#000000><table border=0 width=100% cellpadding=5 cellspacing=1><tr><td valign=top bgcolor=#636347 class=headings><font color=#fcfefd>Author</font></td><td valign=top bgcolor=#636347 class=headings><font color=#fcfefd>Comment</font></td></tr><tr bgcolor=#deddbf><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/uxasam.showPublicProfile?language=EN>xasam</A></span><br> <span class=usertitle>Registered User</span><br>  Posts: 4<br> <font color=#330000>(10/7/02 10:53 am)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic>Reply</a>   </td><td valign=top align=left class=m><span class=title> Bad file number error</span><hr size=1> I frequently receive a bad file number error after a skill up in an active log file.  Most of the time I have to exit EQC and delete my PlayerName_SKills.DAT file.  I am guessing the skills file is not being opened when the jump to end of active log file option is used. <p></p><i></i></td></tr><tr bgcolor=#cccb9b><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/ueqcompanion.showPublicProfile?language=EN>EQ Companion</A></span><br> <span class=usertitle>Author</span><br>  Posts: 442<br> <font color=#330000>(10/7/02 11:25 am)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=1>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: Bad file number error</span><hr size=1> Oh, I will have to take a look at this. I'm pretty sure this is not the case, though, as I always use that 'jump to EOF' flag when I play my warrior and he just recently leveled to 56 so I have been receiving a lot of skill ups. I think that bad file number means exactly what you think, the file number is not open. I will take a look at under which circumstances I close the skills file. Maybe it gets closed when it should not have been.<br>
<br>
It sounds weird you would have to delete the skills.DAT file, though. Have you tried to just restart EQC and leave the file intact? If indeed deleting the file fixes the problem, I would be interested in seeing what the 'corrupt' file looks like. Perhaps you could e-mail it to me at kai@inreach.com next time this happens.<br>
<br>
Thanks for the error report! <p></p><i></i></td></tr><tr bgcolor=#deddbf><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/uxasam.showPublicProfile?language=EN>xasam</A></span><br> <span class=usertitle>Registered User</span><br>  Posts: 5<br> <font color=#330000>(10/9/02 9:44 am)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=2>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: Bad file number error - more info</span><hr size=1> I think it is related to changing the active file without restarting.  For example, open one active file, open another active file, reopen the intial active file.<br>
<br>
 <p></p><i></i></td></tr><tr bgcolor=#cccb9b><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/ueqcompanion.showPublicProfile?language=EN>EQ Companion</A></span><br> <span class=usertitle>Author</span><br>  Posts: 448<br> <font color=#330000>(10/9/02 9:50 am)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=3>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: Bad file number error - more info</span><hr size=1> Thanks for the added info! <p></p><i></i></td></tr><tr bgcolor=#deddbf><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/ueqcompanion.showPublicProfile?language=EN>EQ Companion</A></span><br> <span class=usertitle>Author</span><br>  Posts: 450<br> <font color=#330000>(10/9/02 6:00 pm)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=4>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: Bad file number error - more info</span><hr size=1> I looked at the code and I did not see anything obviously wrong with it. When ever you do get a skill increase, EQC will open a file called 'playername_Skills.DAT' and write all your current skill levels there. At the end of the procedure it will close the file. It uses file number 2 for this.<br>
<br>
It sounds like something that has happened before has left file #2 open but I was not able to see what it might be. I am using file #2 for pretty much every file EQC reads from / writes into.<br>
<br>
What I did was I am now using a 'FreeFile' function which will return the next available file number. That way if that file #2 is indeed still open, at least saving the skills file will not croak because of it.<br>
<br>
Hopefully this will fix your problem. It will be in version 0.7 which will hopefully be available soon. <p></p><i></i></td></tr><tr bgcolor=#cccb9b><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/beqcompanion.showUserPublicProfile?gid=brotherborder>BrotherBorder</A></span><br> <span class=usertitle>Registered User</span><br>  Posts: 1<br> <font color=#330000>(10/31/02 1:17 am)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=5>Reply</a>   </td><td valign=top align=left class=m><span class=title> on ver 7.1</span><hr size=1> Still getting the error with the skills file, so can't have been a file handles problem.<br>
<br>
Not sure if it's got anything to do with it, but it might; I use EQC on a different computer to my EQ machine, so it's polling the file across the network. <p></p><i></i></td></tr><tr bgcolor=#deddbf><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/beqcompanion.showUserPublicProfile?gid=eqcompanion>EQ Companion</A></span><br> <span class=usertitle>Author</span><br>  Posts: 479<br> <font color=#330000>(10/31/02 3:02 pm)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=6>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: on ver 7.1</span><hr size=1> That should be OK. That's how EQC is designed to be used and that's how I use it myself all the times. The skills file is always local to your EQC computer and the log file is opened across the network.<br>
<br>
I'll keep looking into this. Just to make sure - this does not happen with every skill increase, correct? <p></p><i></i></td></tr><tr bgcolor=#cccb9b><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/beqcompanion.showUserPublicProfile?gid=xasam>xasam</A></span><br> <span class=usertitle>Registered User</span><br>  Posts: 8<br> <font color=#330000>(11/18/02 5:27 am)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=7>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: on ver 7.1</span><hr size=1> This is not fixed in the latest version.  Still says &lt;Player_Name.dat&gt; or whatever on the error.  I think maybe you should just not try to save skill ups when the file name is equal to &lt;Player_Name.dat&gt; (e.g. null).<br>
<br>
 <p></p><i></i></td></tr><tr bgcolor=#deddbf><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/beqcompanion.showUserPublicProfile?gid=eqcompanion>EQ Companion</A></span><br> <span class=usertitle>Author</span><br>  Posts: 516<br> <font color=#330000>(11/26/02 10:30 am)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=8>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: on ver 7.1</span><hr size=1> What exactly does it say the file name is in the error message? The file it tries to open is:<br>
<br>
App.Path & "\" & PlayerName & "_Skills.DAT"<br>
<br>
where app.path is the path to where EQ Companion is and PlayerName is a variable that should equal to your player's name. If you open an active file EQC should always be able to get your character's name from the file name of the log file (eqlog_Silgurdar_85.txt).<br>
<br>
Just to make sure, your character's name does not have any weird character's in it (not sure if this would even be possible)? <p></p><i></i></td></tr><tr bgcolor=#cccb9b><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/beqcompanion.showUserPublicProfile?gid=xasam>xasam</A></span><br> <span class=usertitle>Registered User</span><br>  Posts: 9<br> <font color=#330000>(12/2/02 11:37 am)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=9>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: on ver 7.1</span><hr size=1> Sorry I wasn't exactly clear.  Just like before, the error actually says &quot;&lt;Player_Name.DAT&gt;&quot;.  If there is a skill up that occurs before EQ Companion has figured out the player's name, then there is an error and I have to restart.  I would suggest you check the code and if the player name is unknown (that is, equal to &lt;Player_Name&gt;) then just ignore skill ups. <p></p><i></i></td></tr><tr bgcolor=#deddbf><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/beqcompanion.showUserPublicProfile?gid=eqcompanion>EQ Companion</A></span><br> <span class=usertitle>Author</span><br>  Posts: 534<br> <font color=#330000>(12/2/02 1:45 pm)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=10>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: on ver 7.1</span><hr size=1> That's what I thought you meant. That does not make any sense to me, though, as when you open an active log file, EQC should get your character's name off from the log file name when the file is opened.<br>
<br>
Apparently this is not happening. I'll take a look into this.<br>
<br>
Thanks for the additional info! <p></p><i></i></td></tr><tr bgcolor=#cccb9b><td nowrap width=20% valign=top align=left><span class=title> <A HREF=http://pub59.ezboard.com/beqcompanion.showUserPublicProfile?gid=eqcompanion>EQ Companion</A></span><br> <span class=usertitle>Author</span><br>  Posts: 600<br> <font color=#330000>(1/23/03 11:51 pm)</font><br>   <a href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=11>Reply</a>   </td><td valign=top align=left class=m><span class=title> Re: on ver 7.1</span><hr size=1> I have now changed the default player name string from '&lt;PlayerName&gt;' into '(PlayerName)'. This way the '&lt;' and '&gt;' characters will not get into the skills file (or the new factions file) names any more.<br>
<br>
I still cannot figure out how come EQC cannot get the player name from the active log file's name, though.<br>
<br>
This will be in the upcoming 0.8 version. <p></p><i></i></td></tr></table> </td></tr></table> <table border=0 width=95%><tr><td align=left valign="top"> </td><td align=right valign="top"><a href="http://p067.ezboard.com/feqcompanionfrm2.showPrevMessage?topicID=75.topic"> << Prev Topic</a>&nbsp;| <a href="http://p067.ezboard.com/feqcompanionfrm2.showNextMessage?topicID=75.topic"> Next Topic >> </a><br><br><a self href=http://p067.ezboard.com/feqcompanionfrm2.showAddReplyScreenFromWeb?topicID=75.topic&index=11><img src=http://www.ezboard.com/themes/traditional/addReply.jpg border=0 alt="Add Reply"></a> </td></tr></table><br><table width=95% border=0><td valign="top"> <a href=http://p067.ezboard.com/feqcompanionfrm2.emailToFriend?topicID=75.topic><img src=http://www.ezboard.com/image/email.gif border=0 alt="Email This To a Friend"> Email This To a Friend</a><br> <a href=http://p067.ezboard.com/feqcompanionfrm2.threadControl?topicID=75.topic><img src=http://www.ezboard.com/themes/traditional/deleteThread.gif border=0 alt="Topic Control Image"> Topic Commands</a><br> <a href=http://p067.ezboard.com/feqcompanionfrm2.subscribeUnregisteredToTopic?topicID=75.topic><img src=http://www.ezboard.com/themes/ultimate/subscribe.gif width=20 height=20 border=0 alt="Click to receive email notification of replies"> Click to receive email notification of replies</a> <br>  <a href=http://p067.ezboard.com/feqcompanionfrm2.unsubscribeUnregisteredToTopic?topicID=75.topic><img src=http://www.ezboard.com/themes/ultimate/unsubscribe.gif width=20 height=20 border=0 alt="Click to stop receiving email notification of replies"> Click to stop receiving email notification of replies</a> <br> </td><td align="right" valign="top"></td></tr><tr align="right"><td colspan=2><form action=http://p067.ezboard.com/BBSForum.jumpShowForum method=post><table border="0" cellspacing="0" cellpadding="1"><tr><td><b>jump to:</b><select name=forumName><option value="eqcompanionfrm1">News<option value="eqcompanionfrm4">General<option value="eqcompanionfrm3">Feature suggestions<option value="eqcompanionfrm2">Bug reports<option value="eqcompanionfrm5">Fixed bugs</select></td><td><input type=submit value="Go" class=inputbutton></td></tr></table></form></td></tr></table><br><font color=#330000>- </font><a href=http://p067.ezboard.com/beqcompanion>EQ Companion</a><font color=#330000> - </font><a href=http://p067.ezboard.com/feqcompanionfrm2>Bug reports</a> <font color=#330000> - </font><a href="http://home.inreach.com/kai/EQCompanion">EQ Companion</a><font color=#330000> - </font><br><br>  <br><br>Powered By <a href=http://www.ezboard.com/>ezboard®</a> Ver. 7.31w<br>Copyright ©1999-2003 ezboard, Inc.</center></body></html>