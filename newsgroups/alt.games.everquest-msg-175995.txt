From -6397608890488488733
X-Google-Language: ENGLISH,ASCII-7-bit
X-Google-Thread: fb739,9ed632171fa05b95
X-Google-Attributes: gidfb739,public
X-Google-ArrivalTime: 2003-01-20 10:19:41 PST
Path: archiver1.google.com!news1.google.com!newsfeed.stanford.edu!news-spur1.maxwell.syr.edu!news.maxwell.syr.edu!sn-xit-03!sn-xit-06!sn-post-01!supernews.com!news.supernews.com!not-for-mail
From: "Bob Perez" <bob@DELETETHISplanetperez.com>
Newsgroups: alt.games.everquest
Subject: Re: Problems with Chat system - Firewall issue?
Date: Mon, 20 Jan 2003 10:06:28 -0800
Organization: PlanetPerez Productions
Message-ID: <v2oel5s6g81e11@news.supernews.com>
Reply-To: "Bob Perez" <bob@DELETETHISplanetperez.com>
References: <v2gr0l92p24ka3@news.supernews.com>
X-Priority: 3
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-Complaints-To: abuse@supernews.com
Lines: 42
Xref: archiver1.google.com alt.games.everquest:259684



<snip lengthy description of issue>

> Bob (next stop is to post this on the ShowEQ boards)

And it's a good thing I went to that source, the answer was posted quickly.
There is indeed a problem with SOHO firewalls and the EverQuest chat
channels, my experiences are entirely symptomatic of this problem. There is
a partial workaround. For those interested, here is the response I received:


"I own several SonicWALL SOHOs (from the original SOHO to the 3), they all
exhibit this behavior. I suspect that any stateful-inspection firewall has
the potential to cause this problem.

The reason, I believe, is that the state table timeouts for UDP connections
are consideribly shorter (and on the SonicWALL, not user settable). If the
chat channel(s) you are joined to at any one particular time are effectively
"silent" such that the UDP timers expire, the firewall thinks the connection
is closed, and removes the state entry from the table. When the chat server
tries to send subsequent chat traffic to your EQ client, it can't since the
firewall has once again blocked the port. And since the client doesn't ever
again submit the traffic that opened the ports in the first place, those
ports remain closed.

This problem is most likely to happen if you are joined to low-volume or no
chat channels at all, and can also happen during zoning, which seems to
suspend chat traffic. You can fix it by zoning or logging out and back in.
Another work around (which is what I use) is to join a high-volume channel
like #bazaar, and put it in a minimized chat box. It hasn't been a 100%
solution, but it has reduced the number of times that I've lost chat server
connectivity.

Unfortunately, since the UDP timers aren't adjustible on the SonicWALLs (and
probably many other makes of firewall), there's not much to be done or said
except that the chat server protocol was ill-concieved, and is not
firewall-friendly at all."

- Bob




