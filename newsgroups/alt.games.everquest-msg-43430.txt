From -7145993102556420559
X-Google-Language: ENGLISH,ASCII-7-bit
X-Google-Thread: fb739,ef48ca9afa63bac5
X-Google-Attributes: gidfb739,public
X-Google-ArrivalTime: 2001-09-20 12:27:04 PST
Path: archiver1.google.com!newsfeed.google.com!newsfeed.stanford.edu!news-spur1.maxwell.syr.edu!news.maxwell.syr.edu!sunqbc.risq.qc.ca!newsfeed.telusplanet.net!news0.telusplanet.net.POSTED!not-for-mail
From: "James" <jamesgrahame@home.com>
Newsgroups: alt.games.everquest
References: <7CJp7.178$No4.129514@news.uswest.net> <9o8qvp01sb8@enews2.newsguy.com> <bI7q7.3569$L47.1091770@news0.telusplanet.net> <2B8q7.1000$c4.25903242@ounews.ou.edu>
Subject: Re: Getting charmed and going LD
Lines: 82
X-Newsreader: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Message-ID: <7qrq7.6004$L47.1507927@news0.telusplanet.net>
Date: Thu, 20 Sep 2001 19:26:59 GMT
NNTP-Posting-Host: 216.232.76.240
X-Trace: news0.telusplanet.net 1001014019 216.232.76.240 (Thu, 20 Sep 2001 13:26:59 MDT)
NNTP-Posting-Date: Thu, 20 Sep 2001 13:26:59 MDT
Xref: archiver1.google.com alt.games.everquest:119516


Brian E. Parker wrote in message <2B8q7.1000$c4.25903242@ounews.ou.edu>...
>"James" <jamesgrahame@home.com> wrote in message
>>
>>     When you get charmed, you're wiped from the hate list of whatever
>> charmed you. So if charm drops when you're out of awareness range, it
>> doesn't know to come looking for you.
>
>That is what I always thought, but this happened last night:
>
>2 people are camping Hadden.  He pops, they take him down pretty quickly (
>lead with a 700pt Harmtouch, from what I could gather ), but before he goes
>down, Rephas charms the Lvl 50 Shadowknight ( makes no sense to me how a
guy
>that low can charm a lvl 50, but that's beside the point ).

    OK. So somehow SK gets on the hate list of Rephas enough that he
attacks. Given that at level 55 I blew apart Hadden and Rephas did nothing,
I know Rephas won't just jump in on a high level PC unless they sit. But you
said the SK used her pet! The pet is low enough level that I bet Rephas
aggroed off it! The druid didn't sit, so she isn't on Rephas's hate list.
And when Rephas aggroes off the pet, he goes after the pet's controller.....

>The SK kills
>her pet, and then charm breaks.

    SK kills pet attacking Hadden. Charm interacting with pet controllers is
just too odd, but from what little I've observed when the master is charmed
the pet continues with last orders as an independent NPC, which is why the
SK would attack it. Had charm not broken, I would assume that the SK (being
high enough level to aggro the druid) would have aggroed the druid. Had she
not attacked the SK back, though, I doubt Rephas would have joined in, as
he's too low to aggro the druid.

>Rephas, his pet, the SK, and the Druid that
>was there helping ( husband / wife team ) are all withing pinching distance
>of each other - and it just gets quiet.  Rephas didn't attack anyone.  His
>pet was just idling.

    Charm dropped. SK is cleared off Rephas's hate list, so Rephas won't
attack SK. Druid was never on Rephas's hate list, so he won't attack the
druid.

    "EQ's Engine" questions like this are very interesting to me, especially
given how tight lipped VI is about the nuts and bolts of the game. Here's a
related charm question I don't know the answer to for certain, and if anyone
does I'd love to hear. Player X is charmed by a mob that is non-KOS to
player Y. Player X had up no buffs prior to being charmed. Player Y casts a
Cancel Magic-type effect on Player X, stripping the charm. Does the mob
aggro Player Y? Is the "did someone cast a harmful spell on my pet" check
made before or after the "is the charm icon stripped by Cancel Magic" check?
My theory is that spell resolution effects are dealt with before hate list
checks - if you one-shot kill a pet owning NPC, the pet goes poof (known
fact, thanks to Hykallen in Lavastorm). That tells me that the pet never
gets the message that "you hate player X", as if I sit beside Hykallen to
aggro her and the pet THEN one-shot kill her, the pet stays. So a non-KOS PC
should be able to Cancel a charm without being attacked.

    Oh, and here's another timing issue I came across recently that
surprised me. I imagine so skills like Sense Heading could be coded the way
they are, checks to see if a skill increases occur AFTER the resolution of
the effect. That led to this, when my mage was soloing:

-Mage casts nuke, nuke lands.
-Resolution: nuke does X damage. Does this reduce mob's HPs to < 0? Yes.
    -If mob's HPs are less than zero (triggered sub-step of the nuke's
resolution), award XP.
        -If Xp is sufficient to level (triggered sub-step of the XP being
awarded), ding the player.
-End of resolving the nuke, do check for skill increase. This is where the
"if this skill is one that only increases off a success, check for success"
would have to go.

Result: You have become better at Evocation! (86) - she dinged from 16 to 17
off the kill, and this was the very next message she got.

    Um, sorry for wandering so far off topic. Oops. ;-)

    James





