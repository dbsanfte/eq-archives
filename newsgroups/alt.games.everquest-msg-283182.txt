From 4035480428160804701
X-Google-Thread: fb739,f9ac3659d772e2da
X-Google-Attributes: gidfb739,public
X-Google-Language: ENGLISH,ASCII-7-bit
Path: g2news2.google.com!news3.google.com!news.glorb.com!newsfeed-east.nntpserver.com!nntpserver.com!statler.nntpserver.com!newspeer1.nwr.nac.net!bbc!news-peer-lilac.gradwell.net!not-for-mail
Date: Wed, 24 May 2006 08:42:06 +0100
From: Tony <tony@[127.0.0.1]>
Reply-To:  tony@darkstorm.co.uk
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
Newsgroups: alt.games.everquest
Subject: Re: If anyone from Soe is reading (or can read) this...
References: <r3a672t3o0aa4vss9av8bjr59firstuj6c@4ax.com>
In-Reply-To: <r3a672t3o0aa4vss9av8bjr59firstuj6c@4ax.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Lines: 108
Message-ID: <44740e50$0$651$bed64819@news.gradwell.net>
NNTP-Posting-Host: 82.133.126.156
X-Trace: 1148456528 news.gradwell.net 651 darkstor/82.133.126.156:36840
X-Complaints-To: news-abuse@gradwell.net
Xref: g2news2.google.com alt.games.everquest:2290

Dude Rawr wrote:
> ... fix the damn pathing! Forget aboutt he next expansion, forget
> about the progressive server, forget about revamping the zones so
> everyone needs high end computer to play, and just concentrate on
> PATHING!!!

You should read the developer forums on the EQ Forums.

http://eqforums.station.sony.com/eq/board/message?board.id=DevCorner&message.id=12330

Posted in April, loads of updates since then but here's the starter for 10

"Hi everyone

As you may know I've been at fan faire for most of a week but now that 
I'm back I'm deep in the pathing system which is where I was when I 
left. Well I did take a little while this morning to organize my notes 
from FF about various code things we need to look into but after that I 
started getting back to pathing.

Here's the current plan with pathing:

    1. Figure out what's wrong
    2. Figure out options that will solve the problems.
    3. Extract the current pathing system into a standalone project (a 
'static library' for the technical types) and modify the zone server to 
use this reorganized form of the current code. This will allow me to do 
focused unit testing on the system, as well as easily swap between the 
current code and new code should any problems come up later.
    4. Have QA confirm that step 3 didn't change the behavior of the 
system, bugs and all.  This is done on my personal dev box to isolate 
Test server from major problems before we put it there.
    5. Put the reorganized code on test. Note there aren't going to be 
any actual fixes at this time, just reorganized code to allow fixed to 
be done in an isolated, modular manner.
    6. Implement changes that solve the problems.
    7. Put the fixes on my dev box and have QA check things out there. 
Work with them until known issues are solved.
    8. Put the code on test.


So where am I now with all this? I've been working on it with most of my 
time here at work for a while now, and here's the checklist:

1) I believe I understand the problems at this point. I did find one 
major bug that was a big part of why warping occurs, but we're going to 
not only fix the bug but also make general improvements which we believe 
will substantially reduce the zone's CPU load due to pathing while also 
improving the end result. Not a bad deal, assuming we're right. I am 
optimistic at this point.

2) If you've followed the threads you have seen the options discussed so 
I'll just get to what has been decided. Pathing will be implemented such 
that searches will be a series of smaller searches, each with a search 
budget smaller than what it is today. This will cause search failures to 
not stall the zone as NPCs burn huge amounts of time for no solution. 
They will follow their partial solution until they determine they are 
stuck. When this happens, the NPC will warp somewhere between the target 
and the NPC and the NPC will be guaranteed to reach the target from this 
warp location.

3) I finished the extraction before I left for fanfaire and had my 
server tested by QA while I was gone.

4) Today I was able to get confirmation that everything works as it did 
before in this newly reorganized setup.

5) We haven't put this code on test yet, I just got confirmation a few 
minutes ago. I need to update various people before we can do that.

6) I had implemented some of the fixes before the reorganization, but 
the invasive nature of the fixes is what prompted me to extract the 
pathing system into a module. I reverted my fixes before doing the code 
extraction, but I saved a copy of the changes to allow me to go through 
and put them in again which is a lot easier than doing it from scratch. 
When I was testing these changes before, I had to do some pretty extreme 
stuff to get any warps to occur at all. Like fly around outside the 
world. Not saying that it's perfect, but it was much much improved and I 
didn't see any problems with warping at all. There are a few things that 
need to be done in addition to what I already experimented with but I've 
already seen it work well enough that I'm confident it will make a huge 
improvement when it's done.

7) I'm about to start putting the fixes on my dev box. I need to get the 
current code prepped for Test server and checked in before I can do that 
though.

8) Going to be a while before we get to the point of putting the actual 
fixes on Test, probably a week or two is my guess. There are just too 
many things to regress to expect it any sooner.


Anyways, hope this helps answer any questions people may have or 
concerns that it's not being worked on. It's definitely being worked on 
actively both by myself and the QA department to make sure we get it right.

Eric Cosky - "Grumbuk"

Assistant Lead Programmer, EverQuest

Sony Online Entertainment"


-- 
Tony Evans
Saving trees and wasting electrons since 1993
blog -> http://perception-is-truth.blogspot.com/
[ anything below this line wasn't written by me ]


